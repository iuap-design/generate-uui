function isDomElement(t){return window.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType}function implement(t){var e,i;for(e in t)i=t[e],Class.Mutators.hasOwnProperty(e)?Class.Mutators[e].call(this,i):this.prototype[e]=i}function classify(t){return t.extend=Class.extend,t.implement=implement,t}function Ctor(){}function mix(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&-1===indexOf(i,n))continue;"prototype"!==n&&(t[n]=e[n])}}function _findRegisteredClass(t,e){for(var i=0;i<CompMgr.registeredControls.length;i++)if(CompMgr.registeredControls[i].className===t)return"undefined"!=typeof e&&(CompMgr.registeredControls[i]=e),CompMgr.registeredControls[i];return!1}function _getUpgradedListOfElement(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function _isElementUpgraded(t,e){var i=_getUpgradedListOfElement(t);return-1!=i.indexOf(e)}function _upgradeElement(t,e){if(!("object"==typeof t&&t instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var i=_getUpgradedListOfElement(t),n=[];if(e)_isElementUpgraded(t,e)||n.push(_findRegisteredClass(e));else for(var s=t.className,o=0;o<CompMgr.registeredControls.length;o++){var a=CompMgr.registeredControls[o];s.indexOf(a.cssClass)>-1&&-1===n.indexOf(a)&&!_isElementUpgraded(t,a.className)&&n.push(a)}for(var r,o=0,l=n.length;l>o;o++){if(r=n[o],!r)throw new Error("Unable to find a registered component for the given class.");if(!t[r.className]){i.push(r.className),t.setAttribute("data-upgraded",i.join(","));var u=new r.classConstructor(t);CompMgr.createdControls.push(u);for(var d=0,c=r.callbacks.length;c>d;d++)r.callbacks[d](t);t[r.className]=u}}}function _upgradeDomInternal(t,e,i){if("undefined"==typeof t&&"undefined"==typeof e)for(var n=0;n<CompMgr.registeredControls.length;n++)_upgradeDomInternal(CompMgr.registeredControls[n].className,registeredControls[n].cssClass,i);else{var s=t;if(!e){var o=_findRegisteredClass(s);o&&(e=o.cssClass)}var a;a=i?u.hasClass(i,e)?[i]:i.querySelectorAll("."+e):document.querySelectorAll("."+e);for(var r=0;r<a.length;r++)_upgradeElement(a[r],s)}}function BarrettMu_modulo(t){var e=RSAUtils,i=e.biDivideByRadixPower(t,this.k-1),n=e.biMultiply(i,this.mu),s=e.biDivideByRadixPower(n,this.k+1),o=e.biModuloByRadixPower(t,this.k+1),a=e.biMultiply(s,this.modulus),r=e.biModuloByRadixPower(a,this.k+1),l=e.biSubtract(o,r);l.isNeg&&(l=e.biAdd(l,this.bkplus1));for(var u=e.biCompare(l,this.modulus)>=0;u;)l=e.biSubtract(l,this.modulus),u=e.biCompare(l,this.modulus)>=0;return l}function BarrettMu_multiplyMod(t,e){var i=RSAUtils.biMultiply(t,e);return this.modulo(i)}function BarrettMu_powMod(t,e){var i=new BigInt;i.digits[0]=1;for(var n=t,s=e;;){if(0!=(1&s.digits[0])&&(i=this.multiplyMod(i,n)),s=RSAUtils.biShiftRight(s,1),0==s.digits[0]&&0==RSAUtils.biHighIndex(s))break;n=this.multiplyMod(n,n)}return i}function AbstractMasker(){}function AbstractSplitMasker(){}function AddressMasker(t){this.update(t)}function NumberMasker(t){this.update(t)}function CurrencyMasker(t){this.update(t)}function PercentMasker(t){this.update(t)}function toColorfulString(t){var e;return t?null==t.color?t.value:(e=t.color,'<font color="'+e+'">'+t.value+"</font>"):""}function StringElement(t){this.value=t}function FormatResult(t,e){this.value=t,this.color=e}function NumberFormater(t){this.precision=t}function DateFormater(t){this.pattern=t}function adjustDataType(t){var e=["integer","float","currency","percent","string","textarea"],i=t.type;t.dataType;-1!=e.indexOf(i)&&(t.dataType=i,t.type="originText")}function UNavLayoutTab(t,e,i,n){function s(){var s=t.href.split("#")[1],o=n._content.querySelector("#"+s);n._resetTabState(e),n._resetPanelState(i),u.addClass(t,n._CssClasses.IS_ACTIVE),u.addClass(o,n._CssClasses.IS_ACTIVE)}var o=document.createElement("span");u.addClass(o,"u-ripple"),t.appendChild(o),new URipple(t),u.on(t,"click",function(e){"#"===t.getAttribute("href").charAt(0)&&(e.preventDefault(),s())}),t.show=s,u.on(t,"click",function(s){s.preventDefault();var o=t.href.split("#")[1],a=n._content.querySelector("#"+o);n._resetTabState(e),n._resetPanelState(i),u.addClass(t,n._CssClasses.IS_ACTIVE),u.addClass(a,n._CssClasses.IS_ACTIVE)})}function _showPage(t,e){u.addClass(t,"current"),u.isIE8||u.isIE9||(t.style.transform="translate3d(0,0,0)")}function _hidePage(t,e,i){u.removeClass(t,"current"),u.isIE8||u.isIE9||(t.style.transform="translate3d("+i+"px,0,0)")}function Tab(t,e){if(t){var i=document.createElement("span");u.addClass(i,e._CssClasses.U_RIPPLE_CONTAINER),u.addClass(i,e._CssClasses.U_JS_RIPPLE_EFFECT);var n=document.createElement("span");u.addClass(n,e._CssClasses.U_RIPPLE),i.appendChild(n),t.appendChild(i),t.ripple=new u.Ripple(t),t.addEventListener("click",function(i){u.stopEvent(i);var n=t.href.split("#")[1],s=e.element.querySelector("#"+n);e.resetTabState_(),e.resetPanelState_(),u.addClass(t,e._CssClasses.ACTIVE_CLASS),u.addClass(s,e._CssClasses.ACTIVE_CLASS)})}}function findPos(t){for(var e=t.offsetLeft||0,i=t.offsetTop||0;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{x:e,y:i}}function indexOf(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1}function Plugin(t){return this.each(function(){var e=$(this),i=e.data("u.pagination"),n="object"==typeof t&&t;i?i.update(n):e.data("u.pagination",i=new Pagination(this,n))})}window.u=window.u||{};var u=window.u;if(u.polyfill=!0,u._addClass=function(t,e){var i,n,s,o,a,r=/[\t\r\n\f]/g,l="string"==typeof e&&e,u=/\S+/g;if(l&&(i=(e||"").match(u)||[],n=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(r," "):" "))){for(o=0;s=i[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=(n+"").trim(),t.className!==a&&(t.className=a)}return this},u._removeClass=function(t,e){var i,n,s,o,a,r=/\S+/g,l=/[\t\r\n\f]/g,u=0===arguments.length||"string"==typeof e&&e;if(u&&(i=(e||"").match(r)||[],n=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(l," "):""))){for(o=0;s=i[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");a=e?(n+"").trim():"",t.className!==a&&(t.className=a)}return this},u._hasClass=function(t,e){var i=/[\t\r\n\f]/g;return 1===t.nodeType&&(" "+t.className+" ").replace(i," ").indexOf(e)>=0},u._toggleClass=function(t,e){u._hasClass(t,e)?u._removeClass(t,e):u._addClass(t,e)},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*(\b.*\b|)\s*$/,"$1")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1}),Array.prototype.remove||(Array.prototype.remove=function(t){return 0>t||t>this.length?void alert("index out of bound"):void this.splice(t,1)}),Array.prototype.forEach||(Array.prototype.forEach=function(t){for(var e=0,i=this.length;i>e;e++)t(this[e],e,this)}),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),!window.HTMLElement){var _querySelectorAll=Element.prototype.querySelectorAll;Element.prototype.querySelectorAll=function(t){var e=_querySelectorAll.call(this,t);if(!isDomElement(this))return e;for(var i=[],n=0;n<e.length;n++)i.push(e[n]);return i};var _docquerySelectorAll=document.querySelectorAll;document.querySelectorAll=function(t){try{var e=_docquerySelectorAll.call(this,t),i=[];if(e.length>0){for(var n=0;n<e.length;n++)i.push(e[n]);return i}return e}catch(s){}}}Element.prototype.addEventListener||(Element.prototype.addEventListener=function(t,e){var i=this;this.attachEvent("on"+t,function(){e.apply(i,arguments)})}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){for(var e=this,i=[],n=1,s=arguments.length;s>n;n++)i.push(arguments[n]);return function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}}),window.getCurrentJsPath=function(){var t=document,e={},i=+new Date,n=/((?:http|https|file):\/\/.*?\/[^:]+)(?::\d+)?:\d+/,s=-1===(""+t.querySelector).indexOf("[native code]");if(t.currentScript)return t.currentScript.src;var o;try{e.b()}catch(a){o=a.fileName||a.sourceURL||a.stack||a.stacktrace}if(o){var r=n.exec(o)[1];if(r)return r}for(var l,u=t.scripts,d=u.length-1;l=u[d--];)if(l.className!==i&&"interactive"===l.readyState)return l.className=i,s?l.getAttribute("src",4):l.src},window.encodeBase64=function(t){for(var e,i,n,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=t.length,r="";a>o;){if(e=255&t[o++],o==a){r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4),r+="==";break}if(i=t[o++],o==a){r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4|(240&i)>>4),r+=s.charAt((15&i)<<2),r+="=";break}n=t[o++],r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4|(240&i)>>4),r+=s.charAt((15&i)<<2|(192&n)>>6),r+=s.charAt(63&n)}return r},function(t){"use strict";function e(){b(!0)}var i={};t.respond=i,i.update=function(){};var n=[],s=function(){var e=!1;try{e=new t.XMLHttpRequest}catch(i){e=new t.ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}(),o=function(t,e){var i=s();i&&(i.open("GET",t,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||e(i.responseText)},4!==i.readyState&&i.send(null))},a=function(t){return t.replace(i.regex.minmaxwh,"").match(i.regex.other)};if(i.ajax=o,i.queue=n,i.unsupportedmq=a,i.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^\/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},i.mediaQueriesSupported=t.matchMedia&&null!==t.matchMedia("only all")&&t.matchMedia("only all").matches,!i.mediaQueriesSupported){var r,l,u,d=t.document,c=d.documentElement,h=[],p=[],f=[],m={},v=30,g=d.getElementsByTagName("head")[0]||c,_=d.getElementsByTagName("base")[0],C=g.getElementsByTagName("link"),y=function(){var t,e=d.createElement("div"),i=d.body,n=c.style.fontSize,s=i&&i.style.fontSize,o=!1;return e.style.cssText="position:absolute;font-size:1em;width:1em",i||(i=o=d.createElement("body"),i.style.background="none"),c.style.fontSize="100%",i.style.fontSize="100%",i.appendChild(e),o&&c.insertBefore(i,c.firstChild),t=e.offsetWidth,o?c.removeChild(i):i.removeChild(e),c.style.fontSize=n,s&&(i.style.fontSize=s),t=u=parseFloat(t)},b=function(e){var i="clientWidth",n=c[i],s="CSS1Compat"===d.compatMode&&n||d.body[i]||n,o={},a=C[C.length-1],m=(new Date).getTime();if(e&&r&&v>m-r)return t.clearTimeout(l),void(l=t.setTimeout(b,v));r=m;for(var _ in h)if(h.hasOwnProperty(_)){var w=h[_],k=w.minw,S=w.maxw,x=null===k,M=null===S,D="em";k&&(k=parseFloat(k)*(k.indexOf(D)>-1?u||y():1)),S&&(S=parseFloat(S)*(S.indexOf(D)>-1?u||y():1)),w.hasquery&&(x&&M||!(x||s>=k)||!(M||S>=s))||(o[w.media]||(o[w.media]=[]),o[w.media].push(p[w.rules]))}for(var E in f)f.hasOwnProperty(E)&&f[E]&&f[E].parentNode===g&&g.removeChild(f[E]);f.length=0;for(var T in o)if(o.hasOwnProperty(T)){var A=d.createElement("style"),R=o[T].join("\n");A.type="text/css",A.media=T,g.insertBefore(A,a.nextSibling),A.styleSheet?A.styleSheet.cssText=R:A.appendChild(d.createTextNode(R)),f.push(A)}},w=function(t,e,n){var s=t.replace(i.regex.comments,"").replace(i.regex.keyframes,"").match(i.regex.media),o=s&&s.length||0;e=e.substring(0,e.lastIndexOf("/"));var r=function(t){return t.replace(i.regex.urls,"$1"+e+"$2$3")},l=!o&&n;e.length&&(e+="/"),l&&(o=1);for(var u=0;o>u;u++){var d,c,f,m;l?(d=n,p.push(r(t))):(d=s[u].match(i.regex.findStyles)&&RegExp.$1,p.push(RegExp.$2&&r(RegExp.$2))),f=d.split(","),m=f.length;for(var v=0;m>v;v++)c=f[v],a(c)||h.push({media:c.split("(")[0].match(i.regex.only)&&RegExp.$2||"all",rules:p.length-1,hasquery:c.indexOf("(")>-1,minw:c.match(i.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:c.match(i.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}b()},k=function(){if(n.length){var e=n.shift();o(e.href,function(i){w(i,e.href,e.media),m[e.href]=!0,t.setTimeout(function(){k()},0)})}},S=function(){for(var e=0;e<C.length;e++){var i=C[e],s=i.href,o=i.media,a=i.rel&&"stylesheet"===i.rel.toLowerCase();s&&a&&!m[s]&&(i.styleSheet&&i.styleSheet.rawCssText?(w(i.styleSheet.rawCssText,s,o),m[s]=!0):(/^([a-zA-Z:]*\/\/)/.test(s)||_)&&s.replace(RegExp.$1,"").split("/")[0]!==t.location.host||("//"===s.substring(0,2)&&(s=t.location.protocol+s),n.push({href:s,media:o})))}k()};S(),i.update=S,i.getEmValue=y,t.addEventListener?t.addEventListener("resize",e,!1):t.attachEvent&&t.attachEvent("onresize",e)}}(this);var U_LANGUAGES="i_languages",U_THEME="u_theme",U_LOCALE="u_locale",U_USERCODE="usercode",enumerables=!0,enumerablesTest={toString:1},toString=Object.prototype.toString;for(var i in enumerablesTest)enumerables=null;enumerables&&(enumerables=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),window.u=window.u||{};var u=window.u;if(u.enumerables=enumerables,u.extend=function(t,e){var i,n=arguments;if(n.length>1)for(var s=1;s<n.length;s++)if(i=n[s],t&&i&&"object"==typeof i){var o,a,r;for(o in i)t[o]=i[o];if(enumerables)for(a=enumerables.length;a--;)r=enumerables[a],i.hasOwnProperty&&i.hasOwnProperty(r)&&(t[r]=i[r])}return t},u.extend(u,{setCookie:function(t,e,i,n,s,o){var a=t+"="+encodeURIComponent(e);i&&(a+="; expires="+i.toGMTString()),n&&(a+="; path="+n),s&&(a+="; domain="+s),o&&(a+="; secure="+o),document.cookie=a},getCookie:function(t){var e="(?:; )?"+t+"=([^;]*);?",i=new RegExp(e);return i.test(document.cookie)?decodeURIComponent(RegExp.$1):null},createShellObject:function(t){var e=function(){};return e.prototype=t,new e},execIgnoreError:function(t,e,i){try{t.call(e,i)}catch(n){}},on:function(t,e,i,n){if(t){if(arguments.length<4)n=i,i=void 0;else var s=function(e){if(e){var s=t.querySelectorAll(i);s.forEach(function(t){t==e.target&&n.call(e.target,e)})}};if(t.uEvent||(t.uEvent={}),t.uEvent[e]){var o=i?s:n,a=!1;t.uEvent[e].forEach(function(t){t==o&&(a=!0)}),a||t.uEvent[e].push(i?s:n)}else t.uEvent[e]=[i?s:n],u.event&&u.event[e]&&u.event[e].setup&&u.event[e].setup.call(t),t.uEvent[e+"fn"]=function(i){i||(i="undefined"!=typeof event&&event?event:window.event);var n=i;t.uEvent[e].forEach(function(e){try{n.target=n.target||n.srcElement}catch(i){}e&&e.call(t,n)})},t.addEventListener?t.addEventListener(e,t.uEvent[e+"fn"]):t.attachEvent?t.attachEvent("on"+e,t.uEvent[e+"fn"]):t["on"+e]=t.uEvent[e+"fn"]}},off:function(t,e,i){if(i)return void(t&&t.uEvent&&t.uEvent[e]&&t.uEvent[e].forEach(function(n,s){n==i&&t.uEvent[e].splice(s,1)}));var n=t.uEvent[e+"fn"];t.removeEventListener?t.removeEventListener(e,n):t.removeEvent?t.removeEvent("on"+e,n):delete t["on"+e],u.event&&u.event[e]&&u.event[e].teardown&&u.event[e].teardown.call(t),t.uEvent[e]=void 0,t.uEvent[e+"fn"]=void 0},trigger:function(t,e){t.uEvent&&t.uEvent[e]&&t.uEvent[e+"fn"]()},addClass:function(t,e){return"undefined"==typeof t.classList?u._addClass&&u._addClass(t,e):t.classList.add(e),u},removeClass:function(t,e){return"undefined"==typeof t.classList?u._removeClass&&u._removeClass(t,e):t.classList.remove(e),u},hasClass:function(t,e){return t&&(!t.nodeName||"#text"!==t.nodeName&&"#comment"!==t.nodeName)?"undefined"==typeof t.classList?u._hasClass?u._hasClass(t,e):!1:t.classList.contains(e):!1},toggleClass:function(t,e){return"undefined"==typeof t.classList?u._toggleClass(t,e):t.classList.toggle(e)},closest:function(t,e){for(var i=t;null!=i&&!u.hasClass(i,e)&&i!=document.body;)i=i.parentNode;return i==document.body?null:i},css:function(t,e,i){if(e instanceof Object)for(var n in e){var s=e[n];["width","height","top","bottom","left","right"].indexOf(n)>-1&&u.isNumber(s)&&(s+="px"),t.style[n]=s}else{if(!(arguments.length>2))return u.getStyle(t,e);t.style[e]=i}},wrap:function(t,e){var i=u.makeDOM(e);t.parentNode.insertBefore(i,t),i.appendChild(t)},getStyle:function(t,e){var i;return i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,void 0!==i[e]?i[e]:""},getZIndex:function(){return u.globalZIndex||(u.globalZIndex=2e3),u.globalZIndex++},makeDOM:function(t){var e=document.createElement("div");e.innerHTML=t;var i=e.children[0];return i},makeModal:function(t,e){var i=document.createElement("div");return u.addClass(i,"u-overlay"),i.style.zIndex=u.getZIndex(),e&&e!=document.body?(u.addClass(i,"hasPar"),e.appendChild(i)):document.body.appendChild(i),t.style.zIndex=u.getZIndex(),u.on(i,"click",function(t){u.stopEvent(t)}),i},getOffset:function(t,e){return e||(e={},e.top=0,e.left=0),t==document.body?e:(e.top+=t.offsetTop,e.left+=t.offsetLeft,t.offsetParent?u.getOffset(t.offsetParent,e):e)},getScroll:function(t,e){return e||(e={},e.top=0,e.left=0),t==document.body?(e.top+=t.scrollTop||document.documentElement.scrollTop,e.left+=t.scrollLeft||document.documentElement.scrollLeft,e):(e.top+=t.scrollTop,e.left+=t.scrollLeft,t.parentNode?u.getScroll(t.parentNode,e):e)},showPanelByEle:function(t){var e=t.ele,i=t.panel,n=t.position,s=u.getOffset(e),o=u.getScroll(e),a=s.left,r=s.top,l=o.left,d=o.top,c=e.offsetWidth,h=e.offsetHeight,p=i.offsetWidth,f=i.offsetHeight,n=(document.body.clientWidth,document.body.clientHeight,n||"top"),m=a-l,v=r-d;"left"==n?(m-=p,v+=(h-f)/2):"right"==n?(m+=c,v+=(h-f)/2):"top"==n||"topCenter"==n?(m+=(c-p)/2,v-=f):"bottom"==n||"bottomCenter"==n?(m+=(c-p)/2,v+=h):"bottomLeft"==n&&(m=m,v+=h),i.style.left=m+"px",i.style.top=v+"px"},stopEvent:function(t){"undefined"!=typeof t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1)},getFunction:function(t,e){if(!e||"function"==typeof e)return e;if("function"==typeof t[e])return t[e];if("function"==typeof window[e])return window[e];if(-1!=e.indexOf(".")){var i=u.getJSObject(t,e);if("function"==typeof i)return i;if(i=u.getJSObject(window,e),"function"==typeof i)return i}return e},getJSObject:function(t,e){if(e){if("object"==typeof e)return e;for(var i=e.split("."),n=t,s=0;s<i.length;s++)if(n=n[i[s]],!n)return null;return n}},isDate:function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date},isNumber:function(t){return t-parseFloat(t)+1>=0},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},inArray:function(t,e){if(!e instanceof Array)throw"arguments is not Array";for(var i=0,n=e.length;n>i;i++)if(t==e[i])return!0;return!1},each:function(t,e){if(t.forEach)t.forEach(function(t,i){e(i,t)});else{if(!(t instanceof Object))return;for(var i in t)e(i,t[i])}}}),function(){var t={},e={},i={},n={},s={"float":{precision:2},datetime:{format:"YYYY-MM-DD HH:mm:ss",metaType:"DateTimeFormatMeta",speratorSymbol:"-"},time:{format:"HH:mm"},date:{format:"YYYY-MM-DD"},currency:{precision:2,curSymbol:"￥"},percent:{}};n.getEnvironment=function(){return u.createShellObject(t)},n.getClientAttributes=function(){return u.createShellObject(e)},n.setContextPath=function(e){return t[IWEB_CONTEXT_PATH]=e},n.getContextPath=function(e){return t[IWEB_CONTEXT_PATH]},n.setClientAttribute=function(t,i){e[t]=i},n.getSessionAttributes=function(){return u.createShellObject(i)},n.setSessionAttribute=function(t,e){i[t]=e,setCookie("ISES_"+t,e)},n.removeClientAttribute=function(t){e[t]=null,execIgnoreError(function(){delete e[t]})},n.getLocale=function(){return this.getEnvironment().locale},n.getLanguages=function(){return this.getEnvironment().languages},n.collectEnvironment=function(){var t=this.getEnvironment(),i=this.getSessionAttributes();for(var n in e)i[n]=e[n];return t.clientAttributes=i,t},n.setMaskerMeta=function(t,e){if("function"==typeof t)getMetaFunc=t;else if(s[t])if("object"!=typeof e)s[t]=e;else for(var i in e)s[t][i]=e[i];else s[t]=e},n.getMaskerMeta=function(t){if("function"==typeof getMetaFunc){var e=getMetaFunc.call(this);return e[t]}return u.extend({},s[t])},t.languages=u.getCookie(U_LANGUAGES)?u.getCookie(U_LANGUAGES).split(","):navigator.language?navigator.language:"zh-CN","zh-cn"==t.languages&&(t.languages="zh-CN"),"en-us"==t.languages&&(t.languages="en-US"),t.theme=u.getCookie(U_THEME),t.locale=u.getCookie(U_LOCALE),t.usercode=u.getCookie(U_USERCODE),document.cookie.replace(/ISES_(\w*)=([^;]*);?/gi,function(t,e,n){i[e]=n});var o=function(){};o.prototype=n,u.core=new o}(),u.extend(u,{isIE:!1,isFF:!1,isOpera:!1,isChrome:!1,isSafari:!1,isWebkit:!1,isIE8_BEFORE:!1,isIE8:!1,isIE8_CORE:!1,isIE9:!1,isIE9_CORE:!1,isIE10:!1,isIE10_ABOVE:!1,isIE11:!1,isIOS:!1,isIphone:!1,isIPAD:!1,isStandard:!1,version:0,isWin:!1,isUnix:!1,isLinux:!1,isAndroid:!1,isMac:!1,hasTouch:!1,isMobile:!1}),function(){var t,e,i=navigator.userAgent,n=/(msie\s|trident.*rv:)([\w.]+)/,s=/(firefox)\/([\w.]+)/,o=/(opera).+version\/([\w.]+)/,a=/(chrome)\/([\w.]+)/,r=/version\/([\w.]+).*(safari)/,l=i.toLowerCase(),d={browser:"",version:""},c=n.exec(l);if(null!=c&&(d={browser:"IE",version:c[2]||"0"}),c=s.exec(l),null!=c&&(d={browser:c[1]||"",version:c[2]||"0"}),c=o.exec(l),null!=c&&(d={browser:c[1]||"",version:c[2]||"0"}),c=a.exec(l),null!=c&&(d={browser:c[1]||"",version:c[2]||"0"}),c=r.exec(l),null!=c&&(d={browser:c[2]||"",version:c[1]||"0"}),null!=c&&(d={browser:"",version:"0"}),(e=l.match(/opera.([\d.]+)/))?u.isOpera=!0:"IE"==d.browser&&11==d.version?(u.isIE11=!0,u.isIE=!0):(e=l.match(/chrome\/([\d.]+)/))?(u.isChrome=!0,u.isStandard=!0):(e=l.match(/version\/([\d.]+).*safari/))?(u.isSafari=!0,u.isStandard=!0):(e=l.match(/gecko/))?(u.isFF=!0,u.isStandard=!0):(e=l.match(/msie ([\d.]+)/))?u.isIE=!0:(e=l.match(/firefox\/([\d.]+)/))&&(u.isFF=!0,u.isStandard=!0),l.match(/webkit\/([\d.]+)/)&&(u.isWebkit=!0),l.match(/ipad/i)&&(u.isIOS=!0,u.isIPAD=!0,u.isStandard=!0),l.match(/iphone/i)&&(u.isIOS=!0,u.isIphone=!0),"Mac68K"!=navigator.platform&&"MacPPC"!=navigator.platform&&"Macintosh"!=navigator.platform&&"MacIntel"!=navigator.platform||(u.isMac=!0),"Win32"!=navigator.platform&&"Windows"!=navigator.platform&&"Win64"!=navigator.platform||(u.isWin=!0),"X11"!=navigator.platform||u.isWin||u.isMac||(u.isUnix=!0),String(navigator.platform).indexOf("Linux")>-1&&(u.isLinux=!0),(l.indexOf("Android")>-1||l.indexOf("android")>-1||l.indexOf("Adr")>-1||l.indexOf("adr")>-1)&&(u.isAndroid=!0),u.version=t&&d.version?d.version:0,u.isIE){var h=parseInt(u.version),p=document.documentMode;null==p?6!=h&&7!=h||(u.isIE8_BEFORE=!0):(7==p?u.isIE8_BEFORE=!0:8==p?u.isIE8=!0:9==p?(u.isIE9=!0,u.isSTANDARD=!0):10==p?(u.isIE10=!0,u.isSTANDARD=!0,u.isIE10_ABOVE=!0):u.isSTANDARD=!0,8==h?u.isIE8_CORE=!0:9==h?u.isIE9_CORE=!0:11==d.version&&(u.isIE11=!0))}"ontouchend"in document&&(u.hasTouch=!0),(u.isIOS||u.isAndroid)&&(u.isMobile=!0)}(),u.isIE8_BEFORE)throw alert("uui 不支持IE8以前的浏览器版本，请更新IE浏览器或使用其它浏览器！"),new Error("uui 不支持IE8以前的浏览器版本，请更新IE浏览器或使用其它浏览器！");if(u.isIE8&&!u.polyfill)throw alert("IE8浏览器中使用uui 必须在u.js之前引入u-polyfill.js!"),new Error("IE8浏览器中使用uui 必须在uui之前引入u-polyfill.js!");window.iweb={},window.iweb.Core=u.core,window.iweb.browser={isIE:u.isIE,isFF:u.isFF,isOpera:u.isOpera,isChrome:u.isChrome,isSafari:u.isSafari,isWebkit:u.isWebkit,isIE8_BEFORE:u.isIE8_BEFORE,isIE8:u.isIE8,isIE8_CORE:u.isIE8_CORE,isIE9:u.isIE9,isIE9_CORE:u.isIE9_CORE,isIE10:u.isIE10,isIE10_ABOVE:u.isIE10_ABOVE,isIE11:u.isIE11,isIOS:u.isIOS,isIphone:u.isIphone,isIPAD:u.isIPAD,isStandard:u.isStandard,version:0,isWin:u.isWin,isUnix:u.isUnix,isLinux:u.isLinux,isAndroid:u.isAndroid,isMac:u.isMac,hasTouch:u.hasTouch},u.isDomElement=function(t){return window.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType},u.event={};var touchStartEvent=u.hasTouch?"touchstart":"mousedown",touchStopEvent=u.hasTouch?"touchend":"mouseup",touchMoveEvent=u.hasTouch?"touchmove":"mousemove";u.event.tap={tapholdThreshold:750,emitTapOnTaphold:!0,touchstartFun:function(){u.trigger(this,"vmousedown")},touchendFun:function(){u.trigger(this,"vmouseup"),u.trigger(this,"vclick")},setup:function(){var t=this,e=!1;u.on(t,"vmousedown",function(i){function n(){clearTimeout(a)}function s(){n(),u.off(t,"vclick"),u.off(t,"vmouseup"),u.off(document,"vmousecancel")}function o(i){s(),e||r!==i.target?e&&i.preventDefault():u.trigger(t,"tap")}if(e=!1,i.which&&1!==i.which)return!1;var a,r=i.target;u.on(t,"vmouseup",n),u.on(t,"vclick",o),u.on(document,"vmousecancel",s),a=setTimeout(function(){u.event.tap.emitTapOnTaphold||(e=!0),u.trigger(t,"taphold"),s()},u.event.tap.tapholdThreshold)}),u.on(t,"touchstart",u.event.tap.touchstartFun),u.on(t,"touchend",u.event.tap.touchendFun)},teardown:function(){u.off(thisObject,"vmousedown"),u.off(thisObject,"vclick"),u.off(thisObject,"vmouseup"),u.off(document,"vmousecancel")}},u.event.taphold=u.event.tap,u.event.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var e=window.pageXOffset,i=window.pageYOffset,n=t.clientX,s=t.clientY;return 0===t.pageY&&Math.floor(s)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(n)>Math.floor(t.pageX)?(n-=e,s-=i):(s<t.pageY-i||n<t.pageX-e)&&(n=t.pageX-e,s=t.pageY-i),{x:n,y:s}},start:function(t){var e=t.touches?t.touches[0]:t,i=u.event.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:t.target}},stop:function(t){var e=t.touches?t.touches[0]:t,i=u.event.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(t,e,i,n){if(e.time-t.time<u.event.swipe.durationThreshold&&Math.abs(t.coords[0]-e.coords[0])>u.event.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-e.coords[1])<u.event.swipe.verticalDistanceThreshold){var s=t.coords[0]>e.coords[0]?"swipeleft":"swiperight";return u.trigger(i,"swipe"),u.trigger(i,s),!0}return!1},eventInProgress:!1,setup:function(){var t,e=this,i={};t=e["mobile-events"],t||(t={length:0},e["mobile-events"]=t),t.length++,t.swipe=i,i.start=function(t){if(!u.event.swipe.eventInProgress){u.event.swipe.eventInProgress=!0;var n,s=u.event.swipe.start(t),o=t.target,a=!1;i.move=function(t){s&&(n=u.event.swipe.stop(t),a||(a=u.event.swipe.handleSwipe(s,n,e,o),a&&(u.event.swipe.eventInProgress=!1)),Math.abs(s.coords[0]-n.coords[0])>u.event.swipe.scrollSupressionThreshold&&t.preventDefault())},i.stop=function(){a=!0,u.event.swipe.eventInProgress=!1,u.off(document,touchMoveEvent,i.move),i.move=null},u.on(document,touchMoveEvent,i.move),u.on(document,touchStopEvent,i.stop)}},u.on(e,touchStartEvent,i.start)},teardown:function(){var t,e;t=thisObject["mobile-events"],t&&(e=t.swipe,delete t.swipe,t.length--,0===t.length&&(thisObject["mobile-events"]=null)),e&&(e.start&&u.off(thisObject,touchStartEvent,e.start),e.move&&u.off(document,touchMoveEvent,e.move),e.stop&&u.off(document,touchStopEvent,e.stop))}},u.event.swipeleft=u.event.swipe,u.event.swiperight=u.event.swipe,NodeList.prototype.forEach=Array.prototype.forEach,String.prototype.lengthb=function(){var t=this.replace(/[^\x00-\xff]/g,"**");return t.length},String.prototype.replaceAll=function(t,e){var i=new RegExp(t,"g");return this.replace(i,e)};var XmlHttp={get:"get",post:"post",reqCount:4,createXhr:function(){var t=null;return u.isIE8?t=new ActiveXObject("Microsoft.XMLHTTP"):u.isIE?t=new ActiveXObject("Msxml2.XMLHTTP"):window.XMLHttpRequest&&(t=new XMLHttpRequest),t},ajax:function(t){var e=t.url,i=t.success,n=void 0==t.async?!0:t.async,s=t.error,o=t.data||{},a=(void 0==t.type?XmlHttp.post:t.type).toLowerCase();o.compressType;e=XmlHttp.serializeUrl(e),o=XmlHttp.serializeParams(o),a==XmlHttp.get&&null!=o&&(e+="&"+o,o=null);var r=XmlHttp.createXhr();r.open(a,e,n),a==XmlHttp.post&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8");var l=0;n?(r.onreadystatechange=function(){l++,r.readyState==XmlHttp.reqCount&&XmlHttp.execBack(r,i,s)},r.send(o)):(r.send(o),XmlHttp.execBack(r,i,s))},execBack:function(t,e,i){if(200==t.status||304==t.status||4==t.readyState)e(t.responseText,t.status,t);else if(i)i(t.responseText,t.status,t);else{var n="no error callback function!";t.responseText&&(n=t.responseText),alert(n)}},serializeUrl:function(t){var e="cache="+Math.random();return t+=t.indexOf("?")>0?"&"+e:"?"+e},serializeParams:function(t){var e=void 0;if(e==t||null==t||""==t)return null;if(t.constructor==Object){var i="";for(var n in t)i+=n+"="+encodeURIComponent(t[n])+"&";return i.substring(0,i.length-1)}return t}};u.ajax=XmlHttp.ajax;var Class=function(t){return this instanceof Class||!isFunction(t)?void 0:classify(t)};Class.create=function(t,e){function i(){var e;return t.apply(this,arguments),this.constructor===i&&this.initialize&&(e=this.initialize.apply(this,arguments)),e?e:this}return isFunction(t)||(e=t,t=null),e||(e={}),t||(t=e.Extends||Class),e.Extends=t,t!==Class&&mix(i,t,t.StaticsWhiteList),implement.call(i,e),classify(i)},Class.extend=function(t){return t||(t={}),t.Extends=this,Class.create(t)},Class.Mutators={Extends:function(t){var e=this.prototype,i=createProto(t.prototype);mix(i,e),i.constructor=this,this.prototype=i,this.superclass=t.prototype},Implements:function(t){isArray(t)||(t=[t]);for(var e,i=this.prototype;e=t.shift();)mix(i,e.prototype||e)},Statics:function(t){mix(this,t)}};var createProto=Object.__proto__?function(t){return{__proto__:t}}:function(t){return Ctor.prototype=t,new Ctor},toString=Object.prototype.toString,isArray=Array.isArray||function(t){return"[object Array]"===toString.call(t)},isFunction=function(t){return"[object Function]"===toString.call(t)},indexOf=function(t,e){if(Array.prototype.indexOf&&t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};u.Class=Class;var CompMgr={plugs:{},dataAdapters:{},registeredControls:[],createdControls:[],apply:function(t){if(t)var e=t.el||document.body,i=t.model;"string"==typeof e&&(e=document.body.querySelector(e)),null!=e&&"object"==typeof e||(e=document.body);var n=e.querySelectorAll("[u-meta]");n.forEach(function(t){if(!t.comp){var e=JSON.parse(t.getAttribute("u-meta"));if(e&&e.type){var n=CompMgr.createDataAdapter({el:t,options:e,model:i});n&&(t.adpt=n,t["u-meta"]=n)}}})},addPlug:function(t){var e=t.plug,i=t.name;if(this.plugs||(this.plugs={}),this.plugs[i])throw new Error("plug has exist:"+i);e.compType=i,this.plugs[i]=e},addDataAdapter:function(t){var e=t.adapter,i=t.name;if(this.dataAdapters||(dataAdapters={}),this.dataAdapters[i])throw new Error("dataAdapter has exist:"+i);this.dataAdapters[i]=e},getDataAdapter:function(t){return t?(this.dataAdapters||(dataAdapters={}),this.dataAdapters[t]):void 0},createDataAdapter:function(t){var e=t.options,i=e.type,n=e.id,s=this.dataAdapters[i];if(!s)return null;var o=new s(t);return o.type=i,o.id=n,o},_createComp:function(t){var e=t.options,i=e.type,n=this.plugs[i];if(!n)return null;var s=new n(t);return s.type=i,s},regComp:function(t){var e={classConstructor:t.comp,className:t.compAsString||t.compAsString,cssClass:t.css||t.css,callbacks:[]};t.comp.prototype.compType=t.compAsString;for(var i=0;i<this.registeredControls.length;i++){var n=this.registeredControls[i];if(n.cssClass===e.cssClass)throw new Error("The provided cssClass has already been registered: "+n.cssClass);if(n.className===e.className)throw new Error("The provided className has already been registered")}this.registeredControls.push(e)},updateComp:function(t){for(var e=0;e<this.registeredControls.length;e++)_upgradeDomInternal(this.registeredControls[e].className,null,t)}};u.compMgr=CompMgr,window.trans=u.trans=function(t,e){return u.uuii18n?u.uuii18n.t("uui-trans:"+t):e},"undefined"==typeof u.RSAUtils&&(u.RSAUtils={});var RSAUtils=u.RSAUtils,biRadixBase=2,biRadixBits=16,bitsPerDigit=biRadixBits,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxInteger=9999999999999998,maxDigits,ZERO_ARRAY,bigZero,bigOne,BigInt=u.BigInt=function(t){"boolean"==typeof t&&1==t?this.digits=null:this.digits=ZERO_ARRAY.slice(0),this.isNeg=!1};RSAUtils.setMaxDigits=function(t){maxDigits=t,ZERO_ARRAY=new Array(maxDigits);for(var e=0;e<ZERO_ARRAY.length;e++)ZERO_ARRAY[e]=0;bigZero=new BigInt,
bigOne=new BigInt,bigOne.digits[0]=1},RSAUtils.setMaxDigits(20);var dpl10=15;RSAUtils.biFromNumber=function(t){var e=new BigInt;e.isNeg=0>t,t=Math.abs(t);for(var i=0;t>0;)e.digits[i++]=t&maxDigitVal,t=Math.floor(t/biRadix);return e};var lr10=RSAUtils.biFromNumber(1e15);RSAUtils.biFromDecimal=function(t){for(var e,i="-"==t.charAt(0),n=i?1:0;n<t.length&&"0"==t.charAt(n);)++n;if(n==t.length)e=new BigInt;else{var s=t.length-n,o=s%dpl10;for(0==o&&(o=dpl10),e=RSAUtils.biFromNumber(Number(t.substr(n,o))),n+=o;n<t.length;)e=RSAUtils.biAdd(RSAUtils.biMultiply(e,lr10),RSAUtils.biFromNumber(Number(t.substr(n,dpl10)))),n+=dpl10;e.isNeg=i}return e},RSAUtils.biCopy=function(t){var e=new BigInt(!0);return e.digits=t.digits.slice(0),e.isNeg=t.isNeg,e},RSAUtils.reverseStr=function(t){for(var e="",i=t.length-1;i>-1;--i)e+=t.charAt(i);return e};var hexatrigesimalToChar=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];RSAUtils.biToString=function(t,e){var i=new BigInt;i.digits[0]=e;for(var n=RSAUtils.biDivideModulo(t,i),s=hexatrigesimalToChar[n[1].digits[0]];1==RSAUtils.biCompare(n[0],bigZero);)n=RSAUtils.biDivideModulo(n[0],i),digit=n[1].digits[0],s+=hexatrigesimalToChar[n[1].digits[0]];return(t.isNeg?"-":"")+RSAUtils.reverseStr(s)},RSAUtils.biToDecimal=function(t){var e=new BigInt;e.digits[0]=10;for(var i=RSAUtils.biDivideModulo(t,e),n=String(i[1].digits[0]);1==RSAUtils.biCompare(i[0],bigZero);)i=RSAUtils.biDivideModulo(i[0],e),n+=String(i[1].digits[0]);return(t.isNeg?"-":"")+RSAUtils.reverseStr(n)};var hexToChar=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];RSAUtils.digitToHex=function(t){for(var e=15,i="",n=0;4>n;++n)i+=hexToChar[t&e],t>>>=4;return RSAUtils.reverseStr(i)},RSAUtils.biToHex=function(t){for(var e="",i=(RSAUtils.biHighIndex(t),RSAUtils.biHighIndex(t));i>-1;--i)e+=RSAUtils.digitToHex(t.digits[i]);return e},RSAUtils.charToHex=function(t){var e,i=48,n=i+9,s=97,o=s+25,a=65,r=90;return e=t>=i&&n>=t?t-i:t>=a&&r>=t?10+t-a:t>=s&&o>=t?10+t-s:0},RSAUtils.hexToDigit=function(t){for(var e=0,i=Math.min(t.length,4),n=0;i>n;++n)e<<=4,e|=RSAUtils.charToHex(t.charCodeAt(n));return e},RSAUtils.biFromHex=function(t){for(var e=new BigInt,i=t.length,n=i,s=0;n>0;n-=4,++s)e.digits[s]=RSAUtils.hexToDigit(t.substr(Math.max(n-4,0),Math.min(n,4)));return e},RSAUtils.biFromString=function(t,e){var i="-"==t.charAt(0),n=i?1:0,s=new BigInt,o=new BigInt;o.digits[0]=1;for(var a=t.length-1;a>=n;a--){var r=t.charCodeAt(a),l=RSAUtils.charToHex(r),u=RSAUtils.biMultiplyDigit(o,l);s=RSAUtils.biAdd(s,u),o=RSAUtils.biMultiplyDigit(o,e)}return s.isNeg=i,s},RSAUtils.biDump=function(t){return(t.isNeg?"-":"")+t.digits.join(" ")},RSAUtils.biAdd=function(t,e){var i;if(t.isNeg!=e.isNeg)e.isNeg=!e.isNeg,i=RSAUtils.biSubtract(t,e),e.isNeg=!e.isNeg;else{i=new BigInt;for(var n,s=0,o=0;o<t.digits.length;++o)n=t.digits[o]+e.digits[o]+s,i.digits[o]=n%biRadix,s=Number(n>=biRadix);i.isNeg=t.isNeg}return i},RSAUtils.biSubtract=function(t,e){var i;if(t.isNeg!=e.isNeg)e.isNeg=!e.isNeg,i=RSAUtils.biAdd(t,e),e.isNeg=!e.isNeg;else{i=new BigInt;var n,s;s=0;for(var o=0;o<t.digits.length;++o)n=t.digits[o]-e.digits[o]+s,i.digits[o]=n%biRadix,i.digits[o]<0&&(i.digits[o]+=biRadix),s=0-Number(0>n);if(-1==s){s=0;for(var o=0;o<t.digits.length;++o)n=0-i.digits[o]+s,i.digits[o]=n%biRadix,i.digits[o]<0&&(i.digits[o]+=biRadix),s=0-Number(0>n);i.isNeg=!t.isNeg}else i.isNeg=t.isNeg}return i},RSAUtils.biHighIndex=function(t){for(var e=t.digits.length-1;e>0&&0==t.digits[e];)--e;return e},RSAUtils.biNumBits=function(t){var e,i=RSAUtils.biHighIndex(t),n=t.digits[i],s=(i+1)*bitsPerDigit;for(e=s;e>s-bitsPerDigit&&0==(32768&n);--e)n<<=1;return e},RSAUtils.biMultiply=function(t,e){for(var i,n,s,o=new BigInt,a=RSAUtils.biHighIndex(t),r=RSAUtils.biHighIndex(e),l=0;r>=l;++l){i=0,s=l;for(var u=0;a>=u;++u,++s)n=o.digits[s]+t.digits[u]*e.digits[l]+i,o.digits[s]=n&maxDigitVal,i=n>>>biRadixBits;o.digits[l+a+1]=i}return o.isNeg=t.isNeg!=e.isNeg,o},RSAUtils.biMultiplyDigit=function(t,e){var i,n,s,o=new BigInt;i=RSAUtils.biHighIndex(t),n=0;for(var a=0;i>=a;++a)s=o.digits[a]+t.digits[a]*e+n,o.digits[a]=s&maxDigitVal,n=s>>>biRadixBits;return o.digits[1+i]=n,o},RSAUtils.arrayCopy=function(t,e,i,n,s){for(var o=Math.min(e+s,t.length),a=e,r=n;o>a;++a,++r)i[r]=t[a]};var highBitMasks=[0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535];RSAUtils.biShiftLeft=function(t,e){var i=Math.floor(e/bitsPerDigit),n=new BigInt;RSAUtils.arrayCopy(t.digits,0,n.digits,i,n.digits.length-i);for(var s=e%bitsPerDigit,o=bitsPerDigit-s,a=n.digits.length-1,r=a-1;a>0;--a,--r)n.digits[a]=n.digits[a]<<s&maxDigitVal|(n.digits[r]&highBitMasks[s])>>>o;return n.digits[0]=n.digits[a]<<s&maxDigitVal,n.isNeg=t.isNeg,n};var lowBitMasks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];RSAUtils.biShiftRight=function(t,e){var i=Math.floor(e/bitsPerDigit),n=new BigInt;RSAUtils.arrayCopy(t.digits,i,n.digits,0,t.digits.length-i);for(var s=e%bitsPerDigit,o=bitsPerDigit-s,a=0,r=a+1;a<n.digits.length-1;++a,++r)n.digits[a]=n.digits[a]>>>s|(n.digits[r]&lowBitMasks[s])<<o;return n.digits[n.digits.length-1]>>>=s,n.isNeg=t.isNeg,n},RSAUtils.biMultiplyByRadixPower=function(t,e){var i=new BigInt;return RSAUtils.arrayCopy(t.digits,0,i.digits,e,i.digits.length-e),i},RSAUtils.biDivideByRadixPower=function(t,e){var i=new BigInt;return RSAUtils.arrayCopy(t.digits,e,i.digits,0,i.digits.length-e),i},RSAUtils.biModuloByRadixPower=function(t,e){var i=new BigInt;return RSAUtils.arrayCopy(t.digits,0,i.digits,0,e),i},RSAUtils.biCompare=function(t,e){if(t.isNeg!=e.isNeg)return 1-2*Number(t.isNeg);for(var i=t.digits.length-1;i>=0;--i)if(t.digits[i]!=e.digits[i])return t.isNeg?1-2*Number(t.digits[i]>e.digits[i]):1-2*Number(t.digits[i]<e.digits[i]);return 0},RSAUtils.biDivideModulo=function(t,e){var i,n,s=RSAUtils.biNumBits(t),o=RSAUtils.biNumBits(e),a=e.isNeg;if(o>s)return t.isNeg?(i=RSAUtils.biCopy(bigOne),i.isNeg=!e.isNeg,t.isNeg=!1,e.isNeg=!1,n=biSubtract(e,t),t.isNeg=!0,e.isNeg=a):(i=new BigInt,n=RSAUtils.biCopy(t)),[i,n];i=new BigInt,n=t;for(var r=Math.ceil(o/bitsPerDigit)-1,l=0;e.digits[r]<biHalfRadix;)e=RSAUtils.biShiftLeft(e,1),++l,++o,r=Math.ceil(o/bitsPerDigit)-1;n=RSAUtils.biShiftLeft(n,l),s+=l;for(var u=Math.ceil(s/bitsPerDigit)-1,d=RSAUtils.biMultiplyByRadixPower(e,u-r);-1!=RSAUtils.biCompare(n,d);)++i.digits[u-r],n=RSAUtils.biSubtract(n,d);for(var c=u;c>r;--c){var h=c>=n.digits.length?0:n.digits[c],p=c-1>=n.digits.length?0:n.digits[c-1],f=c-2>=n.digits.length?0:n.digits[c-2],m=r>=e.digits.length?0:e.digits[r],v=r-1>=e.digits.length?0:e.digits[r-1];h==m?i.digits[c-r-1]=maxDigitVal:i.digits[c-r-1]=Math.floor((h*biRadix+p)/m);for(var g=i.digits[c-r-1]*(m*biRadix+v),_=h*biRadixSquared+(p*biRadix+f);g>_;)--i.digits[c-r-1],g=i.digits[c-r-1]*(m*biRadix|v),_=h*biRadix*biRadix+(p*biRadix+f);d=RSAUtils.biMultiplyByRadixPower(e,c-r-1),n=RSAUtils.biSubtract(n,RSAUtils.biMultiplyDigit(d,i.digits[c-r-1])),n.isNeg&&(n=RSAUtils.biAdd(n,d),--i.digits[c-r-1])}return n=RSAUtils.biShiftRight(n,l),i.isNeg=t.isNeg!=a,t.isNeg&&(i=a?RSAUtils.biAdd(i,bigOne):RSAUtils.biSubtract(i,bigOne),e=RSAUtils.biShiftRight(e,l),n=RSAUtils.biSubtract(e,n)),0==n.digits[0]&&0==RSAUtils.biHighIndex(n)&&(n.isNeg=!1),[i,n]},RSAUtils.biDivide=function(t,e){return RSAUtils.biDivideModulo(t,e)[0]},RSAUtils.biModulo=function(t,e){return RSAUtils.biDivideModulo(t,e)[1]},RSAUtils.biMultiplyMod=function(t,e,i){return RSAUtils.biModulo(RSAUtils.biMultiply(t,e),i)},RSAUtils.biPow=function(t,e){for(var i=bigOne,n=t;;){if(0!=(1&e)&&(i=RSAUtils.biMultiply(i,n)),e>>=1,0==e)break;n=RSAUtils.biMultiply(n,n)}return i},RSAUtils.biPowMod=function(t,e,i){for(var n=bigOne,s=t,o=e;;){if(0!=(1&o.digits[0])&&(n=RSAUtils.biMultiplyMod(n,s,i)),o=RSAUtils.biShiftRight(o,1),0==o.digits[0]&&0==RSAUtils.biHighIndex(o))break;s=RSAUtils.biMultiplyMod(s,s,i)}return n},u.BarrettMu=function(t){this.modulus=RSAUtils.biCopy(t),this.k=RSAUtils.biHighIndex(this.modulus)+1;var e=new BigInt;e.digits[2*this.k]=1,this.mu=RSAUtils.biDivide(e,this.modulus),this.bkplus1=new BigInt,this.bkplus1.digits[this.k+1]=1,this.modulo=BarrettMu_modulo,this.multiplyMod=BarrettMu_multiplyMod,this.powMod=BarrettMu_powMod};var RSAKeyPair=function(t,e,i){var n=RSAUtils;this.e=n.biFromHex(t),this.d=n.biFromHex(e),this.m=n.biFromHex(i),this.chunkSize=2*n.biHighIndex(this.m),this.radix=16,this.barrett=new u.BarrettMu(this.m)};RSAUtils.getKeyPair=function(t,e,i){return new RSAKeyPair(t,e,i)},"undefined"==typeof u.twoDigit&&(u.twoDigit=function(t){return(10>t?"0":"")+String(t)}),RSAUtils._encryptedString=function(t,e){for(var i=[],n=e.length,s=0;n>s;)i[s]=e.charCodeAt(s),s++;for(;i.length%t.chunkSize!=0;)i[s++]=0;var o,a,r,l=i.length,u="";for(s=0;l>s;s+=t.chunkSize){for(r=new BigInt,o=0,a=s;a<s+t.chunkSize;++o,a++)r.digits[o]=i[a],r.digits[o]+=i[a]<<8;var d=t.barrett.powMod(r,t.e),c=16==t.radix?RSAUtils.biToHex(d):RSAUtils.biToString(d,t.radix);u+=c+" "}return u.substring(0,u.length-1)},RSAUtils._decryptedString=function(t,e){var i,n,s,o=e.split(" "),a="";for(i=0;i<o.length;++i){var r;for(r=16==t.radix?RSAUtils.biFromHex(o[i]):RSAUtils.biFromString(o[i],t.radix),s=t.barrett.powMod(r,t.d),n=0;n<=RSAUtils.biHighIndex(s);++n)a+=String.fromCharCode(255&s.digits[n],s.digits[n]>>8)}return 0==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},RSAUtils.setMaxDigits(130),RSAUtils.encryptedString=function(t){var e=t.text;if(t.exponent&&t.modulus){var i=RSAUtils.getKeyPair(t.exponent,"",t.modulus);e=RSAUtils._encryptedString(i,t.text)}return e},RSAUtils.decryptedString=function(t){var e=t.text;if(t.exponent&&t.modulus){var i=RSAUtils.getKeyPair("",t.exponent,t.modulus);e=RSAUtils._decryptedString(i,t.text)}return e},AbstractMasker.prototype.format=function(t){if(null==t)return null;var e=this.formatArgument(t);return this.innerFormat(e)},AbstractMasker.prototype.formatArgument=function(t){},AbstractMasker.prototype.innerFormat=function(t){},AbstractSplitMasker.prototype=new AbstractMasker,AbstractSplitMasker.prototype.elements=new Array,AbstractSplitMasker.prototype.format=function(t){if(null==t)return null;var e=this.formatArgument(t);return this.innerFormat(e)},AbstractSplitMasker.prototype.formatArgument=function(t){return t},AbstractSplitMasker.prototype.innerFormat=function(t){if(null==t||""==t)return new FormatResult(t);this.doSplit();var e="";return e=this.getElementsValue(this.elements,t),new FormatResult(e)},AbstractSplitMasker.prototype.getElementsValue=function(t,e){var i="";if(t instanceof Array)for(var n=0;n<t.length;n++)i+=this.getElementsValue(t[n],e);else t.getValue&&(i=t.getValue(e));return i},AbstractSplitMasker.prototype.getExpress=function(){},AbstractSplitMasker.prototype.doSplit=function(){var t=this.getExpress();null!=this.elements&&0!=this.elements.length||(this.elements=this.doQuotation(t,this.getSeperators(),this.getReplaceds(),0))},AbstractSplitMasker.prototype.doQuotation=function(t,e,i,n){if(0==t.length)return null;var s,o=new Array,a=new RegExp('".*?"',"g"),r=0;do if(s=a.exec(t),null!=s){var l=s.index,u=a.lastIndex;if(l!=u&&l>r){var d=this.doSeperator(t.substring(r,l),e,i,n);null!=d&&d.length>0&&o.push(d)}o.push(new StringElement(t.substring(l+1,u-1))),r=u}while(null!=s);if(r<t.length){var d=this.doSeperator(t.substring(r,t.length),e,i,n);null!=d&&d.length>0&&o.push(d)}return o},AbstractSplitMasker.prototype.doSeperator=function(t,e,i,n){if(n>=e.length){var s=new Array;return s.push(this.getVarElement(t)),s}if(0==t.length)return null;var o,a=0,s=new Array,r=new RegExp(e[n],"g");do if(o=r.exec(t),null!=o){var l=o.index,u=r.lastIndex;if(l!=u){if(l>a){var d=this.doSeperator(t.substring(a,l),e,i,n+1);null!=d&&d.length>0&&s.push(d)}null!=i[n]?s.push(new StringElement(i[n])):s.push(new StringElement(t.substring(l,u))),a=u}}while(null!=o);if(a<t.length){var d=this.doSeperator(t.substring(a,t.length),e,i,n+1);null!=d&&d.length>0&&s.push(d)}return s},AddressMasker.prototype=new AbstractSplitMasker,AddressMasker.prototype.update=function(t){this.formatMeta=u.extend({},AddressMasker.DefaultFormatMeta,t)},AddressMasker.prototype.getExpress=function(){return this.formatMeta.express},AddressMasker.prototype.getReplaceds=function(){return[this.formatMeta.separator]},AddressMasker.prototype.getSeperators=function(){return["(\\s)+?"]},AddressMasker.prototype.getVarElement=function(t){var e={};return"C"==t&&(e.getValue=function(t){return t.country}),"S"==t&&(e.getValue=function(t){return t.state}),"T"==t&&(e.getValue=function(t){return t.city}),"D"==t&&(e.getValue=function(t){return t.section}),"R"==t&&(e.getValue=function(t){return t.road}),"P"==t&&(e.getValue=function(t){return t.postcode}),void 0==typeof e.getValue?new StringElement(t):e},AddressMasker.prototype.formatArgument=function(t){return t},NumberMasker.prototype=new AbstractMasker,NumberMasker.prototype.formatMeta=null,NumberMasker.prototype.update=function(t){this.formatMeta=u.extend({},NumberMasker.DefaultFormatMeta,t)},NumberMasker.prototype.innerFormat=function(t){var e,i,n,s;e=t.value,e>0?(i=this.formatMeta.positiveFormat,s=e+""):0>e?(i=this.formatMeta.negativeFormat,s=(e+"").substr(1,(e+"").length-1)):(i=this.formatMeta.positiveFormat,s=e+""),n=s.indexOf("."),s=this.setTheSeperator(s,n),s=this.setTheMark(s,n);var o=null;return 0>e&&this.formatMeta.isNegRed&&(o="FF0000"),new FormatResult(i.replaceAll("n",s),o)},NumberMasker.prototype.setTheMark=function(t,e){var i,n,s;if(!this.formatMeta.isMarkEnable)return t;for(0>=e&&(e=t.length),n=t.charCodeAt(0),i=0,45==n&&(i=1),s=e-3;s>i;)t=t.substr(0,s-0)+this.formatMeta.markSymbol+t.substr(s,t.length-s),s-=3;return t},NumberMasker.prototype.setTheSeperator=function(t,e){var i;return e>0&&(i=NumberMasker.toCharArray(t),i[e]=this.formatMeta.pointSymbol,t=i.join("")),t},NumberMasker.toCharArray=function(t){for(var t=t.split(""),e=new Array,i=0;i<t.length;i++)e.push(t[i]);return e},NumberMasker.prototype.formatArgument=function(t){var e={};return e.value=t,e},CurrencyMasker.prototype=new NumberMasker,CurrencyMasker.prototype.formatMeta=null,CurrencyMasker.prototype.update=function(t){this.formatMeta=u.extend({},CurrencyMasker.DefaultFormatMeta,t)},CurrencyMasker.prototype.innerFormat=function(t){if(!t.value)return{value:""};var e=new NumberMasker(this.formatMeta).innerFormat(t);return e.value=this.formatMeta.curSymbol+e.value,e},PercentMasker.prototype=new NumberMasker,PercentMasker.prototype.update=function(t){this.formatMeta=u.extend({},NumberMasker.DefaultFormatMeta,t)},PercentMasker.prototype.formatArgument=function(t){return t},PercentMasker.prototype.innerFormat=function(t){var e="";if(""!=t){var i=new NumberMasker(this.formatMeta).innerFormat({value:t}).value,n=String(i),s=n.length-n.indexOf(".")-1,o=s-2;0>o&&(o=0),e=100*parseFloat(i),e=(e*Math.pow(10,o)/Math.pow(10,o)).toFixed(o),e+="%"}return{value:e}},StringElement.prototype=new Object,StringElement.prototype.value="",StringElement.prototype.getValue=function(t){return this.value},FormatResult.prototype=new Object,NumberMasker.DefaultFormatMeta={isNegRed:!0,isMarkEnable:!0,markSymbol:",",pointSymbol:".",positiveFormat:"n",negativeFormat:"-n"},CurrencyMasker.DefaultFormatMeta=u.extend({},NumberMasker.DefaultFormatMeta,{positiveFormat:"n",negativeFormat:"-n"}),AddressMasker.defaultFormatMeta={express:"C S T R P",separator:" "},u.AddressMasker=AddressMasker,u.NumberMasker=NumberMasker,u.CurrencyMasker=CurrencyMasker,u.PercentMasker=PercentMasker,NumberFormater.prototype.update=function(t){this.precision=t},NumberFormater.prototype.format=function(t){if(!u.isNumber(t))return"";for(;"0"==(t+"").charAt(0)&&t.length>1&&0!=(t+"").indexOf("0.");)t=t.substring(1);var e=t;if(u.isNumber(this.precision)){if(window.BigNumber)e=new BigNumber(t).toFixed(this.precision);else{var i=parseFloat(t);e=(Math.round(i*Math.pow(10,this.precision))/Math.pow(10,this.precision)).toFixed(this.precision)}if("NaN"==e)return""}return e},DateFormater.prototype.update=function(t){this.pattern=t},DateFormater.prototype.format=function(t){return moment(t).format(this.pattern)},u.NumberFormater=NumberFormater,u.DateFormater=DateFormater,u.date={_dateLocale:{"zh-CN":{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_")},"en-US":{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thurday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"S_M_T_W_T_F_S".split("_")}},_formattingTokens:/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYY|YY|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,leftZeroFill:function(t,e,i){for(var n=""+Math.abs(t),s=t>=0;n.length<e;)n="0"+n;return(s?i?"+":"":"-")+n},_formats:{YY:function(t){return u.date.leftZeroFill(t.getFullYear()%100,2)},YYYY:function(t){return t.getFullYear()},M:function(t){return t.getMonth()+1},MM:function(t){var e=u.date._formats.M(t);return u.date.leftZeroFill(e,2)},MMM:function(t,e){var i=t.getMonth();return u.date._dateLocale[e].monthsShort[i]},MMMM:function(t,e){var i=t.getMonth();return u.date._dateLocale[e].months[i]},D:function(t){return t.getDate()},DD:function(t){var e=u.date._formats.D(t);return u.date.leftZeroFill(e,2)},d:function(t){return t.getDay()},dd:function(t,e){var i=u.date._formats.d(t);return u.date._dateLocale[e].weekdaysMin[i]},ddd:function(t,e){var i=u.date._formats.d(t);return u.date._dateLocale[e].weekdaysShort[i]},dddd:function(t,e){var i=u.date._formats.d(t);return u.date._dateLocale[e].weekdays[i]},a:function(t){return t.getHours()>12?"pm":"am"},h:function(t){var e=t.getHours();return e=e>12?e-12:e},hh:function(t){var e=u.date._formats.h(t);return u.date.leftZeroFill(e,2)},H:function(t){return t.getHours()},HH:function(t){return u.date.leftZeroFill(t.getHours(),2)},m:function(t){return t.getMinutes()},mm:function(t){return u.date.leftZeroFill(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return u.date.leftZeroFill(t.getSeconds(),2)}},format:function(t,e,i){if(!t)return t;var n,s,o=e.match(u.date._formattingTokens),a="",r=u.date.getDateObj(t);if(!r)return t;for(i=i||u.core.getLanguages(),n=0,s=o.length;s>n;n++)a+=u.date._formats[o[n]]?u.date._formats[o[n]](r,i):o[n];return a},_addOrSubtract:function(t,e,i,n){var s=t.getTime(),o=t.getDate(),a=t.getMonth(),r=u.date.getDateObj(t);return"ms"===e?(s+=i*n,r.setTime(s)):"s"==e?(s+=1e3*i*n,r.setTime(s)):"m"==e?(s+=6e4*i*n,r.setTime(s)):"h"==e?(s+=36e5*i*n,r.setTime(s)):"d"==e?(o+=i*n,r.setDate(o)):"w"==e?(o+=7*i*n,r.setDate(o)):"M"==e?(a+=i*n,r.setMonth(o)):"y"==e&&(a+=12*i*n,r.setMonth(o)),r},add:function(t,e,i){return u.date._addOrSubtract(t,e,i,1)},sub:function(t,e,i){return u.date._addOrSubtract(t,e,i,-1)},getDateObj:function(t){if(!t||"undefined"==typeof t)return t;var e=!1,i=new Date(t);if(isNaN(i)){var n,s,o,a,r,l;if(n=t.indexOf("-"),s=t.indexOf(":"),o=t.indexOf(" "),n>0||s>0||o>0)i=new Date,o>0?(l=t.split(" "),a=l[0].split("-"),r=l[1].split(":")):n>0?a=t.split("-"):s>0&&(r=t.split(":")),a&&a.length>0&&(i.setYear(a[0]),i.setMonth(parseInt(a[1]-1)),i.setDate(a[2]?a[2]:0),e=!0),r&&r.length>0&&(i.setHours(r[0]?r[0]:0),i.setMinutes(r[1]?r[1]:0),i.setSeconds(r[2]?r[2]:0),e=!0);else{if(i=new Date(parseInt(t)),isNaN(i))throw new TypeError("invalid Date parameter");e=!0}}else e=!0;return e?i:null}},u.floatRender=function(t,e){var i=t;if("undefined"==typeof t||null===t)return t;"function"==typeof t&&(i=t());var n=u.core.getMaskerMeta("float")||{};"number"==typeof e&&(n.precision=e);var s=new u.NumberFormater(n.precision),o=new NumberMasker(n);return o.format(s.format(i)).value},u.integerRender=function(t){var e=t;return"undefined"==typeof t||null===t?t:("function"==typeof t&&(e=t()),e)};var _dateRender=function(t,e,i){var n=t;if("undefined"==typeof t||null===t)return t;"function"==typeof t&&(n=t());var s=u.core.getMaskerMeta(i)||{};"undefined"!=typeof e&&(s.format=e);var o=u.date.format(n,s.format);return o};u.dateRender=function(t,e){return _dateRender(t,e,"date")},u.dateTimeRender=function(t,e){return _dateRender(t,e,"datetime")},u.timeRender=function(t,e){return _dateRender(t,e,"time")},u.percentRender=function(t){var e=t;if("undefined"==typeof t||null===t)return t;"function"==typeof t&&(e=t());var i=u.core.getMaskerMeta("percent")||{},n=new PercentMasker(i),s=n.format(e);return s&&s.value?s.value:""},u.dateToUTCString=function(t){if(!t)return"";t.indexOf("-")>-1&&(t=t.replace(/\-/g,"/"));var e=Date.parse(t);return isNaN(e)?"":e};var _hotkeys={};_hotkeys.special_keys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},_hotkeys.shift_nums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},_hotkeys.add=function(t,e,i){u.isFunction(e)&&(i=e,e={});var n={},s={type:"keydown",propagate:!1,disableInInput:!1,target:document.body,checkParent:!0},o=this;n=u.extend(n,s,e||{}),t=t.toLowerCase();var a=function(t){var e=this;if(e=3==e.nodeType?e.parentNode:e,n.disableInInput){var i=e;if("INPUT"==i.tagName||"TEXTAREA"==i.tagName)return}var s=t.which,a=t.type,r=String.fromCharCode(s).toLowerCase(),l=o.special_keys[s],u=t.shiftKey,d=t.ctrlKey,c=t.altKey,h=null;if(n.checkParent)for(;!e["u.hotkeys"]&&e.parentNode;)e=e.parentNode;var p=e["u.hotkeys"].events[a].callbackMap;if(u||d||c){var f="";c&&(f+="alt+"),d&&(f+="ctrl+"),u&&(f+="shift+"),h=p[f+l]||p[f+r]||p[f+o.shift_nums[r]]}else h=p[l]||p[r];return h&&(h.cb(t),!h.propagate)?(t.stopPropagation(),t.preventDefault(),!1):void 0},r=n.target["u.hotkeys"];return r||(n.target["u.hotkeys"]=r={events:{}}),r.events[n.type]||(r.events[n.type]={callbackMap:{}},u.on(n.target,n.type,a)),r.events[n.type].callbackMap[t]={cb:i,propagate:n.propagate},u.hotkeys},_hotkeys.remove=function(t,e){e=e||{},target=e.target||document.body,type=e.type||"keydown",t=t.toLowerCase(),delete target["u.hotkeys"].events[type].callbackMap[t]},_hotkeys.scan=function(t,e){t=t||document.body,t.querySelectorAll("[u-enter]").forEach(function(i){var n=i.getAttribute("u-enter");if(n)if("#"==n.substring(0,1))u.hotkeys.add("enter",{target:this},function(){var e=t.querySelector(n);e&&e.focus()});else{e=e||window;var s=u.getFunction(e,n);u.hotkeys.add("enter",{target:this},function(){s.call(this)})}}),t.querySelectorAll("[u-hotkey]").forEach(function(t){var e=t.getAttribute("u-hotkey");e&&u.hotkeys.add(e,function(){t.click()})})},u.hotkeys=_hotkeys;var BaseComponent=u.Class.create({initialize:function(t){u.isDomElement(t)?(this.element=t,this.options={}):(this.element=t.el,this.options=t),this.element="string"==typeof this.element?document.querySelector(this.element):this.element,this.compType=this.compType||this.constructor.compType,this.element[this.compType]=this,this.element.init=!0,this.init()},on:function(t,e){t=t.toLowerCase(),this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e}),this},trigger:function(t){if(t=t.toLowerCase(),!this._events||!this._events[t])return this;for(var e=Array.prototype.slice.call(arguments,1),i=this._events[t],n=0,s=i.length;s>n;n++)i[n].callback.apply(this,e);return this},init:function(){},render:function(){},destroy:function(){delete this.element.comp,this.element.innerHTML=""},addDomEvent:function(t,e){return u.on(this.element,t,e),this},removeDomEvent:function(t,e){return u.off(this.element,t,e),this},setEnable:function(t){return this},isDomEvent:function(t){return void 0!==this.element["on"+t]},createDateAdapter:function(t){var e=t.options,i=(t.model,u.compMgr.getDataAdapter(this.compType,e.dataType));i&&(this.dataAdapter=new i(this,t))},Statics:{compName:"",EVENT_VALUE_CHANGE:"valueChange",getName:function(){return this.compName}}});u.BaseComponent=BaseComponent;var URipple=function(t){u.isIE8||(this._element=t,this.init())};URipple.prototype._down=function(t){if(!u.isIE8){if(!this._rippleElement.style.width&&!this._rippleElement.style.height){var e=this._element.getBoundingClientRect();this.rippleSize_=2*Math.sqrt(e.width*e.width+e.height*e.height)+2,this._rippleElement.style.width=this.rippleSize_+"px",this._rippleElement.style.height=this.rippleSize_+"px"}if(u.addClass(this._rippleElement,"is-visible"),"mousedown"===t.type&&this._ignoringMouseDown)this._ignoringMouseDown=!1;else{"touchstart"===t.type&&(this._ignoringMouseDown=!0);var i=this.getFrameCount();if(i>0)return;this.setFrameCount(1);var n,s,o=t.currentTarget||t.target||t.srcElement,a=o.getBoundingClientRect();if(0===t.clientX&&0===t.clientY)n=Math.round(a.width/2),s=Math.round(a.height/2);else{var r=t.clientX?t.clientX:t.touches[0].clientX,l=t.clientY?t.clientY:t.touches[0].clientY;n=Math.round(r-a.left),s=Math.round(l-a.top)}this.setRippleXY(n,s),this.setRippleStyles(!0),window.requestAnimationFrame&&window.requestAnimationFrame(this.animFrameHandler.bind(this))}}},URipple.prototype._up=function(t){if(!u.isIE8){var e=this;t&&2!==t.detail&&u.removeClass(this._rippleElement,"is-visible"),window.setTimeout(function(){u.removeClass(e._rippleElement,"is-visible")},0)}},URipple.prototype.getFrameCount=function(){return u.isIE8?void 0:this.frameCount_},URipple.prototype.setFrameCount=function(t){u.isIE8||(this.frameCount_=t)},URipple.prototype.getRippleElement=function(){return u.isIE8?void 0:this._rippleElement},URipple.prototype.setRippleXY=function(t,e){u.isIE8||(this.x_=t,this.y_=e)},URipple.prototype.setRippleStyles=function(t){if(!u.isIE8&&null!==this._rippleElement){var e,i,n,s="translate("+this.x_+"px, "+this.y_+"px)";t?(i="scale(0.0001, 0.0001)",n="1px"):(i="",n=this.rippleSize_+"px"),e="translate(-50%, -50%) "+s+i,this._rippleElement.style.webkitTransform=e,this._rippleElement.style.msTransform=e,this._rippleElement.style.transform=e,t?u.removeClass(this._rippleElement,"is-animating"):u.addClass(this._rippleElement,"is-animating")}},URipple.prototype.animFrameHandler=function(){u.isIE8||(this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1))},URipple.prototype.init=function(){if(!u.isIE8){var t=this;this._element&&(this._rippleElement=this._element.querySelector(".u-ripple"),this._rippleElement||(this._rippleElement=document.createElement("span"),u.addClass(this._rippleElement,"u-ripple"),this._element.appendChild(this._rippleElement),this._element.style.overflow="hidden",this._element.style.position="relative"),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this._ignoringMouseDown=!1,u.on(this._element,"mousedown",function(e){t._down(e)}),u.on(this._element,"touchstart",function(e){t._down(e)}),u.on(this._element,"mouseup",function(e){t._up(e)}),u.on(this._element,"mouseleave",function(e){t._up(e)}),u.on(this._element,"touchend",function(e){t._up(e)}),u.on(this._element,"blur",function(e){t._up(e)}))}},u.Ripple=URipple,u.Button=u.BaseComponent.extend({init:function(){var t=document.createElement("span");u.addClass(t,"u-button-container"),this._rippleElement=document.createElement("span"),u.addClass(this._rippleElement,"u-ripple"),u.isIE8&&u.addClass(this._rippleElement,"oldIE"),t.appendChild(this._rippleElement),u.on(this._rippleElement,"mouseup",this.element.blur),this.element.appendChild(t),u.on(this.element,"mouseup",this.element.blur),u.on(this.element,"mouseleave",this.element.blur),this.ripple=new u.Ripple(this.element)}}),u.compMgr.regComp({comp:u.Button,compAsString:"u.Button",css:"u-button"}),u.NavLayout=u.BaseComponent.extend({_Constant:{MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,MENU_ICON:"menu",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},_Mode:{STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},_CssClasses:{CONTAINER:"u-navlayout-container",HEADER:"u-navlayout-header",DRAWER:"u-navlayout-drawer",CONTENT:"u-navlayout-content",DRAWER_BTN:"u-navlayout-drawer-button",ICON:"fa",HEADER_SEAMED:"seamed",HEADER_WATERFALL:"waterfall",HEADER_SCROLL:"scroll",FIXED_HEADER:"fixed",OBFUSCATOR:"u-navlayout-obfuscator",TAB_BAR:"u-navlayout-tab-bar",TAB_CONTAINER:"u-navlayout-tab-bar-container",TAB:"u-navlayout-tab",TAB_BAR_BUTTON:"u-navlayout-tab-bar-button",TAB_BAR_LEFT_BUTTON:"u-navlayout-tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"u-navlayout-tab-bar-right-button",PANEL:"u-navlayout-tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"u-navlayout-large-screen-only",ON_SMALL_SCREEN:"u-navlayout-small-screen-only",NAV:"u-nav",NAV_LINK:"u-nav-link",NAV_LINK_CURRENT:"u-nav-link-current",NAV_LINK_OPEN:"u-nav-link-open",NAV_SUB:"u-nav-sub"},init:function(){var t=document.createElement("div");u.addClass(t,this._CssClasses.CONTAINER),this.element.parentElement.insertBefore(t,this.element),this.element.parentElement.removeChild(this.element),t.appendChild(this.element);for(var e=this.element.childNodes,i=e.length,n=0;i>n;n++){var s=e[n];if(u.hasClass(s,this._CssClasses.HEADER)&&(this._header=s),u.hasClass(s,this._CssClasses.DRAWER)&&(this._drawer=s),u.hasClass(s,this._CssClasses.CONTENT)){this._content=s;var o=this.element.offsetHeight,a="undefined"==typeof this._header?0:this._header.offsetHeight;this._content.style.height=o-a+"px";var r=this;u.on(window,"resize",function(){var t=r.element.offsetHeight,e="undefined"==typeof r._header?0:r._header.offsetHeight;r._content.style.height=t-e+"px"})}}this._header&&(this._tabBar=this._header.querySelector("."+this._CssClasses.TAB_BAR));var l=this._Mode.STANDARD;if(this._header&&(u.hasClass(this._header,this._CssClasses.HEADER_SEAMED)?l=this._Mode.SEAMED:u.hasClass(this._header,this._CssClasses.HEADER_SCROLL)&&(l=this._Mode.SCROLL,u.addClass(t,this._CssClasses.HAS_SCROLLING_HEADER)),l===this._Mode.STANDARD?(u.addClass(this._header,this._CssClasses.CASTING_SHADOW),this._tabBar&&u.addClass(this._tabBar,this._CssClasses.CASTING_SHADOW)):l===this._Mode.SEAMED||l===this._Mode.SCROLL?(u.removeClass(this._header,this._CssClasses.CASTING_SHADOW),this._tabBar&&u.removeClass(this._tabBar,this._CssClasses.CASTING_SHADOW)):l===this._Mode.WATERFALL&&(u.on(this._content,"scroll",this._contentScrollHandler.bind(this)),this._contentScrollHandler())),this._drawer){var d=this.element.querySelector("."+this._CssClasses.DRAWER_BTN);if(!d){d=document.createElement("div"),u.addClass(d,this._CssClasses.DRAWER_BTN);var c=document.createElement("i");c.className="fa fa-bars",d.appendChild(c)}u.hasClass(this._drawer,this._CssClasses.ON_LARGE_SCREEN)?u.addClass(d,this._CssClasses.ON_LARGE_SCREEN):u.hasClass(this._drawer,this._CssClasses.ON_SMALL_SCREEN)&&u.addClass(d,this._CssClasses.ON_SMALL_SCREEN),u.on(d,"click",this._drawerToggleHandler.bind(this)),u.addClass(this.element,this._CssClasses.HAS_DRAWER),u.hasClass(this.element,this._CssClasses.FIXED_HEADER)&&this._header?this._header.insertBefore(d,this._header.firstChild):this.element.insertBefore(d,this._content),this.drawerButton=d;var h=document.createElement("div");u.addClass(h,this._CssClasses.OBFUSCATOR),this.element.appendChild(h),u.on(h,"click",this._drawerToggleHandler.bind(this)),this._obfuscator=h;for(var p=this.element.querySelectorAll("."+this._CssClasses.NAV),f=0;f<p.length;f++){u.on(p[f],"click",this._navlinkClickHander.bind(this));for(var m=p[f].querySelectorAll("."+this._CssClasses.NAV_LINK),f=0;f<m.length;f++)new u.Ripple(m[f]);
}}if(u.isIE8||u.isIE9?u.on(window,"resize",this._screenSizeHandler.bind(this)):(this._screenSizeMediaQuery=window.matchMedia(this._Constant.MAX_WIDTH),this._screenSizeMediaQuery.addListener(this._screenSizeHandler.bind(this))),this._screenSizeHandler(),this._header&&this._tabBar){u.addClass(this.element,this._CssClasses.HAS_TABS);var v=document.createElement("div");u.addClass(v,this._CssClasses.TAB_CONTAINER),this._header.insertBefore(v,this._tabBar),this._header.removeChild(this._tabBar);var g=document.createElement("div");u.addClass(g,this._CssClasses.TAB_BAR_BUTTON),u.addClass(g,this._CssClasses.TAB_BAR_LEFT_BUTTON);var _=document.createElement("i");u.addClass(_,this._CssClasses.ICON),_.textContent=this._Constant.CHEVRON_LEFT,g.appendChild(_),u.on(g,"click",function(){this._tabBar.scrollLeft-=this._Constant.TAB_SCROLL_PIXELS}.bind(this));var C=document.createElement("div");u.addClass(C,this._CssClasses.TAB_BAR_BUTTON),u.addClass(C,this._CssClasses.TAB_BAR_RIGHT_BUTTON);var y=document.createElement("i");u.addClass(y,this._CssClasses.ICON),y.textContent=this._Constant.CHEVRON_RIGHT,C.appendChild(y),u.on(C,"click",function(){this._tabBar.scrollLeft+=this._Constant.TAB_SCROLL_PIXELS}.bind(this)),v.appendChild(g),v.appendChild(this._tabBar),v.appendChild(C);var b=function(){this._tabBar.scrollLeft>0?u.addClass(g,this._CssClasses.IS_ACTIVE):u.removeClass(g,this._CssClasses.IS_ACTIVE),this._tabBar.scrollLeft<this._tabBar.scrollWidth-this._tabBar.offsetWidth?u.addClass(C,this._CssClasses.IS_ACTIVE):u.removeClass(C,this._CssClasses.IS_ACTIVE)}.bind(this);u.on(this._tabBar,"scroll",b),b(),u.hasClass(this._tabBar,this._CssClasses.JS_RIPPLE_EFFECT)&&u.addClass(this._tabBar,this._CssClasses.RIPPLE_IGNORE_EVENTS);for(var w=this._tabBar.querySelectorAll("."+this._CssClasses.TAB),k=this._content.querySelectorAll("."+this._CssClasses.PANEL),f=0;f<w.length;f++)new UNavLayoutTab(w[f],w,k,this)}u.addClass(this.element,this._CssClasses.IS_UPGRADED)},_contentScrollHandler:function(){u.hasClass(this._header,this._CssClasses.IS_ANIMATING)||(this._content.scrollTop>0&&!u.hasClass(this._header,this._CssClasses.IS_COMPACT)?u.addClass(this._header,this._CssClasses.CASTING_SHADOW).addClass(this._header,this._CssClasses.IS_COMPACT).addClass(this._header,this._CssClasses.IS_ANIMATING):this._content.scrollTop<=0&&u.hasClass(this._header,this._CssClasses.IS_COMPACT)&&u.removeClass(this._header,this._CssClasses.CASTING_SHADOW).removeClass(this._header,this._CssClasses.IS_COMPACT).addClass(this._header,this._CssClasses.IS_ANIMATING))},_screenSizeHandler:function(){if(u.isIE8||u.isIE9){this._screenSizeMediaQuery={};var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;t>1024?this._screenSizeMediaQuery.matches=!1:this._screenSizeMediaQuery.matches=!0}this._screenSizeMediaQuery.matches?u.addClass(this.element,this._CssClasses.IS_SMALL_SCREEN):(u.removeClass(this.element,this._CssClasses.IS_SMALL_SCREEN),this._drawer&&(u.removeClass(this._drawer,this._CssClasses.IS_DRAWER_OPEN),u.removeClass(this._obfuscator,this._CssClasses.IS_DRAWER_OPEN)))},_drawerToggleHandler:function(){u.toggleClass(this._drawer,this._CssClasses.IS_DRAWER_OPEN),u.toggleClass(this._obfuscator,this._CssClasses.IS_DRAWER_OPEN)},_headerTransitionEndHandler:function(){u.removeClass(this._header,this._CssClasses.IS_ANIMATING)},_headerClickHandler:function(){u.hasClass(this._header,this._CssClasses.IS_COMPACT)&&(u.removeClass(this._header,this._CssClasses.IS_COMPACT),u.addClass(this._header,this._CssClasses.IS_ANIMATING))},_resetTabState:function(t){for(var e=0;e<t.length;e++)u.removeClass(t[e],this._CssClasses.IS_ACTIVE)},_resetPanelState:function(t){for(var e=0;e<t.length;e++)u.removeClass(t[e],this._CssClasses.IS_ACTIVE)},_navlinkClickHander:function(t){var e=this.element.querySelector("."+this._CssClasses.NAV_LINK_CURRENT);e&&u.removeClass(e,this._CssClasses.NAV_LINK_CURRENT);var i=u.closest(t.target,this._CssClasses.NAV_LINK);if(i){u.addClass(i,this._CssClasses.NAV_LINK_CURRENT);var n=i.parentNode.querySelector("."+this._CssClasses.NAV_SUB),s=u.hasClass(i,this._CssClasses.NAV_LINK_OPEN);n&&s&&(u.removeClass(i,this._CssClasses.NAV_LINK_OPEN),u.isIE8&&(n.style.maxHeight=0)),n&&!s&&(u.addClass(i,this._CssClasses.NAV_LINK_OPEN),u.isIE8&&(n.style.maxHeight="999px"))}}}),u.NavLayoutTab=UNavLayoutTab,u.compMgr.regComp({comp:u.NavLayout,compAsString:"u.NavLayout",css:"u-navlayout"}),u.NavMenu=u.BaseComponent.extend({_Constant:{},_CssClasses:{NAV:"u-navmenu",NAV_LINK:"u-navmenu-link",NAV_LINK_CURRENT:"u-navmenu-link-current",NAV_LINK_OPEN:"u-navmenu-link-open",NAV_SUB:"u-navmenu-sub"},init:function(){u.hasClass(this.element,"u-navmenu-horizontal")?u.on(this.element,"click",this._horNavlinkClickHander.bind(this)):u.on(this.element,"click",this._navlinkClickHander.bind(this));for(var t=this.element.querySelectorAll("."+this._CssClasses.NAV_LINK),e=0;e<t.length;e++)new u.Ripple(t[e])},_horNavlinkClickHander:function(t){var e=u.closest(t.target,this._CssClasses.NAV_LINK);if(e){var i=this.element.querySelector("."+this._CssClasses.NAV_LINK_CURRENT);i&&u.removeClass(i,this._CssClasses.NAV_LINK_CURRENT),u.addClass(e,this._CssClasses.NAV_LINK_CURRENT)}},_navlinkClickHander:function(t){var e=this.element.querySelector("."+this._CssClasses.NAV_LINK_CURRENT);e&&u.removeClass(e,this._CssClasses.NAV_LINK_CURRENT);var i=u.closest(t.target,this._CssClasses.NAV_LINK);if(i){u.addClass(i,this._CssClasses.NAV_LINK_CURRENT);var n=i.parentNode.querySelector("."+this._CssClasses.NAV_SUB),s=u.hasClass(i,this._CssClasses.NAV_LINK_OPEN);n&&s&&(u.removeClass(i,this._CssClasses.NAV_LINK_OPEN),u.isIE8&&(n.style.maxHeight=0)),n&&!s&&(u.addClass(i,this._CssClasses.NAV_LINK_OPEN),u.isIE8&&(n.style.maxHeight="999px"))}}}),u.compMgr.regComp({comp:u.NavMenu,compAsString:"u.NavMenu",css:"u-navmenu"}),u.Text=u.BaseComponent.extend({_Constant:{NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},_CssClasses:{LABEL:"u-label",INPUT:"u-input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded"},init:function(){var t=this;if(this.maxRows=this._Constant.NO_MAX_ROWS,this.label_=this.element.querySelector("."+this._CssClasses.LABEL),this._input=this.element.querySelector("input"),this._input){this._input.hasAttribute(this._Constant.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this._input.getAttribute(this._Constant.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this._Constant.NO_MAX_ROWS)),this.boundUpdateClassesHandler=this._updateClasses.bind(this),this.boundFocusHandler=this._focus.bind(this),this.boundBlurHandler=this._blur.bind(this),this.boundResetHandler=this._reset.bind(this),this._input.addEventListener("input",this.boundUpdateClassesHandler),u.isIE8&&this._input.addEventListener("propertychange",function(){t._updateClasses()}),this._input.addEventListener("focus",this.boundFocusHandler),(u.isIE8||u.isIE9)&&this.label_&&this.label_.addEventListener("click",function(){this._input.focus()}.bind(this)),this._input.addEventListener("blur",this.boundBlurHandler),this._input.addEventListener("reset",this.boundResetHandler),this.maxRows!==this._Constant.NO_MAX_ROWS&&(this.boundKeyDownHandler=this._down.bind(this),this._input.addEventListener("keydown",this.boundKeyDownHandler));var e=u.hasClass(this.element,this._CssClasses.IS_INVALID);this._updateClasses(),u.addClass(this.element,this._CssClasses.IS_UPGRADED),e&&u.addClass(this.element,this._CssClasses.IS_INVALID)}},_down:function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},_focus:function(t){u.addClass(this.element,this._CssClasses.IS_FOCUSED)},_blur:function(t){u.removeClass(this.element,this._CssClasses.IS_FOCUSED)},_reset:function(t){this._updateClasses()},_updateClasses:function(){this.checkDisabled(),this.checkValidity(),this.checkDirty()},checkDisabled:function(){this._input.disabled?u.addClass(this.element,this._CssClasses.IS_DISABLED):u.removeClass(this.element,this._CssClasses.IS_DISABLED)},checkValidity:function(){this._input.validity&&(this._input.validity.valid?u.removeClass(this.element,this._CssClasses.IS_INVALID):u.addClass(this.element,this._CssClasses.IS_INVALID))},checkDirty:function(){this._input.value&&this._input.value.length>0?u.addClass(this.element,this._CssClasses.IS_DIRTY):u.removeClass(this.element,this._CssClasses.IS_DIRTY)},disable:function(){this._input.disabled=!0,this._updateClasses()},enable:function(){this._input.disabled=!1,this._updateClasses()},change:function(t){this._input.value=t||"",this._updateClasses()}}),u.compMgr.regComp({comp:u.Text,compAsString:"u.Text",css:"u-text"}),u.Menu=u.BaseComponent.extend({_Keycodes:{ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},_CssClasses:{BOTTOM_LEFT:"u-menu-bottom-left",BOTTOM_RIGHT:"u-menu-bottom-right",TOP_LEFT:"u-menu-top-left",TOP_RIGHT:"u-menu-top-right",UNALIGNED:"u-menu-unaligned"},init:function(){var t=document.createElement("div");u.addClass(t,"u-menu-container"),this.element.parentElement.insertBefore(t,this.element),this.element.parentElement.removeChild(this.element),t.appendChild(this.element),this._container=t;var e=document.createElement("div");u.addClass(e,"u-menu-outline"),this._outline=e,t.insertBefore(e,this.element);var i=this.element.getAttribute("for")||this.element.getAttribute("data-u-for"),n=null;i&&(n=document.getElementById(i),n&&(this.for_element=n,u.on(n,"click",this._handleForClick.bind(this)),u.on(n,"keydown",this._handleForKeyboardEvent.bind(this))));var s=this.element.querySelectorAll(".u-menu-item");this._boundItemKeydown=this._handleItemKeyboardEvent.bind(this),this._boundItemClick=this._handleItemClick.bind(this);for(var o=0;o<s.length;o++)u.on(s[o],"click",this._boundItemClick),s[o].tabIndex="-1",u.on(s[o],"keydown",this._boundItemKeydown);for(o=0;o<s.length;o++){var a=s[o],r=document.createElement("span");u.addClass(r,"u-ripple"),a.appendChild(r),new URipple(a)}u.hasClass(this.element,"u-menu-bottom-left")&&u.addClass(this._outline,"u-menu-bottom-left"),u.hasClass(this.element,"u-menu-bottom-right")&&u.addClass(this._outline,"u-menu-bottom-right"),u.hasClass(this.element,"u-menu-top-left")&&u.addClass(this._outline,"u-menu-top-left"),u.hasClass(this.element,"u-menu-top-right")&&u.addClass(this._outline,"u-menu-top-right"),u.hasClass(this.element,"u-menu-unaligned")&&u.addClass(this._outline,"u-menu-unaligned"),u.addClass(t,"is-upgraded")},_handleForClick:function(t){if(this.element&&this.for_element){var e=this.for_element.getBoundingClientRect(),i=this.for_element.parentElement.getBoundingClientRect();u.hasClass(this.element,"u-menu-unaligned")||(u.hasClass(this.element,"u-menu-bottom-right")?(this._container.style.right=i.right-e.right+"px",this._container.style.top=this.for_element.offsetTop+this.for_element.offsetHeight+"px"):u.hasClass(this.element,"u-menu-top-left")?(this._container.style.left=this.for_element.offsetLeft+"px",this._container.style.bottom=i.bottom-e.top+"px"):u.hasClass(this.element,"u-menu-top-right")?(this._container.style.right=i.right-e.right+"px",this._container.style.bottom=i.bottom-e.top+"px"):(this._container.style.left=this.for_element.offsetLeft+"px",this._container.style.top=this.for_element.offsetTop+this.for_element.offsetHeight+"px"))}this.toggle(t)},_handleForKeyboardEvent:function(t){if(this.element&&this._container&&this.for_element){var e=this.element.querySelectorAll(".u-menu-item:not([disabled])");e&&e.length>0&&u.hasClass(this._container,"is-visible")&&(t.keyCode===this._Keycodes.UP_ARROW?(u.stopEvent(t),e[e.length-1].focus()):t.keyCode===this._Keycodes.DOWN_ARROW&&(u.stopEvent(t),e[0].focus()))}},_handleItemKeyboardEvent:function(t){if(this.element&&this._container){var e=this.element.querySelectorAll(".u-menu-item:not([disabled])");if(e&&e.length>0&&u.hasClass(this._container,"is-visible")){var i=Array.prototype.slice.call(e).indexOf(t.target);if(t.keyCode===this._Keycodes.UP_ARROW)u.stopEvent(t),i>0?e[i-1].focus():e[e.length-1].focus();else if(t.keyCode===this._Keycodes.DOWN_ARROW)u.stopEvent(t),e.length>i+1?e[i+1].focus():e[0].focus();else if(t.keyCode===this._Keycodes.SPACE||t.keyCode===this._Keycodes.ENTER){u.stopEvent(t);var n=new MouseEvent("mousedown");t.target.dispatchEvent(n),n=new MouseEvent("mouseup"),t.target.dispatchEvent(n),t.target.click()}else t.keyCode===this._Keycodes.ESCAPE&&(u.stopEvent(t),this.hide())}}},_handleItemClick:function(t){t.target.hasAttribute("disabled")?u.stopEvent(t):(this._closing=!0,window.setTimeout(function(t){this.hide(),this._closing=!1}.bind(this),150))},_applyClip:function(t,e){u.hasClass(this.element,"u-menu-unaligned")?this.element.style.clip="":u.hasClass(this.element,"u-menu-bottom-right")?this.element.style.clip="rect(0 "+e+"px 0 "+e+"px)":u.hasClass(this.element,"u-menu-top-left")?this.element.style.clip="rect("+t+"px 0 "+t+"px 0)":u.hasClass(this.element,"u-menu-top-right")?this.element.style.clip="rect("+t+"px "+e+"px "+t+"px "+e+"px)":this.element.style.clip="rect(0px 0px 0px 0px)"},_addAnimationEndListener:function(){var t=function(){u.off(this.element,"transitionend",t),u.off(this.element,"webkitTransitionEnd",t),u.removeClass(this.element,"is-animating")}.bind(this);u.on(this.element,"transitionend",t),u.on(this.element,"webkitTransitionEnd",t)},show:function(t){if(this.element&&this._container&&this._outline){var e=this.element.getBoundingClientRect().height,i=this.element.getBoundingClientRect().width;if(!i){var n=this.element.getBoundingClientRect().left,s=this.element.getBoundingClientRect().right;i=s-n}if(!e){var o=this.element.getBoundingClientRect().top,a=this.element.getBoundingClientRect().bottom;e=a-o}this._container.style.width=i+"px",this._container.style.height=e+"px",this._outline.style.width=i+"px",this._outline.style.height=e+"px";for(var r=.24,l=this.element.querySelectorAll(".u-menu-item"),d=0;d<l.length;d++){var c=null;c=u.hasClass(this.element,"u-menu-top-left")||u.hasClass(this.element,"u-menu-top-right")?(e-l[d].offsetTop-l[d].offsetHeight)/e*r+"s":l[d].offsetTop/e*r+"s",l[d].style.transitionDelay=c}this._applyClip(e,i),window.requestAnimationFrame?window.requestAnimationFrame(function(){u.addClass(this.element,"is-animating"),this.element.style.clip="rect(0 "+i+"px "+e+"px 0)",u.addClass(this._container,"is-visible")}.bind(this)):(u.addClass(this.element,"is-animating"),this.element.style.clip="rect(0 "+i+"px "+e+"px 0)",u.addClass(this._container,"is-visible")),this._addAnimationEndListener();var h=!0,p=function(e){return u.isIE8&&h?void(h=!1):void(e===t||this._closing||e.target.parentNode===this.element||(u.off(document,"click",p),this.hide()))}.bind(this);u.on(document,"click",p)}},hide:function(){if(this.element&&this._container&&this._outline){for(var t=this.element.querySelectorAll(".u-menu-item"),e=0;e<t.length;e++)t[e].style.transitionDelay=null;var i=this.element.getBoundingClientRect(),n=i.height,s=i.width;if(!s){var o=i.left,a=i.right;s=a-o}if(!n){var r=i.top,l=i.bottom;n=l-r}u.addClass(this.element,"is-animating"),this._applyClip(n,s),u.removeClass(this._container,"is-visible"),this._addAnimationEndListener()}},toggle:function(t){u.hasClass(this._container,"is-visible")?this.hide():this.show(t)}}),u.compMgr.regComp({comp:u.Menu,compAsString:"u.Menu",css:"u-menu"}),u.MDLayout=u.BaseComponent.extend({_CssClasses:{MASTER:"u-mdlayout-master",DETAIL:"u-mdlayout-detail",PAGE:"u-mdlayout-page",PAGE_HEADER:"u-mdlayout-page-header",PAGE_SECTION:"u-mdlayout-page-section",PAGE_FOOTER:"u-mdlayout-page-footer"},init:function(){var t=this;this.minWidth=600,this._master=this.element.querySelector("."+this._CssClasses.MASTER),this._detail=this.element.querySelector("."+this._CssClasses.DETAIL),this.master?this.masterWidth=this._master.offsetWidth:this.masterWidth=0,this.detailWidth=this._detail.offsetWidth,this._master&&(this.mPages=this._master.querySelectorAll("."+this._CssClasses.PAGE)),this.dPages=this._detail.querySelectorAll("."+this._CssClasses.PAGE),this.mPageMap={},this.dPageMap={},this._master&&this.initPages(this.mPages,"master"),this.initPages(this.dPages,"detail"),this.mHistory=[],this.dHistory=[],this.isNarrow=null,this.response(),u.on(window,"resize",function(){t.response()})},initPages:function(t,e){var i,n;"master"===e?(i=this.mPageMap,n=this.masterWidth):(i=this.dPageMap,n=this.detailWidth);for(var s=0;s<t.length;s++){var o=t[s].getAttribute("id");if(!o)throw new Error("u-mdlayout-page mast have id attribute");i[o]=t[s],0===s?("master"===e?this.current_m_pageId=o:this.current_d_pageId=o,u.addClass(t[s],"current"),t[s].style.transform="translate3d(0,0,0)"):t[s].style.transform="translate3d("+n+"px,0,0)",(u.isIE8||u.isIE9)&&u.addClass(t[s],"let-ie9")}},response:function(){var t=this.element.offsetWidth;t<this.minWidth?(null!=this.isNarrow&&0!=this.isNarrow||(this.isNarrow=!0),this.hideMaster()):(null!=this.isNarrow&&1!=this.isNarrow||(this.isNarrow=!1),this.showMaster()),this.calcWidth()},calcWidth:function(){if(!u.isIE8&&!u.isIE9){this.detailWidth=this._detail.offsetWidth,this._master?this.masterWidth=this._master.offsetWidth:this.masterWidth=0;for(var t=0;t<this.dPages.length;t++){var e=this.dPages[t].getAttribute("id");e!==this.current_d_pageId&&(this.dPages[t].style.transform="translate3d("+this.detailWidth+"px,0,0)")}}},mGo:function(t){this.current_m_pageId!=t&&(this.mHistory.push(this.current_m_pageId),_hidePage(this.mPageMap[this.current_m_pageId],this,"-"+this.masterWidth),this.current_m_pageId=t,_showPage(this.mPageMap[this.current_m_pageId],this))},mBack:function(){0!=this.mHistory.length&&(_hidePage(this.mPageMap[this.current_m_pageId],this,this.masterWidth),this.current_m_pageId=this.mHistory.pop(),_showPage(this.mPageMap[this.current_m_pageId],this))},dGo:function(t){this.current_d_pageId!=t&&(this.dHistory.push(this.current_d_pageId),_hidePage(this.dPageMap[this.current_d_pageId],this,"-"+this.detailWidth),this.current_d_pageId=t,_showPage(this.dPageMap[this.current_d_pageId],this))},dBack:function(){0!=this.dHistory.length&&(_hidePage(this.dPageMap[this.current_d_pageId],this,this.detailWidth),this.current_d_pageId=this.dHistory.pop(),_showPage(this.dPageMap[this.current_d_pageId],this))},showMaster:function(){this._master&&(u.isIE8||u.isIE9?this._master.style.display="block":this._master.style.transform="translate3d(0,0,0)",this.isNarrow||(this._master.style.position="relative"))},hideMaster:function(){if(this._master){if(this._master.offsetLeft<0||"none"==this._master.style.display)return;u.isIE8||u.isIE9?this._master.style.display="none":this._master.style.transform="translate3d(-"+this.masterWidth+"px,0,0)",this._master.style.position="absolute",this._master.style.zIndex=5,this.calcWidth()}}}),u.compMgr.regComp({comp:u.MDLayout,compAsString:"u.MDLayout",css:"u-mdlayout"}),u.Tabs=u.BaseComponent.extend({_Constant:{},_CssClasses:{TAB_CLASS:"u-tabs__tab",PANEL_CLASS:"u-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",U_JS_RIPPLE_EFFECT:"u-js-ripple-effect",U_RIPPLE_CONTAINER:"u-tabs__ripple-container",U_RIPPLE:"u-ripple",U_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"u-js-ripple-effect--ignore-events"},initTabs_:function(){u.addClass(this.element,this._CssClasses.U_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element.querySelectorAll("."+this._CssClasses.TAB_CLASS),this.panels_=this.element.querySelectorAll("."+this._CssClasses.PANEL_CLASS);for(var t=0;t<this.tabs_.length;t++)new Tab(this.tabs_[t],this);u.addClass(this.element,this._CssClasses.UPGRADED_CLASS)},resetTabState_:function(){for(var t=0;t<this.tabs_.length;t++)u.removeClass(this.tabs_[t],this._CssClasses.ACTIVE_CLASS)},resetPanelState_:function(){for(var t=0;t<this.panels_.length;t++)u.removeClass(this.panels_[t],this._CssClasses.ACTIVE_CLASS)},show:function(t){var e=this.element.querySelector("#"+t),i=this.element.querySelector("[href='#"+t+"']");this.resetTabState_(),this.resetPanelState_(),u.addClass(i,this._CssClasses.ACTIVE_CLASS),u.addClass(e,this._CssClasses.ACTIVE_CLASS)},init:function(){this.element&&this.initTabs_()}}),u.compMgr.regComp({comp:u.Tabs,compAsString:"u.Tabs",css:"u-tabs"}),u.Checkbox=u.BaseComponent.extend({_Constant:{TINY_TIMEOUT:.001},_CssClasses:{INPUT:"u-checkbox-input",BOX_OUTLINE:"u-checkbox-outline",FOCUS_HELPER:"u-checkbox-focus-helper",TICK_OUTLINE:"u-checkbox-tick-outline",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},init:function(){this._inputElement=this.element.querySelector("input");var t=document.createElement("span");u.addClass(t,this._CssClasses.BOX_OUTLINE);var e=document.createElement("span");u.addClass(e,this._CssClasses.FOCUS_HELPER);var i=document.createElement("span");u.addClass(i,this._CssClasses.TICK_OUTLINE),t.appendChild(i),this.element.appendChild(e),this.element.appendChild(t),this.rippleContainerElement_=document.createElement("span"),this.boundRippleMouseUp=this._onMouseUp.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp),this.element.appendChild(this.rippleContainerElement_),new URipple(this.rippleContainerElement_),this.boundInputOnChange=this._onChange.bind(this),this.boundInputOnFocus=this._onFocus.bind(this),this.boundInputOnBlur=this._onBlur.bind(this),this.boundElementMouseUp=this._onMouseUp.bind(this),u.hasClass(this.element,"only-style")||u.on(this.element,"click",function(t){this._inputElement.disabled||(this.toggle(),u.stopEvent(t))}.bind(this)),this._updateClasses(),u.addClass(this.element,this._CssClasses.IS_UPGRADED)},_onChange:function(t){this._updateClasses(),this.trigger("change",{isChecked:this._inputElement.checked})},_onFocus:function(){u.addClass(this.element,this._CssClasses.IS_FOCUSED)},_onBlur:function(){u.removeClass(this.element,this._CssClasses.IS_FOCUSED)},_onMouseUp:function(t){this._blur()},_updateClasses:function(){this.checkDisabled(),this.checkToggleState()},_blur:function(){window.setTimeout(function(){this._inputElement.blur()}.bind(this),this._Constant.TINY_TIMEOUT)},checkToggleState:function(){this._inputElement.checked?u.addClass(this.element,this._CssClasses.IS_CHECKED):u.removeClass(this.element,this._CssClasses.IS_CHECKED)},checkDisabled:function(){this._inputElement.disabled?u.addClass(this.element,this._CssClasses.IS_DISABLED):u.removeClass(this.element,this._CssClasses.IS_DISABLED)},isChecked:function(){return this._inputElement.checked},toggle:function(){this.isChecked()?this.uncheck():this.check()},disable:function(){this._inputElement.disabled=!0,this._updateClasses()},enable:function(){this._inputElement.disabled=!1,this._updateClasses()},check:function(){this._inputElement.checked=!0,this._updateClasses(),this.boundInputOnChange()},uncheck:function(){this._inputElement.checked=!1,this._updateClasses(),this.boundInputOnChange()}}),u.compMgr&&u.compMgr.regComp({comp:u.Checkbox,compAsString:"u.Checkbox",css:"u-checkbox"}),u.Radio=u.BaseComponent.extend({Constant_:{TINY_TIMEOUT:.001},_CssClasses:{IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"u-radio",RADIO_BTN:"u-radio-button",RADIO_OUTER_CIRCLE:"u-radio-outer-circle",RADIO_INNER_CIRCLE:"u-radio-inner-circle"},init:function(){this._btnElement=this.element.querySelector("input"),this._boundChangeHandler=this._onChange.bind(this),this._boundFocusHandler=this._onChange.bind(this),this._boundBlurHandler=this._onBlur.bind(this),this._boundMouseUpHandler=this._onMouseup.bind(this);var t=document.createElement("span");u.addClass(t,this._CssClasses.RADIO_OUTER_CIRCLE);var e=document.createElement("span");u.addClass(e,this._CssClasses.RADIO_INNER_CIRCLE),this.element.appendChild(t),this.element.appendChild(e);var i;i=document.createElement("span"),i.addEventListener("mouseup",this._boundMouseUpHandler),this.element.appendChild(i),new URipple(i),this._btnElement.addEventListener("change",this._boundChangeHandler),this._btnElement.addEventListener("focus",this._boundFocusHandler),this._btnElement.addEventListener("blur",this._boundBlurHandler),this.element.addEventListener("mouseup",this._boundMouseUpHandler),this._updateClasses(),u.addClass(this.element,this._CssClasses.IS_UPGRADED)},_onChange:function(t){for(var e=document.querySelectorAll("."+this._CssClasses.JS_RADIO),i=0;i<e.length;i++){var n=e[i].querySelector("."+this._CssClasses.RADIO_BTN);n.getAttribute("name")===this._btnElement.getAttribute("name")&&e[i]["u.Radio"]&&e[i]["u.Radio"]._updateClasses()}this.trigger("change",{isChecked:this._btnElement.checked})},_onFocus:function(t){u.addClass(this.element,this._CssClasses.IS_FOCUSED)},_onBlur:function(t){u.removeClass(this.element,this._CssClasses.IS_FOCUSED)},_onMouseup:function(t){this._blur()},_updateClasses:function(){this.checkDisabled(),this.checkToggleState()},_blur:function(){window.setTimeout(function(){this._btnElement.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},checkDisabled:function(){this._btnElement.disabled?u.addClass(this.element,this._CssClasses.IS_DISABLED):u.removeClass(this.element,this._CssClasses.IS_DISABLED)},checkToggleState:function(){this._btnElement.checked?u.addClass(this.element,this._CssClasses.IS_CHECKED):u.removeClass(this.element,this._CssClasses.IS_CHECKED)},disable:function(){this._btnElement.disabled=!0,this._updateClasses()},enable:function(){this._btnElement.disabled=!1,this._updateClasses()},check:function(){this._btnElement.checked=!0,this._updateClasses()},uncheck:function(){this._btnElement.checked=!1,this._updateClasses()}}),u.compMgr.regComp({comp:u.Radio,compAsString:"u.Radio",css:"u-radio"}),u.Switch=u.BaseComponent.extend({_Constant:{TINY_TIMEOUT:.001},_CssClasses:{INPUT:"u-switch-input",TRACK:"u-switch-track",THUMB:"u-switch-thumb",FOCUS_HELPER:"u-switch-focus-helper",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},init:function(){this._inputElement=this.element.querySelector("."+this._CssClasses.INPUT);var t=document.createElement("div");u.addClass(t,this._CssClasses.TRACK);var e=document.createElement("div");u.addClass(e,this._CssClasses.THUMB);var i=document.createElement("span");u.addClass(i,this._CssClasses.FOCUS_HELPER),e.appendChild(i),this.element.appendChild(t),this.element.appendChild(e),this.boundMouseUpHandler=this._onMouseUp.bind(this),this._rippleContainerElement=document.createElement("span"),this._rippleContainerElement.addEventListener("mouseup",this.boundMouseUpHandler),this.element.appendChild(this._rippleContainerElement),new URipple(this._rippleContainerElement),this.boundChangeHandler=this._onChange.bind(this),this.boundFocusHandler=this._onFocus.bind(this),this.boundBlurHandler=this._onBlur.bind(this),this._inputElement.addEventListener("change",this.boundChangeHandler),this._inputElement.addEventListener("focus",this.boundFocusHandler),this._inputElement.addEventListener("blur",this.boundBlurHandler),this.element.addEventListener("mouseup",this.boundMouseUpHandler),this._updateClasses(),u.addClass(this.element,"is-upgraded")},_onChange:function(t){this._updateClasses(),this.trigger("change",{isChecked:this._inputElement.checked})},_onFocus:function(t){u.addClass(this.element,this._CssClasses.IS_FOCUSED)},_onBlur:function(t){u.removeClass(this.element,this._CssClasses.IS_FOCUSED)},_onMouseUp:function(t){this._blur()},_updateClasses:function(){this.checkDisabled(),this.checkToggleState()},_blur:function(){window.setTimeout(function(){this._inputElement.blur()}.bind(this),this._Constant.TINY_TIMEOUT)},checkDisabled:function(){this._inputElement.disabled?u.addClass(this.element,this._CssClasses.IS_DISABLED):u.removeClass(this.element,this._CssClasses.IS_DISABLED)},checkToggleState:function(){this._inputElement.checked?u.addClass(this.element,this._CssClasses.IS_CHECKED):u.removeClass(this.element,this._CssClasses.IS_CHECKED)},isChecked:function(){return this._inputElement.checked},toggle:function(){this.isChecked()?this.uncheck():this.check()},disable:function(){this._inputElement.disabled=!0,this._updateClasses()},enable:function(){this._inputElement.disabled=!1,this._updateClasses()},check:function(){this._inputElement.checked=!0,this._updateClasses()},uncheck:function(){this._inputElement.checked=!1,this._updateClasses()}}),u.compMgr.regComp({comp:u.Switch,compAsString:"u.Switch",css:"u-switch"}),u.Loading=u.BaseComponent.extend({_Constant:{U_LOADING_LAYER_COUNT:4},_CssClasses:{U_LOADING_LAYER:"u-loading-layer",U_LOADING_CIRCLE_CLIPPER:"u-loading-circle-clipper",U_LOADING_CIRCLE:"u-loading-circle",U_LOADING_GAP_PATCH:"u-loading-gap-patch",U_LOADING_LEFT:"u-loading-left",U_LOADING_RIGHT:"u-loading-right"},init:function(){if(u.isIE8||u.isIE9){var t=document.createElement("div");t.className="loadingImg",this.element.appendChild(t)}else for(var e=1;e<=this._Constant.U_LOADING_LAYER_COUNT;e++)this.createLayer(e);u.addClass(this.element,"is-upgraded")},createLayer:function(t){var e=document.createElement("div");u.addClass(e,this._CssClasses.U_LOADING_LAYER),u.addClass(e,this._CssClasses.U_LOADING_LAYER+"-"+t);var i=document.createElement("div");u.addClass(i,this._CssClasses.U_LOADING_CIRCLE_CLIPPER),u.addClass(i,this._CssClasses.U_LOADING_LEFT);var n=document.createElement("div");u.addClass(n,this._CssClasses.U_LOADING_GAP_PATCH);var s=document.createElement("div");u.addClass(s,this._CssClasses.U_LOADING_CIRCLE_CLIPPER),u.addClass(s,this._CssClasses.U_LOADING_RIGHT);for(var o=[i,n,s],a=0;a<o.length;a++){var r=document.createElement("div");u.addClass(r,this._CssClasses.U_LOADING_CIRCLE),o[a].appendChild(r)}e.appendChild(i),e.appendChild(n),e.appendChild(s),this.element.appendChild(e)},stop:function(){u.removeClass(this.element,"is-active")},start:function(){u.addClass(this.element,"is-active")}}),u.compMgr.regComp({comp:u.Loading,compAsString:"u.Loading",css:"u-loading"}),u.showLoading=function(t){var e='<div class="alert alert-waiting"><i class="fa fa-spinner fa-spin"></i></div>';document.body.appendChild(u.makeDOM(e)),e='<div class="alert-backdrop" role="waiting-backdrop"></div>',document.body.appendChild(u.makeDOM(e))},u.hideLoading=function(){for(var t=document.querySelectorAll(".alert-waiting,.alert-backdrop"),e=0;e<t.length;e++)document.body.removeChild(t[e])},u.showWaiting=u.showLoading,u.removeWaiting=u.hideLoading,u.loadTemplate="<div class='u-loader-container'><div class='u-loader'>{centerContent}</div>{loadDesc}</div>",u.showLoader=function(t){var e,i,n,s,o,a;if(t=t||{},e=t.hasback,i=t.centerContent||"",n=u.loadTemplate.replace("{centerContent}",i),a=t.hasDesc?"<div class='u-loader-desc'>页面加载中，请稍后。。。</div>":" ",n=n.replace("{loadDesc}",a),o=u.makeDOM(n),s=t.parEle||document.body,e){u.makeModal(o,s)}s==document.body&&(o.style.position="fixed"),s.appendChild(o)},u.hideLoader=function(){for(var t=document.querySelectorAll(".u-overlay,.u-loader-container"),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])},u.Progress=u.BaseComponent.extend({_Constant:{},_CssClasses:{INDETERMINATE_CLASS:"u-progress__indeterminate"},setProgress:function(t){return u.hasClass(this.element,this._CssClasses.INDETERMINATE_CLASS)?void 0:(this.progressbar_.style.width=t+"%",this)},setBuffer:function(t){return this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%",this},init:function(){var t=document.createElement("div");if(t.className="progressbar bar bar1",this.element.appendChild(t),this.progressbar_=t,t=document.createElement("div"),t.className="bufferbar bar bar2",this.element.appendChild(t),this.bufferbar_=t,t=document.createElement("div"),t.className="auxbar bar bar3",this.element.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",u.addClass(this.element,"is-upgraded"),(u.isIE8||u.isIE9)&&u.hasClass(this.element,this._CssClasses.INDETERMINATE_CLASS)){var e=0,i=this;setInterval(function(){e+=5,e%=100,i.progressbar_.style.width=e+"%"},100)}}}),u.compMgr.regComp({comp:u.Progress,compAsString:"u.Progress",css:"u-progress"}),u.messageTemplate='<div class="u-message"><span class="u-msg-close fa fa-close"></span>{msg}</div>',
u.showMessage=function(t){var e,i,n,s,o,a;"string"==typeof t&&(t={msg:t}),e=t.msg||"",i=t.position||"bottom-right",n=t.width||"",o=t.msgType||"info",s=parseInt(t.showSeconds)||("info"==o?2:0),a=t.template||u.messageTemplate,a=a.replace("{msg}",e);var r=u.makeDOM(a);u.addClass(r,"u-mes"+o),r.style.width=n,"bottom-right"==i&&(r.style.bottom="10px"),"center"==i&&(r.style.bottom="50%",r.style.transform="translateY(50%)");var l=r.querySelector(".u-msg-close");u.on(l,"click",function(){u.removeClass(r,"active"),setTimeout(function(){try{document.body.removeChild(r)}catch(t){}},500)}),document.body.appendChild(r),s>0&&setTimeout(function(){l.click()},1e3*s),setTimeout(function(){u.addClass(r,"active")},1*s)},u.showMessageDialog=u.showMessage,u.messageDialogTemplate='<div class="u-msg-dialog"><div class="u-msg-title"><h4>{title}</h4></div><div class="u-msg-content"><p>{msg}</p></div><div class="u-msg-footer"><button class="u-msg-button u-button primary raised">{btnText}</button></div></div>',u.messageDialog=function(t){var e,i,n,s;"string"==typeof t&&(t={msg:t}),i=t.msg||"",e=t.title||"提示",n=t.btnText||"确定",s=t.template||u.messageDialogTemplate,s=s.replace("{msg}",i),s=s.replace("{title}",e),s=s.replace("{btnText}",n);var o=u.makeDOM(s),a=o.querySelector(".u-msg-button");new u.Button({el:a}),u.on(a,"click",function(){document.body.removeChild(o),document.body.removeChild(r)});var r=u.makeModal(o);document.body.appendChild(o),this.resizeFun=function(){var t=o.querySelector(".u-msg-content");if(t){t.style.height="";var e=o.offsetHeight,i=o.scrollHeight;i>e&&t&&(t.style.height=e-102+"px")}}.bind(this),this.resizeFun(),u.on(window,"resize",this.resizeFun)},u.confirmDialogTemplate='<div class="u-msg-dialog"><div class="u-msg-title"><h4>{title}</h4></div><div class="u-msg-content"><p>{msg}</p></div><div class="u-msg-footer"><button class="u-msg-ok u-button primary raised">{okText}</button><button class="u-msg-cancel u-button">{cancelText}</button></div></div>',u.confirmDialog=function(t){var e,i,n,s,o,a,r;i=t.msg||"",e=t.title||"确认",n=t.okText||"确定",s=t.cancelText||"取消",a=t.onOk||function(){},r=t.onCancel||function(){},o=t.template||u.confirmDialogTemplate,o=o.replace("{msg}",i),o=o.replace("{title}",e),o=o.replace("{okText}",n),o=o.replace("{cancelText}",s);var l=u.makeDOM(o),d=l.querySelector(".u-msg-ok"),c=l.querySelector(".u-msg-cancel");new u.Button({el:d}),new u.Button({el:c}),u.on(d,"click",function(){a()!==!1&&(document.body.removeChild(l),document.body.removeChild(h))}),u.on(c,"click",function(){r()!==!1&&(document.body.removeChild(l),document.body.removeChild(h))});var h=u.makeModal(l);document.body.appendChild(l),this.resizeFun=function(){var t=l.querySelector(".u-msg-content");if(t){t.style.height="";var e=l.offsetHeight,i=l.scrollHeight;i>e&&t&&(t.style.height=e-102+"px")}}.bind(this),this.resizeFun(),u.on(window,"resize",this.resizeFun)},u.threeBtnDialog=function(){},u.dialogTemplate='<div class="u-msg-dialog" id="{id}" style="{width}{height}">{close}</div>';var dialogMode=function(t){"string"==typeof t&&(t={content:t});var e={id:"",content:"",hasCloseMenu:!0,template:u.dialogTemplate,width:"",height:""};t=u.extend(e,t),this.id=t.id,this.hasCloseMenu=t.hasCloseMenu,this.content=t.content,this.template=t.template,this.width=t.width,this.height=t.height,this.lazyShow=t.lazyShow,this.create(),this.resizeFun=function(){var t=this.contentDom.querySelector(".u-msg-content");t.style.height="";var e=this.templateDom.offsetHeight,i=this.contentDom.offsetHeight;i>e&&t&&(t.style.height=e-102+"px")}.bind(this),this.resizeFun(),u.on(window,"resize",this.resizeFun)};dialogMode.prototype.create=function(){var t="",e=this;if(this.hasCloseMenu)var t='<div class="u-msg-close"> <span aria-hidden="true">&times;</span></div>';var i=this.template.replace("{id}",this.id);i=i.replace("{close}",t),i=i.replace("{width}",this.width?"width:"+this.width+";":""),i=i.replace("{height}",this.height?"height:"+this.height+";":""),this.contentDom=document.querySelector(this.content),this.templateDom=u.makeDOM(i),this.contentDom?(this.contentDomParent=this.contentDom.parentNode,this.contentDom.style.display="block"):this.contentDom=u.makeDOM('<div><div class="u-msg-content"><p>'+this.content+"</p></div></div>"),this.templateDom.appendChild(this.contentDom),this.overlayDiv=u.makeModal(this.templateDom),this.hasCloseMenu&&(this.closeDiv=this.templateDom.querySelector(".u-msg-close"),u.on(this.closeDiv,"click",function(){e.close()})),this.lazyShow&&(this.templateDom.style.display="none",this.overlayDiv.style.display="none"),document.body.appendChild(this.templateDom),this.isClosed=!1},dialogMode.prototype.show=function(){this.isClosed&&this.create(),this.templateDom.style.display="block",this.overlayDiv.style.display="block"},dialogMode.prototype.hide=function(){this.templateDom.style.display="none",this.overlayDiv.style.display="none"},dialogMode.prototype.close=function(){this.contentDom&&(this.contentDom.style.display="none",this.contentDomParent.appendChild(this.contentDom)),document.body.removeChild(this.templateDom),document.body.removeChild(this.overlayDiv),this.isClosed=!0},u.dialog=function(t){return new dialogMode(t)},u.dialogWizard=function(t){var e=[],i=0;if(t.dialogs=t.dialogs||[],len=t.dialogs.length,0==len)throw new Error("未加入对话框");for(var n=0;n<len;n++)e.push(u.dialog(u.extend(t.dialogs[n],{lazyShow:!0})));var s=function(){};return s.prototype.show=function(){e[i].show()},s.prototype.next=function(){e[i].hide(),e[++i].show()},s.prototype.prev=function(){e[i].hide(),e[--i].show()},s.prototype.close=function(){for(var t=0;t<len;t++)e[t].close()},new s},u.Combobox=u.BaseComponent.extend({DEFAULTS:{dataSource:{},mutil:!1,enable:!0,single:!0,onSelect:function(){}},init:function(){var t=this,e=this.element;this.options=u.extend({},this.DEFAULTS,this.options),this.items=[],this.mutilPks=[],this.oDiv=null,Object.defineProperty(e,"value",{get:function(){return this.trueValue},set:function(i){var n=t.items,s=t.oDiv.childNodes;if("true"==t.options.single||1==t.options.single)for(var o=0,a=n.length;a>o;o++){var r=n[o].pk;if(r==i){this.innerHTML=n[o].name,this.trueValue=i;break}this.trueValue="",this.innerHTML=""}else if("true"==t.options.mutil||1==t.options.mutil){if(!u.isArray(i)){if("string"!=typeof i||""===i)return;i=i.split(","),t.mutilPks=i}0==t.mutilPks.length&&(t.mutilPks=i),this.innerHTML="";for(var l=[],d=0;d<i.length;d++)for(var o=0,a=s.length;a>o;o++){var r=s[o].item.pk;if(i[d]==r){l.push(i[d]),s[o].style.display="none";var c=document.createElement("Div");c.className="mutil-select-div";var h="<i class='itemName'>"+n[o].name+"</i>",p="<i class='fa fa-close'></i>";c.insertAdjacentHTML("beforeEnd",p+h),this.appendChild(c),u.on(c.querySelector(".fa-close"),"mousedown",function(){for(var i=t.oDiv.childNodes,n=0,s=i.length;s>n;n++)if(i[n].item.name==this.nextSibling.innerHTML){i[n].style.display="block";for(var o=0;o<t.mutilPks.length;o++)t.mutilPks[o]==i[n].item.pk&&(t.mutilPks.splice(o,1),o--);for(var a=0;a<l.length;a++)l[a]==i[n].item.pk&&(l.splice(a,1),a--)}c.removeChild(this.parentNode),e.trueValue="",e.trueValue=l.toString(),u.trigger(e,"mutilSelect",l.toString())})}}this.trueValue=l.toString()}}}),"readonly"!==this.options.readonly&&("true"!=this.options.single&&1!=this.options.single||this.singleSelect(),"true"!=this.options.mutil&&1!=this.options.mutil||this.mutilSelect(),this.clickEvent(),this.blurEvent(),this.comboFilter(),this.comboFilterClean())}}),u.Combobox.fn=u.Combobox.prototype,u.Combobox.fn.createDom=function(){var t=this.options.dataSource;if(u.isEmptyObject(t))throw new Error("dataSource为空！");var e=document.createElement("div");e.className="select-list-div",this.oDiv=e;var i=document.createElement("div");i.className="select-search";var n=document.createElement("input");i.appendChild(n),e.appendChild(i),this.options.readchange&&(i.style.display="none");var s=document.createElement("ul");s.className="select-list-ul";for(var o=0;o<t.length;o++){var a={pk:t[o].pk,name:t[o].name};this.items.push(a);var r=document.createElement("li");r.item=a,r.innerHTML=t[o].name,s.appendChild(r)}e.appendChild(s),e.style.display="none",document.body.appendChild(e)},u.Combobox.fn.focusEvent=function(){var t=this;u.on(this.element,"click",function(e){if(1!=t.options.readchange){var i=t.show();1!==i&&(t.floatLayer(),t.floatLayerEvent(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}})},u.Combobox.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;u.on(e,"click",function(e){t.show(),t.floatLayer(),t.floatLayerEvent(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.Combobox.fn.blurEvent=function(){var t=this;u.on(this.element,"keyup",function(e){var i=e.which||e.keyCode;9==i&&t.show()}),u.on(this.element,"keydown",function(e){var i=e.which||e.keyCode;9==i&&t.hide()})},u.Combobox.fn.floatLayer=function(){if(!document.querySelector(".select-floatDiv")){var t=document.createElement("div");t.className="select-floatDiv",document.body.appendChild(t)}},u.Combobox.fn.floatLayerEvent=function(){var t=this;u.on(document.querySelector(".select-floatDiv"),"click",function(e){t.hide(),this.parentNode.removeChild(this),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.Combobox.fn.show=function(){for(var t=this.oDiv.querySelector("ul").childNodes,e=0,i=0,n=t.length;n>i;i++)"none"==t[i].style.display&&e++;if(e===n)return 1;var s=this.element.offsetLeft,o=this.element.offsetTop,a=30*this.options.dataSource.length+10+10,r=o+u.getStyle(this.element,"height")+a-(window.outerHeight+window.scrollY),l=this.oDiv;r>0?(l.style.left=s+"px",l.style.top=o-a+"px"):(l.style.left=s+"px",l.style.top=o+u.getStyle(this.element,"height")+"px"),l.style.display="block"},u.Combobox.fn.hide=function(){this.oDiv.style.display="none"},u.Combobox.fn.singleDivValue=function(){for(var t=this,e=this.oDiv.querySelector("ul").childNodes,i=0;i<e.length;i++)u.on(e[i],"click",function(){var e=this.item;t.element.value=e.pk,t.oDiv.style.display="none",t.options.onSelect(e),u.trigger(t.element,"change")})},u.Combobox.fn.mutilDivValue=function(){for(var t=this,e=this.oDiv.querySelector("ul").childNodes,i=0;i<e.length;i++)u.on(e[i],"click",function(){var e=this.item.pk,i=t.mutilPks,n=i.length;if(n>0)for(var s=0;n>s;s++)e==i[s]&&(i.splice(s,1),s--);i.push(e),t.element.value=i,u.trigger(t.element,"mutilSelect",i.toString()),t.oDiv.style.display="none",this.style.display="none",u.trigger(t.element,"change")})},u.Combobox.fn.singleSelect=function(){this.createDom(),this.focusEvent(),this.singleDivValue()},u.Combobox.fn.mutilSelect=function(){this.createDom(),this.mutilDivValue(),this.focusEvent()},u.Combobox.fn.comboFilter=function(){u.on(this.oDiv,"keyup",function(){for(var t=this.querySelector(".select-search input").value,e=this.oDiv.querySelector("ul").childNodes,i=0;i<e.length;i++)-1!=e[i].item.name.indexOf(t)?e[i].style.display="block":e[i].style.display="none"})},u.Combobox.fn.comboFilterClean=function(){var t=this;u.on(t.element,"click",function(){t.oDiv.querySelector(".select-search input").value="";var e=this.oDiv.querySelector("ul").childNodes;if("true"==t.options.single||1==t.options.single)for(var i=0;i<e.length;i++)e[i].style.display="block";else if("true"==t.options.mutil||1==t.options.mutil){for(var n=[],s=this.querySelector(".mutil-select-div .itemName"),i=0;i<s.length;i++)for(var o=0;o<e.length;o++)s[i].innerHTML==e[o].item.name&&n.push(o);for(var a=0;a<e.length;a++){e[a].style.display="block";for(var r=0;r<n.length;r++)a==n[r]&&(e[a].style.display="none")}}})},u.compMgr&&u.compMgr.regComp({comp:u.Combobox,compAsString:"u.Combobox",css:"u-combobox"}),u.Multilang=u.BaseComponent.extend({DEFAULTS:{dataSource:{},onSelect:function(){}},init:function(){this.element;this.options=u.extend({},this.DEFAULTS,this.options),this.multinfo(this.options.multinfo),this.addData(this.options.multidata)}}),u.Multilang.fn=u.Multilang.prototype,u.Multilang.fn.addData=function(t){var e,i=this.element,n=i.parentNode;e="object"==typeof t?t:t.split(","),n.value=e,u.each(e,function(t,e){n.querySelectorAll(".m_context")[t].innerHTML=e})},u.Multilang.fn.multinfo=function(t){var e=this.element,i=this,n="",s=!0,o="name";if(t.lang_name&&(o=t.lang_name),u.isArray(t)){u.wrap(e,"<div class='multilang_body'><input class='lang_value' contenteditable='true'><span class='fa fa-sort-desc lang_icon'><span class='m_icon'></span></span>"),u.css(e,"display","none"),u.each(t,function(t,e){n+=t?"<label attr='"+o+(t+1)+"'><span class='m_context'></span><span class='m_icon'>"+e+"</span></label>":"<label attr='"+o+"'><span class='m_context'></span><span class='m_icon'>"+e+"</span></label>"});var a=e.parentNode;a.insertAdjacentHTML("beforeEnd","<div class='multilang_menu '>"+n+"</div>");var r=a.querySelector(".lang_icon"),l=a.querySelector(".multilang_menu"),d=a.querySelector(".lang_value");u.on(r,"click",function(){a.querySelector(".lang_value").focus(),"block"==u.css(l,"display")?u.css(l,"display","none"):u.css(l,"display","block")}),u.on(l,"mouseenter",function(){s=!1}),u.on(l,"mouseleave",function(){s=!0}),u.on(d,"blur",function(){e=this,tmpkey=e.className.split(" ")[2],tmptext=e.value,u.hasClass(e,"ready_change")&&i.changeData(a,tmpkey,tmptext),s&&u.css(l,"display","none")}),u.on(l,"click","label",function(){var t=this,e=t.getAttribute("attr"),i=t.querySelector(".m_context").innerHTML,n=t.querySelector(".m_icon").cloneNode(!0);d.setAttribute("class","ready_change lang_value "+e),d.value=i,d.focus();var s=a.querySelector(".lang_icon"),o=a.querySelector(".m_icon");u.removeClass(s,"fa-sort-desc"),s.replaceChild(n,o)})}else console.error("Not object")},u.Multilang.fn.changeData=function(t,e,i){var n=t.value;tmplabel=t.querySelector("label[attr='"+e+"']"),tmpcontext=tmplabel.querySelector(".m_context"),tmpcontext.innerHTML=i,tmpcontext.value=i,u.each(t.querySelectorAll(".m_context"),function(t,e){n[t]=e.innerHTML}),u.trigger(this.element,"change.u.multilang",{newValue:i,field:e})},u.Multilang.fn.getData=function(){var t=$(multilang.target).next(".multilang_body")[0],e=t.value;return e},u.compMgr&&u.compMgr.regComp({comp:u.Multilang,compAsString:"u.Multilang",css:"u-multilang"}),u.Autocomplete=u.BaseComponent.extend({defaults:{inputClass:"ac_input",resultsClass:"ac_results",lineSeparator:"\n",cellSeparator:"|",minChars:1,delay:400,matchCase:0,matchSubset:1,matchContains:0,cacheLength:1,mustMatch:0,extraParams:{},loadingClass:"ac_loading",selectFirst:!1,selectOnly:!1,maxItemsToShow:-1,autoFill:!1,width:0,source:null,select:null,multiSelect:!1},init:function(){var t=this;this.options=u.extend({},this.defaults,this.options),this.requestIndex=0,this.pending=0,this.options.inputClass&&u.addClass(this.element,this.options.inputClass),this._results=document.querySelector("#autocompdiv"),this._results||(this._results=u.makeDOM('<div id="autocompdiv"></div>'),document.body.appendChild(this._results)),this._results.style.display="none",this._results.style.position="absolute",u.addClass(this._results,this.options.resultsClass),this.options.width&&(this._results.style.width=this.options.width),this.timeout=null,this.prev="",this.active=-1,this.cache={},this.keyb=!1,this.hasFocus=!1,this.lastKeyPressCode=null,this._initSource(),u.on(this.element,"keydown",function(e){switch(t.lastKeyPressCode=e.keyCode,e.keyCode){case 38:u.stopEvent(e),t.moveSelect(-1);break;case 40:u.stopEvent(e),t.moveSelect(1);break;case 9:case 13:t.selectCurrent()&&u.stopEvent(e);break;default:t.active=-1,t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout(function(){t.onChange()},t.options.delay)}}),u.on(this.element,"focus",function(){t.hasFocus=!0}),u.on(this.element,"blur",function(){t.hasFocus=!1,t.hideResults()}),this.hideResultsNow()},flushCache:function(){this.cache={},this.cache.data={},this.cache.length=0},_initSource:function(){var t,e,i=this;u.isArray(this.options.source)?(t=this.options.source,this.source=function(e,n){n(i.filterData(e.term,t))}):"string"==typeof this.options.source?(e=this.options.source,this.source=function(t,n){i.xhr&&i.xhr.abort(),i.xhr=u.ajax({url:e,data:t,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_response:function(){var t=this,e=++this.requestIndex;return function(i){e===t.requestIndex&&t.__response(i),t.pending--,!t.pending}},__response:function(t){t&&this.receiveData2(t),this.showResults()},onChange:function(){if(46==this.lastKeyPressCode||this.lastKeyPressCode>8&&this.lastKeyPressCode<32)return this._results.style.disply="none";if(this.element.value){var t=this.element.value.split(","),e=t[t.length-1].trim();e!=this.prev&&(this.prev=e,e.length>=this.options.minChars?(u.addClass(this.element,this.options.loadingClass),this.pending++,this.source({term:e},this._response())):(u.removeClass(this.element,this.options.loadingClass),this._results.style.display="none"))}},moveSelect:function(t){var e=this._results.querySelectorAll("li");e&&(this.active+=t,this.active<0?this.active=0:this.active>=e.length&&(this.active=e.length-1),e.forEach(function(t){u.removeClass(t,"ac_over")}),u.addClass(e[this.active],"ac_over"))},selectCurrent:function(){var t=this._results.querySelector("li.ac_over");if(!t){var e=this._results.querySelectorAll("li");this.options.selectOnly?1==e.length&&(t=e[0]):this.options.selectFirst&&(t=e[0])}return t?(this.selectItem(t),!0):!1},selectItem:function(t){var e=this;t||(t=document.createElement("li"),t.selectValue="");var i=t.selectValue?t.selectValue:t.innerHTML;if(this.lastSelected=i,this.prev=i,this._results.innerHTML="",this.options.multiSelect){if(-1!=(this.element.value+",").indexOf(i+","))return;var n=(this.element.value.split(","),this.element.value.substring(0,this.element.value.lastIndexOf(",")));this.element.value=(n?n+", ":n)+i+", "}else this.element.value=i;this.hideResultsNow(),this.element.focus(),this.options.select&&setTimeout(function(){e.options.select(t._item,e)},1)},createSelection:function(t,e){var i=this.element;if(i.createTextRange){var n=i.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()}else i.setSelectionRange?i.setSelectionRange(t,e):i.selectionStart&&(i.selectionStart=t,i.selectionEnd=e);i.focus()},autoFill:function(t){8!=this.lastKeyPressCode&&(this.element.value=this.element.value+t.substring(this.prev.length),this.createSelection(this.prev.length,t.length))},showResults:function(){var t=findPos(this.element),e=this.options.width>0?this.options.width:this.element.offsetWidth;"100%"===this.options.width?(this._results.style.top=t.y+this.element.offsetHeight+"px",this._results.style.left=t.x+"px",this._results.style.display="block"):(this._results.style.width=parseInt(e)+"px",this._results.style.top=t.y+this.element.offsetHeight+"px",this._results.style.left=t.x+"px",this._results.style.display="block")},hideResults:function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.hideResultsNow()},200)},hideResultsNow:function(){if(this.timeout&&clearTimeout(this.timeout),u.removeClass(this.element,this.options.loadingClass),this._results.style.display="none",this.options.mustMatch){var t=this.element.value;t!=this.lastSelected&&this.selectItem(null)}},receiveData:function(t,e){if(e){if(u.removeClass(this.element,this.options.loadingClass),this._results.innerHTML="",!this.hasFocus||0==e.length)return this.hideResultsNow();this._results.appendChild(this.dataToDom(e)),this.options.autoFill&&this.element.value.toLowerCase()==t.toLowerCase()&&this.autoFill(e[0][0]),this.showResults()}else this.hideResultsNow()},filterData:function(t,e){if(!t)return e;for(var i=[],n=0,s=e.length;s>n;n++){var o=e[n].label;o.indexOf(t)>-1&&i.push(e[n])}return i},receiveData2:function(t){if(t){if(u.removeClass(this.element,this.options.loadingClass),this._results.innerHTML="",!this.hasFocus||0==t.length)return this.hideResultsNow();this._results.appendChild(this.dataToDom2(t)),this.showResults()}else this.hideResultsNow()},dataToDom2:function(t){var e=document.createElement("ul"),i=t.length,n=this,s=!1;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<i&&(i=this.options.maxItemsToShow,this.options.moreMenuClick&&(s=!0));for(var o=0;i>o;o++){var a=t[o];if(a){var r=document.createElement("li");this.options.formatItem?r.innerHTML=this.options.formatItem(a,o,i):r.innerHTML=a.label,r.selectValue=a.label,r._item=a,e.appendChild(r),u.on(r,"mouseenter",function(){var t=e.querySelector("li.ac_over");t&&u.removeClass(t,"ac_over"),u.addClass(this,"ac_over"),n.active=indexOf(e.querySelectorAll("li"),this)}),u.on(r,"mouseleave",function(){u.removeClass(this,"ac_over")}),u.on(r,"mousedown",function(t){u.stopEvent(t),n.selectItem(this)})}}if(s){var r=document.createElement("li");r.innerHTML="更多",e.appendChild(r),u.on(r,"mouseenter",function(){var t=e.querySelector("li.ac_over");t&&u.removeClass(t,"ac_over"),u.addClass(this,"ac_over")}),u.on(r,"mouseleave",function(){u.removeClass(this,"ac_over")}),u.on(r,"mousedown",function(t){u.stopEvent(t),n.options.moreMenuClick.call(n)})}return e},parseData:function(){if(!data)return null;for(var t=[],e=data.split(this.options.lineSeparator),i=0;i<e.length;i++){var n=e[i];n&&(t[t.length]=n.split(this.options.cellSeparator))}return t},dataToDom:function(t){var i=document.createElement("ul"),n=t.length,s=this,o=!1;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<n&&(n=this.options.maxItemsToShow,this.options.moreMenuClick&&(o=!0));for(var a=0;n>a;a++){var r=t[a];if(r){var l=document.createElement("li");this.options.formatItem?(l.innerHTML=this.options.formatItem(r,a,n),l.selectValue=r[0]):(l.innerHTML=r[0],l.selectValue=r[0]);var d=null;if(r.length>1){d=[];for(var c=1;c<r.length;c++)d[d.length]=r[c]}l.extra=d,i.appendChild(l),u.on(l,"mouseenter",function(){var t=i.querySelector("li.ac_over");t&&u.removeClass(t,"ac_over"),u.addClass(this,"ac_over"),s.active=indexOf(i.querySelectorAll("li"),this)}),u.on(l,"mouseleave",function(){u.removeClass(this,"ac_over")}),u.on(l,"mousedown",function(){u.stopEvent(e),s.selectItem(this)})}}if(o){var l=document.createElement("li");l.innerHTML="更多",i.appendChild(l),u.on(l,"mouseenter",function(){var t=i.querySelector("li.ac_over");t&&u.removeClass(t,"ac_over"),u.addClass(this,"ac_over")}),u.on(l,"mouseleave",function(){u.removeClass(this,"ac_over")}),u.on(l,"mousedown",function(t){u.stopEvent(t),s.options.moreMenuClick.call(s)})}return i},requestData:function(){var t=this;this.options.matchCase||(q=q.toLowerCase());var e=this.options.cacheLength?this.loadFromCache(q):null;e?this.receiveData(q,e):"string"==typeof this.options.url&&this.options.url.length>0?u.ajax({url:this.makeUrl(q),success:function(e){e=t.parseData(e),t.addToCache(q,e),t.receiveData(q,e)}}):u.removeClass(this.element,this.options.loadingClass)},makeUrl:function(t){var e=this.options.url+"?q="+encodeURI(t);for(var i in this.options.extraParams)e+="&"+i+"="+encodeURI(this.options.extraParams[i]);return e},loadFromCache:function(){if(!q)return null;if(this.cache.data[q])return this.cache.data[q];if(this.options.matchSubset)for(var t=q.length-1;t>=this.options.minChars;t--){var e=q.substr(0,t),i=this.cache.data[e];if(i){for(var n=[],s=0;s<i.length;s++){var o=i[s],a=o[0];this.matchSubset(a,q)&&(n[n.length]=o)}return n}}return null},matchSubset:function(t,e){this.options.matchCase||(t=t.toLowerCase());var i=t.indexOf(e);return-1==i?!1:0==i||this.options.matchContains},addToCache:function(t,e){e&&t&&this.options.cacheLength&&(!this.cache.length||this.cache.length>this.options.cacheLength?(this.flushCache(),this.cache.length++):this.cache[t]||this.cache.length++,this.cache.data[t]=e)}}),u.compMgr.regComp({comp:u.Autocomplete,compAsString:"u.Autocomplete",css:"u-autocomplete"}),u.Combo=u.BaseComponent.extend({init:function(){this.mutilSelect=this.options.mutilSelect||!1,u.hasClass(this.element,"mutil-select")&&(this.mutilSelect=!0),this.onlySelect=this.options.onlySelect||!1,this.mutilSelect&&(this.onlySelect=!0),this.comboDatas=[];var t,e,i=[],n=this;new u.Text(this.element);var s=this.element.getElementsByTagName("option");for(t=0;t<s.length;t++)e=s[t],i.push({value:e.value,name:e.text});this.setComboData(i),this._input=this.element.querySelector("input"),this.onlySelect||u.isMobile?setTimeout(function(){n._input.setAttribute("readonly","readonly")},1e3):u.on(this._input,"blur",function(t){for(var e=this.value,i=0;i<n.comboDatas.length;i++)if(e==n.comboDatas[i].name){e=n.comboDatas[i].value;break}n.setValue(e)}),this._combo_name_par=this.element.querySelector(".u-combo-name-par"),u.on(this._input,"focus",function(t){n._inputFocus=!0,n.show(t),u.stopEvent(t)}),u.on(this._input,"blur",function(t){n._inputFocus=!1}),u.on(this.input,"keydown",function(t){t.keyCode;13==t.keyCode&&this.blur()}),this.iconBtn=this.element.querySelector("[data-role='combo-button']"),this.iconBtn&&u.on(this.iconBtn,"click",function(t){n._input.focus(),u.stopEvent(t)})},show:function(t){var e=this,i=this.element.offsetWidth;u.showPanelByEle({ele:this._input,panel:this._ul,position:"bottomLeft"}),document.body.onscroll=function(){u.showPanelByEle({ele:e._input,panel:e._ul,position:"bottomLeft"})},this._ul.style.width=i+"px",u.addClass(this._ul,"is-animating"),this._ul.style.zIndex=u.getZIndex(),u.addClass(this._ul,"is-visible");var n=function(i){i!==t&&i.target!==this._input&&1!=e._inputFocus&&(this.mutilSelect&&(u.closest(i.target,"u-combo-ul")===e._ul||u.closest(i.target,"u-combo-name-par")||u.closest(i.target,"u-combo-name"))||(u.off(document,"click",n),this.hide()))}.bind(this);u.on(document,"click",n),u.on(document.body,"touchend",n)},hide:function(){u.removeClass(this._ul,"is-visible"),this._ul.style.zIndex=-1,this.trigger("select",{value:this.value})},setComboData:function(t,e){var i,n,s=this;if(e){this.comboDatas=[];for(var i=0;i<t.length;i++)this.comboDatas.push({name:t[i][e.name],value:t[i][e.value]})}else this.comboDatas=t;for(this._ul||(this._ul=u.makeDOM('<ul class="u-combo-ul"></ul>'),document.body.appendChild(this._ul)),this._ul.innerHTML="",i=0;i<this.comboDatas.length;i++)n=u.makeDOM('<li class="u-combo-li">'+this.comboDatas[i].name+"</li>"),n._index=i,u.on(n,"click",function(){s.selectItem(this._index)}),this._ul.appendChild(n)},selectItem:function(t){if(this.mutilSelect){var e,i=this.comboDatas[t].value,n=this.comboDatas[t].name,t=(this.value+",").indexOf(i+","),s=i.length+1;if(-1!=t?(this.value=this.value.substring(0,t)+this.value.substring(t+s),e="-"):(this.value=this.value?this.value+i+",":i+",",e="+"),"+"==e){var o=u.makeDOM('<div class="u-combo-name" key="'+i+'">'+n+"</div>"),a=u.makeDOM('<div class="u-combo-name-par" style="position:absolute"></div>');this._combo_name_par||(this._input.parentNode.insertBefore(a,this._input),this._combo_name_par=a),this._combo_name_par.appendChild(o)}else if(this._combo_name_par){var r=this._combo_name_par.querySelector('[key="'+i+'"]');r&&this._combo_name_par.removeChild(r)}this._updateItemSelect()}else this.value=this.comboDatas[t].value,this._input.value=this.comboDatas[t].name,this._updateItemSelect()},_updateItemSelect:function(){var t=this._ul.querySelectorAll(".u-combo-li");if(this.mutilSelect){for(var e=this.value.split(","),i=0;i<t.length;i++)e.indexOf(this.comboDatas[i].value)>-1?u.addClass(t[i],"is-selected"):u.removeClass(t[i],"is-selected");var n=this._combo_name_par.offsetHeight;25>n&&(n=25),this._input.style.height=n+"px"}else for(var i=0;i<t.length;i++)this.value==this.comboDatas[i].value?u.addClass(t[i],"is-selected"):u.removeClass(t[i],"is-selected")},setValue:function(t){var e=this;t+="",t=t||"";var i=t.split(",");this.mutilSelect===!0&&(e._combo_name_par&&(e._combo_name_par.innerHTML=""),this.value=""),t||(this._input.value="",this.value="");var n=!1;this.comboDatas.forEach(function(e,s){if(this.mutilSelect===!0)-1!=i.indexOf(e.value)&&this.selectItem(s);else if(e.value===t)return this.selectItem(s),void(n=!0)}.bind(this)),this.onlySelect||n||(this.value=t,this._input.value=t,this.trigger("select",{value:this.value,name:this._input.value}))},setName:function(t){this.comboDatas.forEach(function(e,i){return e.name===t?void this.selectItem(i):void 0}.bind(this))}}),u.compMgr.regComp({comp:u.Combo,compAsString:"u.Combo",css:"u-combo"}),u.Table=u.BaseComponent.extend({_CssClasses:{SELECTABLE:"selectable",SELECT_ELEMENT:"u-table-select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},init:function(){if(this.element_=this.element,this.element_){var t=(this.element_.querySelector("th"),Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr"))),e=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr"));t.concat(e)}},_selectRow:function(t,e,i){return e?function(){t.checked?e.classList.add(this._CssClasses.IS_SELECTED):e.classList.remove(this._CssClasses.IS_SELECTED)}.bind(this):i?function(){var e,n;if(t.checked)for(e=0;e<i.length;e++)n=i[e].querySelector("td").querySelector(".u-checkbox"),i[e].classList.add(this._CssClasses.IS_SELECTED);else for(e=0;e<i.length;e++)n=i[e].querySelector("td").querySelector(".u-checkbox"),i[e].classList.remove(this._CssClasses.IS_SELECTED)}.bind(this):void 0},_createCheckbox:function(t,e){var i=document.createElement("label"),n=["u-checkbox",this._CssClasses.SELECT_ELEMENT];i.className=n.join(" ");var s=document.createElement("input");return s.type="checkbox",s.classList.add("u-checkbox-input"),t?(s.checked=t.classList.contains(this._CssClasses.IS_SELECTED),s.addEventListener("change",this._selectRow(s,t))):e&&s.addEventListener("change",this._selectRow(s,null,e)),i.appendChild(s),new u.Checkbox(i),i}}),u.compMgr&&u.compMgr.regComp({comp:u.Table,compAsString:"u.Table",css:"u-table"}),u.pagination=u.BaseComponent.extend({});var PageProxy=function(t,e){this.isCurrent=function(){return e==t.currentPage},this.isFirst=function(){return 1==e},this.isLast=function(){return e==t.totalPages},this.isPrev=function(){return e==t.currentPage-1},this.isNext=function(){return e==t.currentPage+1},this.isLeftOuter=function(){return e<=t.outerWindow},this.isRightOuter=function(){return t.totalPages-e<t.outerWindow},this.isInsideWindow=function(){return t.currentPage<t.innerWindow+1?e<=2*t.innerWindow+1:t.currentPage>t.totalPages-t.innerWindow?t.totalPages-e<=2*t.innerWindow:Math.abs(t.currentPage-e)<=t.innerWindow},this.number=function(){return e},this.pageSize=function(){return t.pageSize}},View={firstPage:function(t,e,i){return'<li role="first"'+(i.isFirst()?'class="disabled"':"")+"><a >"+e.first+"</a></li>"},prevPage:function(t,e,i){return'<li role="prev"'+(i.isFirst()?'class="disabled"':"")+'><a  rel="prev">'+e.prev+"</a></li>"},nextPage:function(t,e,i){return'<li role="next"'+(i.isLast()?'class="disabled"':"")+'><a  rel="next">'+e.next+"</a></li>"},lastPage:function(t,e,i){return'<li role="last"'+(i.isLast()?'class="disabled"':"")+"><a >"+e.last+"</a></li>"},gap:function(t,e){return'<li role="gap" class="disabled"><a href="#">'+e.gap+"</a></li>"},page:function(t,e,i){return'<li role="page"'+(i.isCurrent()?'class="active"':"")+"><a "+(i.isNext()?' rel="next"':"")+(i.isPrev()?'rel="prev"':"")+">"+i.number()+"</a></li>"}};u.pagination.prototype.init=function(t,e){var t=this.element;this.$element=t,this.options=u.extend({},this.DEFAULTS,this.options),this.$ul=this.$element,this.render()},u.pagination.prototype.DEFAULTS={currentPage:1,totalPages:1,pageSize:10,pageList:[10,20,50,100],innerWindow:2,outerWindow:0,first:"&laquo;",prev:'<i class="fa fa-chevron-left"></i>',next:'<i class="fa fa-chevron-right"></i>',last:"&raquo;",gap:"···",totalText:"共",truncate:!1,showState:!0,page:function(t){return!0}},u.pagination.prototype.update=function(t){this.$ul.innerHTML="",this.options=u.extend({},this.options,t),this.render()},u.pagination.prototype.render=function(){var t=((new Date).valueOf(),this.options);if(!t.totalPages)return void(this.$element.style.display="none");this.$element.style.display="block";var e,i=[],n=new PageProxy(t,t.currentPage),s=2,o=t.totalPages-0,a=t.currentPage-0,r=0;if(s>=a-2){
for(var l=1;a>=l;l++)e=new PageProxy(t,l),i.push(View.page(this,t,e));if(r=0>s-(a-1)?0:s-(a-1),s+1>=o-a-r)for(var l=a+1;o>=l;l++)e=new PageProxy(t,l),i.push(View.page(this,t,e));else{for(var l=a+1;a+s+r>=l;l++)e=new PageProxy(t,l),i.push(View.page(this,t,e));i.push(View.gap(this,t)),e=new PageProxy(t,o),i.push(View.page(this,t,e))}}else if(s+1>=o-a){r=0>s-(o-a)?0:s-(o-a);for(var l=a-s-r;o>=l;l++)e=new PageProxy(t,l),i.push(View.page(this,t,e));l>=2&&(i.unshift(View.gap(this,t)),e=new PageProxy(t,1),i.unshift(View.page(this,t,e)))}else{for(var l=a-s;a+s>=l;l++)e=new PageProxy(t,l),i.push(View.page(this,t,e));i.push(View.gap(this,t)),e=new PageProxy(t,o),i.push(View.page(this,t,e)),i.unshift(View.gap(this,t)),e=new PageProxy(t,1),i.unshift(View.page(this,t,e))}if(i.unshift(View.prevPage(this,t,n)),i.push(View.nextPage(this,t,n)),(void 0===t.totalCount||t.totalCount<=0)&&(t.totalCount=0),t.showState){var d='<div class="pagination-state">'+t.totalText+"&nbsp;"+t.totalCount+"&nbsp;条</div>";if(i.push(d),t.jumppage||t.pageSize){var c="";t.pageList.forEach(function(e){c+=t.pageSize-0==e?"<option selected>"+e+"</option>":"<option>"+e+"</option>"});var h='到<input class="page_j" value='+t.currentPage+'>页<input class="pagination-jump" type="button" value="确定"/>',p='显示<select  class="page_z">'+c+"</select>条&nbsp;&nbsp;",f="<div class='pagination-state'>"+(t.pageSize?p:"")+(t.jumppage?h:"")+"</div>";i.push(f)}}this.$ul.innerHTML="",this.$ul.insertAdjacentHTML("beforeEnd",i.join(""));var m=this;u.on(this.$ul.querySelector(".pagination-jump"),"click",function(){var e,i;return e=m.$ul.querySelector(".page_j").value||t.currentPage,i=m.$ul.querySelector(".page_z").value||t.pageSize,m.page(e,t.totalPages,i),!1}),u.on(this.$ul.querySelector('[role="first"] a'),"click",function(){return t.currentPage<=1?void 0:(m.firstPage(),!1)}),u.on(this.$ul.querySelector('[role="prev"] a'),"click",function(){return t.currentPage<=1?void 0:(m.prevPage(),!1)}),u.on(this.$ul.querySelector('[role="next"] a'),"click",function(){return parseInt(t.currentPage)+1>t.totalPages?void 0:(m.nextPage(),!1)}),u.on(this.$ul.querySelector('[role="last"] a'),"click",function(){return t.currentPage!=t.totalPages?(m.lastPage(),!1):void 0}),u.each(this.$ul.querySelectorAll('[role="page"] a'),function(e,i){u.on(i,"click",function(){var e=m.$element.querySelector(".page_z")&&m.$element.querySelector(".page_z").value||t.pageSize;return m.page(parseInt(this.innerHTML),t.totalPages,e),!1})}),u.on(this.$ul.querySelector(".page_z"),"change",function(){var e=m.$element.querySelector(".page_z")&&m.$element.querySelector(".page_z").value||t.pageSize;m.trigger("sizeChange",e)})},u.pagination.prototype.page=function(t,e,i){var n=this.options;void 0===e&&(e=n.totalPages),void 0===i&&(i=n.pageSize);var s=n.pageSize;return n.page(t)&&(0>t&&(t=0),t>e&&(t=e),this.$ul.innerHTML="",n.pageSize=i,n.currentPage=t,n.totalPages=e,this.render()),i!=s?this.trigger("sizeChange",[i,t-1]):this.trigger("pageChange",t-1),!1},u.pagination.prototype.firstPage=function(){return this.page(1)},u.pagination.prototype.lastPage=function(){return this.page(this.options.totalPages)},u.pagination.prototype.nextPage=function(){return this.page(parseInt(this.options.currentPage)+1)},u.pagination.prototype.prevPage=function(){return this.page(this.options.currentPage-1)},u.pagination.prototype.disableChangeSize=function(){this.$element.querySelector(".page_z").setAttribute("readonly",!0)},u.pagination.prototype.enableChangeSize=function(){this.$element.querySelector(".page_z").removeAttribute("readonly")},u.compMgr&&u.compMgr.regComp({comp:u.pagination,compAsString:"u.pagination",css:"u-pagination"}),u.Tooltip=function(t,e){this.init(t,e)},u.Tooltip.prototype={defaults:{animation:!0,placement:"top",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow" ></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},init:function(t,e){this.element=t,this.options=u.extend({},this.defaults,e),this._viewport=this.options.viewport&&document.querySelector(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),n=i.length;n--;){var s=i[n];if("click"==s)u.on(this.element,"click",this.toggle.bind(this));else if("manual"!=s){var o="hover"==s?"mouseenter":"focusin",a="hover"==s?"mouseleave":"focusout";u.on(this.element,o,this.enter.bind(this)),u.on(this.element,a,this.leave.bind(this))}}this.options.title=this.options.title||this.element.getAttribute("title"),this.element.removeAttribute("title"),this.options.delay&&"number"==typeof this.options.delay&&(this.options.delay={show:this.options.delay,hide:this.options.delay}),this.tipDom=u.makeDOM(this.options.template),u.addClass(this.tipDom,this.options.placement),this.options.colorLevel&&u.addClass(this.tipDom,this.options.colorLevel),this.arrrow=this.tipDom.querySelector(".tooltip-arrow"),this.container=this.options.container?document.querySelector(this.options.container):this.element.parentNode},enter:function(){var t=this;return clearTimeout(this.timeout),this.hoverState="in",this.options.delay&&this.options.delay.show?void(this.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},this.options.delay.show)):this.show()},leave:function(){var t=this;return clearTimeout(this.timeout),t.hoverState="out",t.options.delay&&t.options.delay.hide?void(t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)):t.hide()},show:function(){var t=this;this.tipDom.querySelector(".tooltip-inner").innerHTML=this.options.title,this.tipDom.style.zIndex=u.getZIndex(),this.container.appendChild(this.tipDom),u.addClass(this.tipDom,"active"),u.showPanelByEle({ele:this.element,panel:this.tipDom,position:this.options.placement}),document.body.onscroll=function(){u.showPanelByEle({ele:t.element,panel:t.tipDom,position:t.options.placement})}},hide:function(){this.container.contains(this.tipDom)&&(u.removeClass(this.tipDom,"active"),this.container.removeChild(this.tipDom))},applyPlacement:function(t,e){var i=this.tipDom.offsetWidth,n=this.tipDom.offsetHeight,s=parseInt(this.tipDom.style.marginTop,10),o=parseInt(this.tipDom.style.marginTop,10);isNaN(s)&&(s=0),isNaN(o)&&(o=0),t.top=t.top+s,t.left=t.left+o,this.tipDom.style.left=t.left+"px",this.tipDom.style.top=t.top+"px",u.addClass(this.tipDom,"active");var a=this.tipDom.offsetWidth,r=this.tipDom.offsetHeight;"top"==e&&r!=n&&(t.top=t.top+n-r);var l=this.getViewportAdjustedDelta(e,t,a,r);l.left?t.left+=l.left:t.top+=l.top;var d=/top|bottom/.test(e);d?2*l.left-i+a:2*l.top-n+r;this.tipDom.style.left=t.left+"px",this.tipDom.style.top=t.top-4+"px"},getCalculatedOffset:function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},getPosition:function(t){t=t||this.element;var e="BODY"==t.tagName,i=t.getBoundingClientRect();null==i.width&&(i=u.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var n=(e?{top:0,left:0}:{top:t.offsetTop,left:t.offsetLeft},{scroll:e?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop}),s=e?{width:window.innerWidth||document.body.clientWidth,height:window.innerHeight||document.body.clientHeight}:null;return u.extend({},i,n,s)},getViewportAdjustedDelta:function(t,e,i,n){var s={top:0,left:0};if(!this._viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this._viewport);if(/right|left/.test(t)){var r=e.top-o-a.scroll,l=e.top+o-a.scroll+n;r<a.top?s.top=a.top-r:l>a.top+a.height&&(s.top=a.top+a.height-l)}else{var u=e.left-o,d=e.left+o+i;u<a.left?s.left=a.left-u:d>a.width&&(s.left=a.left+a.width-d)}return s},replaceArrow:function(t,e,i){i?(this.arrow.style.left=50*(1-t/e)+"%",this.arrow.style.top=""):(this.arrow.style.top=50*(1-t/e)+"%",this.arrow.style.left="")},destory:function(){},setTitle:function(t){this.options.title=t}},function(t){"use strict";var e={init:function(i){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,i),e._adjustCallback.call(this),e._adjustNumber.call(this),e._adjustHints.call(this),this.opt.score=e._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._setTitle.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target","path"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustedScore:function(t){return t?e._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var i=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),this.opt.hints[e]=[];for(var n=0;t>n;n++){var s=i[n],o=i[i.length-1];void 0===o&&(o=null),this.opt.hints[e][n]=void 0===s?o:s}}},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(t),e._roundStars.call(this,t))},_between:function(t,e,i){return Math.min(Math.max(parseFloat(t),e),i)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",function(n){var s=!0,o=i.opt.half||i.opt.precision?i.self.data("score"):this.alt||t(this).data("alt");i.opt.click&&(s=i.opt.click.call(i,+o,n)),(s||void 0===s)&&(i.opt.half&&!i.opt.precision&&(o=e._roundHalfScore.call(i,o)),e._apply.call(i,o))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(i){var n=+t.score.val()||void 0;e._apply.call(t,n),e._target.call(t,n,i),e._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,n,i)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(i){var n=t.opt.cancelOff;if("img"!==t.opt.starType&&(n=t.opt.cancelClass+" "+n),e._setIcon.call(t,this,n),t.opt.mouseout){var s=+t.score.val()||void 0;t.opt.mouseout.call(t,s,i)}})},_bindOver:function(){var t=this,i=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(i,function(i){var n=e._getScoreByPosition.call(t,i,this);e._fill.call(t,n),t.opt.half&&(e._roundStars.call(t,n,i),e._setTitle.call(t,n,i),t.self.data("score",n)),e._target.call(t,n,i),t.opt.mouseover&&t.opt.mouseover.call(t,n,i)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(i){var n=t.opt.path+t.opt.starOff,s=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",n):(s=t.opt.cancelClass+" "+s,t.stars.attr("class",n)),e._setIcon.call(t,this,s),e._target.call(t,null,i),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,i=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?i.attr({src:e,alt:"x"}):i.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(i):this.self.append("&#160;").append(i),this.cancel=i},_createScore:function(){var i=t(this.opt.targetScore);this.score=i.length?i:e._buildScoreField.call(this)},_createStars:function(){for(var i=1;i<=this.opt.number;i++){var n=e._nameForIndex.call(this,i),s={alt:i,src:this.opt.path+this.opt[n]};"img"!==this.opt.starType&&(s={"data-alt":i,"class":s.src}),s.title=e._getHint.call(this,i),t("<"+this.opt.starType+" />",s).appendTo(this),this.opt.space&&this.self.append(i<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var i=0,n=1;n<=this.stars.length;n++){var s,o=this.stars[n-1],a=e._turnOn.call(this,n,t);if(this.opt.iconRange&&this.opt.iconRange.length>i){var r=this.opt.iconRange[i];s=e._getRangeIcon.call(this,r,a),n<=r.range&&e._setIcon.call(this,o,s),n===r.range&&i++}else s=this.opt[a?"starOn":"starOff"],e._setIcon.call(this,o,s)}},_getFirstDecimal:function(t){var e=t.toString().split(".")[1],i=0;return e&&(i=parseInt(e.charAt(0),10),"9999"===e.slice(1,5)&&i++),i},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(i,n){var s=parseInt(n.alt||n.getAttribute("data-alt"),10);if(this.opt.half){var o=e._getWidth.call(this),a=parseFloat((i.pageX-t(n).offset().left)/o);s=s-1+a}return s},_getHint:function(t,i){if(0!==t&&!t)return this.opt.noRatedMsg;var n=e._getFirstDecimal.call(this,t),s=Math.ceil(t),o=this.opt.hints[(s||1)-1],a=o,r=!i||this.move;return this.opt.precision?(r&&(n=0===n?9:n-1),a=o[n]):(this.opt.halfShow||this.opt.half)&&(n=r&&0===n?1:n>5?1:0,a=o[n]),""===a?"":a||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||e._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=e._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(t){for(var i=0;i<this.opt.number;i++)this.stars[i].title=e._getHint.call(this,i+1)},_roundHalfScore:function(t){var i=parseInt(t,10),n=e._getFirstDecimal.call(this,t);return 0!==n&&(n=n>5?1:.5),i+n},_roundStars:function(t,i){var n,s=(t%1).toFixed(2);if(i||this.move?n=s>.5?"starOn":"starHalf":s>this.opt.round.down&&(n="starOn",this.opt.halfShow&&s<this.opt.round.up?n="starHalf":s<this.opt.round.full&&(n="starOff")),n){var o=this.opt[n],a=this.stars[Math.ceil(t)-1];e._setIcon.call(this,a,o)}},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setTarget:function(t,e){e&&(e=this.opt.targetFormat.toString().replace("{score}",e)),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,i){if(t){var n=parseInt(Math.ceil(t),10),s=this.stars[n-1];s.title=e._getHint.call(this,t,i)}},_target:function(i,n){if(this.opt.target){var s=t(this.opt.target);s.length||e._error.call(this,"Target selector invalid or missing!");var o=n&&"mouseover"===n.type;if(void 0===i)i=this.opt.targetText;else if(null===i)i=o?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?i=e._getHint.call(this,i,n):this.opt.precision&&(i=parseFloat(i).toFixed(1));var a=n&&"mousemove"===n.type;o||a||this.opt.targetKeep||(i=this.opt.targetText)}e._setTarget.call(this,s,i)}},_turnOn:function(t,e){return this.opt.single?t===e:e>=t},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(i){return this.each(function(){var n=t(this);n.data("readonly")!==!0&&(e[i?"click":"score"].call(n,null),this.score.removeAttr("value"))})},click:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),this.opt.click&&this.opt.click.call(this,i,t.Event("click")),e._target.call(this,i))})},destroy:function(){return this.each(function(){var e=t(this),i=e.data("raw");i?e.off(".raty").empty().css({cursor:i.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:void 0)}),e.length>1?e:e[0]},move:function(i){return this.each(function(){var n=parseInt(i,10),s=e._getFirstDecimal.call(this,i);n>=this.opt.number&&(n=this.opt.number-1,s=10);var o=e._getWidth.call(this),a=o/10,r=t(this.stars[n]),l=r.offset().left+a*s,u=t.Event("mousemove",{pageX:l});this.move=!0,r.trigger(u),this.move=!1})},readOnly:function(i){return this.each(function(){var n=t(this);n.data("readonly")!==i&&(i?(n.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),n.data("readonly",i))})},reload:function(){return e.set.call(this,{})},score:function(){var i=t(this);return arguments.length?e.setScore.apply(i,arguments):e.getScore.call(i)},set:function(e){return this.each(function(){t(this).raty(t.extend({},this.opt,e))})},setScore:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),e._target.call(this,i))})}};t.fn.raty=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),u.Validate=u.BaseComponent.extend({init:function(){var self=this;this.$element=this.element,this.$form=this.form,this.options=u.extend({},this.DEFAULTS,this.options),this.required=!1,this.timeout=null,this.tipAliveTime=void 0===this.options.tipAliveTime?3e3:this.options.tipAliveTime,this.required=this.options.required?this.options.required:!1,this.validType=this.options.validType?this.options.validType:null,this.validMode=this.options.validMode?this.options.validMode:u.Validate.DEFAULTS.validMode,this.nullMsg=this.options.nullMsg?this.options.nullMsg:u.Validate.NULLMSG[this.validType],this.required&&!this.nullMsg&&(this.nullMsg=u.Validate.NULLMSG.required),this.errorMsg=this.options.errorMsg?this.options.errorMsg:u.Validate.ERRORMSG[this.validType],this.regExp=this.options.reg?this.options.reg:u.Validate.REG[this.validType];try{"string"==typeof this.regExp&&(this.regExp=eval(this.regExp))}catch(e){}this.notipFlag=this.options.notipFlag,this.hasSuccess=this.options.hasSuccess,this.tipId=this.options.tipId?this.options.tipId:null,this.successId=this.options.successId?this.options.successId:null,this.hasSuccess&&!this.successId&&(this.successId=u.makeDOM('<span class="u-form-control-success fa fa-check-circle" ></span>'),this.$element.nextSibling?this.$element.parentNode.insertBefore(this.successId,this.$element.nextSibling):this.$element.parentNode.appendChild(this.successId)),this.notipFlag&&!this.tipId&&(this.tipId=u.makeDOM('<span class="u-form-control-info fa fa-exclamation-circle "></span>'),this.$element.parentNode.appendChild(this.tipId),this.$element.nextSibling?this.$element.parentNode.insertBefore(this.tipId,this.$element.nextSibling):this.$element.parentNode.appendChild(this.tipId)),this.placement=this.options.placement?this.options.placement:u.Validate.DEFAULTS.placement,this.minLength=this.options.minLength>0?this.options.minLength:null,this.maxLength=this.options.maxLength>0?this.options.maxLength:null,this.min=void 0!==this.options.min?this.options.min:null,this.max=void 0!==this.options.max?this.options.max:null,this.minNotEq=void 0!==this.options.minNotEq?this.options.minNotEq:null,this.maxNotEq=void 0!==this.options.maxNotEq?this.options.maxNotEq:null,this.min=u.isNumber(this.min)?this.min:null,this.max=u.isNumber(this.max)?this.max:null,this.minNotEq=u.isNumber(this.minNotEq)?this.minNotEq:null,this.maxNotEq=u.isNumber(this.maxNotEq)?this.maxNotEq:null,this.create()}}),u.Validate.fn=u.Validate.prototype,u.Validate.DEFAULTS={validMode:"blur",placement:"top"},u.Validate.NULLMSG={required:trans("validate.required","不能为空！"),integer:trans("validate.integer","请填写整数！"),"float":trans("validate.float","请填写数字！"),zipCode:trans("validate.zipCode","请填写邮政编码！"),phone:trans("validate.phone","请填写手机号码！"),landline:trans("validate.landline","请填写座机号码！"),email:trans("validate.email","请填写邮箱地址！"),url:trans("validate.url","请填写网址！"),datetime:trans("validate.datetime","请填写日期！")},u.Validate.ERRORMSG={integer:trans("validate.error_integer","整数格式不对！"),"float":trans("validate.error_float","数字格式不对！"),zipCode:trans("validate.error_zipCode","邮政编码格式不对！"),phone:trans("validate.error_phone","手机号码格式不对！"),landline:trans("validate.error_landline","座机号码格式不对！"),email:trans("validate.error_email","邮箱地址格式不对！"),url:trans("validate.error_url","网址格式不对！"),datetime:trans("validate.error_datetime","日期格式不对！")},u.Validate.REG={integer:/^-?\d+$/,"float":/^-?\d+(\.\d+)?$/,zipCode:/^[0-9]{6}$/,phone:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,landline:/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/,email:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,datetime:/^(?:19|20)[0-9][0-9]-(?:(?:0[1-9])|(?:1[0-2]))-(?:(?:[0-2][1-9])|(?:[1-3][0-1])) (?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/},u.Validate.fn.create=function(){var t=this;u.on(this.element,"blur",function(e){"blur"==t.validMode&&(t.passed=t.doValid())}),u.on(this.element,"focus",function(e){t.hideMsg()}),u.on(this.element,"change",function(e){t.hideMsg()}),u.on(this.element,"keydown",function(e){var i=window.event||e;if("float"==t.validType){var n=t.element.value;if(i.shiftKey)return i.returnValue=!1,!1;if(9==i.keyCode||37==i.keyCode||39==i.keyCode||46==i.keyCode)return!0;if(i.ctrlKey&&(67==i.keyCode||86==i.keyCode))return!0;if(!(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||u.inArray(i.keyCode,[8,110,190,189,109])>-1))return i.returnValue=!1,!1;if((!n||n.indexOf(".")>-1)&&(190==i.keyCode||110==i.keyCode))return i.returnValue=!1,!1;if(n&&(n+"").split(".")[0].length>=25)return!1}if("integer"==t.validType){var n=t.element.value;if(i.shiftKey)return i.returnValue=!1,!1;if(9==i.keyCode||37==i.keyCode||39==i.keyCode||46==i.keyCode)return!0;if(i.ctrlKey&&(67==i.keyCode||86==i.keyCode))return!0;if(!(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||u.inArray(i.keyCode,[8,109,189])>-1))return i.returnValue=!1,!1;if(n&&(n+"").split(".")[0].length>=25)return!1}})},u.Validate.fn.updateOptions=function(t){},u.Validate.fn.doValid=function(t){var e;if(this.showMsgFlag=!0,t&&(e=t.pValue,this.showMsgFlag=t.showMsg),this.needClean=!1,this.element&&this.element.getAttribute("readonly"))return{passed:!0};var i=null;if("undefined"!=typeof e?i=e:this.element&&(i=this.element.value),this.isEmpty(i)&&this.required)return this.showMsg(this.nullMsg),{passed:!1,Msg:this.nullMsg};if(this.isEmpty(i)&&!this.required)return{passed:!0};if(this.regExp){var n=new RegExp(this.regExp);"number"==typeof i&&(i+="");var s=i.match(n);if(null===s||s===!1)return this.showMsg(this.errorMsg),this.needClean=!0,{passed:!1,Msg:this.errorMsg}}if(this.minLength&&i.lengthb()<this.minLength){var o="输入长度不能小于"+this.minLength+"位";return this.showMsg(o),{passed:!1,Msg:o}}if(this.maxLength&&i.lengthb()>this.maxLength){var o="输入长度不能大于"+this.maxLength+"位";return this.showMsg(o),{passed:!1,Msg:o}}if(void 0!=this.max&&null!=this.max&&parseFloat(i)>this.max){var o="输入值不能大于"+this.max;return this.showMsg(o),{passed:!1,Msg:o}}if(void 0!=this.min&&null!=this.min&&parseFloat(i)<this.min){var o="输入值不能小于"+this.min;return this.showMsg(o),{passed:!1,Msg:o}}if(void 0!=this.maxNotEq&&null!=this.maxNotEq&&parseFloat(i)>=this.maxNotEq){var o="输入值不能大于或等于"+this.maxNotEq;return this.showMsg(o),{passed:!1,Msg:o}}if(void 0!=this.minNotEq&&null!=this.minNotEq&&parseFloat(i)<=this.minNotEq){var o="输入值不能小于或等于"+this.minNotEq;return this.showMsg(o),{passed:!1,Msg:o}}if(this.successId){var a=this.successId,r=this.$element.offsetLeft+this.$element.offsetWidth+5,l=this.$element.offsetTop+10;"string"==typeof a&&(a=document.getElementById(a)),a.style.display="inline-block",a.style.top=l+"px",a.style.left=r+"px",clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.style.display="none"},3e3)}return{passed:!0}},u.Validate.fn.check=u.Validate.fn.doValid,u.Validate.fn.some=Array.prototype.some?Array.prototype.some:function(){for(var t,e=0;e<this.length&&("function"!=typeof arguments[0]||!(t=arguments[0](this[e])));e++);return t},u.Validate.fn.getValue=function(){var t="",e=this.some.call(this.$element.querySelectorAll('[type="checkbox"],[type="radio"]'),function(t){return"checkbox"==t.type||"radio"==t.type});if(this.$element.childNodes.length>0&&e){var i=this.$element.querySelectorAll('[type="checkbox"],[type="radio"]'),n=i[0];"checkbox"==n.type?this.$element.querySelectorAll(":checkbox[name='"+$(n).attr("name")+"']:checked").each(function(){t+=$(this).val()+","}):"radio"==n.type&&(t=this.$element.querySelectorAll(":radio[name='"+$(n).attr("name")+"']:checked").value)}else this.$element.is(":radio")?t=this.$element.parent().querySelectorAll(":radio[name='"+this.$element.attr("name")+"']:checked").val():this.$element.is(":checkbox")?(t="",this.$element.parent().find(":checkbox[name='"+this.$element.attr("name")+"']:checked").each(function(){t+=$(this).val()+","})):t=this.$element.find("input").length>0?this.$element.find("input").val():this.$element.val();return t=t.trim,this.isEmpty(t)?"":t},u.Validate.fn.isEmpty=function(t){return""===t||void 0===t||null===t},u.Validate.fn.showMsg=function(t){if(0!=this.showMsgFlag&&"false"!=this.showMsgFlag){var e=this;if(this.tipId){this.$element.style.borderColor="rgb(241,90,74)";var i=this.tipId;"string"==typeof i&&(i=document.getElementById(i)),i.innerHTML=t,i.style.display="block"}else{var n={title:t,trigger:"manual",selector:"validtip",placement:this.placement,container:"body"};this.options.tipTemplate&&(n.template=this.options.tipTemplate),this.tooltip||(this.tooltip=new u.Tooltip(this.element,n)),this.tooltip.setTitle(t),this.tooltip.show()}-1!==this.tipAliveTime&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.hideMsg()},this.tipAliveTime))}},u.Validate.fn.hideMsg=function(){if(this.tipId){var t=this.tipId;"string"==typeof t&&(t=document.getElementById(t)),t.style.display="none",this.$element.style.borderColor=""}else this.tooltip&&this.tooltip.hide()},u.Validate.fn._needClean=function(){return!0},u.validate=function(t){var e,i;"string"==typeof t&&(t=document.querySelector(t)),t.attributes.validate&&(e=t.attributes.validate?JSON.parse(t.attributes.validate.value):{},e=u.extend({el:t},e),t["u.Validate"]=new u.Validate(e)),i=t.querySelectorAll("[validate]"),u.each(i,function(t,i){i["u.Validate"]||(e=i.attributes.validate?JSON.parse(i.attributes.validate.value):{},e=u.extend({el:i},e),i["u.Validate"]=new u.Validate(e))})},u.doValidate=function(t){var e,i,n=!0;return"string"==typeof t&&(t=document.querySelector(t)),e=t.querySelectorAll("input"),u.each(e,function(t,e){e["u.Validate"]&&e["u.Validate"].check&&(i=e["u.Validate"].check({trueValue:!0,showMsg:!0}),n="object"==typeof i?i.passed&&n:i&&n)}),n},u.compMgr&&u.compMgr.regComp({comp:u.Validate,compAsString:"u.Validate",css:"u-validate"});var Refer=function(t){var e=t.contentId;if(u.isEmptyObject(e))throw new Error("contentId is null");this.options=u.extend({},Refer.DEFAULTS,t),this.params=this.options.params,this.create(),this.loaded=!1};Refer.DEFAULTS={isPOPMode:!1,searchInput:null,contentId:null,okId:"okBtn",cancelId:"cancelBtn",width:null,height:null,title:"参照",setVal:function(){},onOk:function(){},onCancel:function(){}},Refer.fn=Refer.prototype,Refer.fn.create=function(){var t=this;t.setVal=this.options.setVal,t.searchInput=this.options.searchInput;var e=this.options.contentId.replace(/[^\w\s]/gi,"\\$&");if(this.options.isPOPMode){var i=document.querySelector("#"+e);t.isDefaultDialog=!0,null==i&&(i=u.makeDOM('	<div style="display:none;height:100%" id="'+e+'"><div class="u-msg-title"><h4 class="title">单据名称</h4></div><div class="u-msg-content"><div class="content"></div></div><div class="u-msg-footer"><button class="u-msg-ok u-button">保存<span class="u-button-container"><span class="u-ripple"></span></span></button><button class="u-msg-cancel u-button">取消<span class="u-button-container"><span class="u-ripple"></span></span></button></div></div>'),document.body.appendChild(i)),this.titleDiv=i.querySelector(".title"),this.contentDiv=i.querySelector(".content"),this.okBtn=i.querySelector(".u-msg-ok"),this.cancelBtn=i.querySelector(".u-msg-cancel"),this.dialog=i,this.titleDiv.innerHTML=this.options.title}else;u.on(this.okBtn,"click",function(){t.submit()}),u.on(this.cancelBtn,"click",function(){t.cancel()})},Refer.fn.submit=function(){var t=this.submitData();this.options.onOk(t),Plugin.destroy(this)},Refer.fn.cancel=function(){this.options.onCancel(),Plugin.destroy(this)},Refer.fn.open=function(){var t=this;if(t.isDefaultDialog){var e={id:this.options.contentId,content:"#"+this.options.contentId,hasCloseMenu:!0};this.options.height&&(e.height=this.options.height),this.options.width&&(e.width=this.options.width),t.modalDialog=u.dialog(e)}this.options.module&&(t.contentDiv.innerHTML=this.options.module.template,this.options.module.init(t))},Refer.fn.registerSubmitFunc=function(t){this.submitData=t},Refer.fn.submitData=function(){};var Plugin=function(t){var e=new Refer(t);return Plugin.addRefer(e),e.open(),e};Refer.fn.destroy=function(){this.dialog&&(this.isDefaultDialog&&this.modalDialog.close(),this.dialog.parentElement.removeChild(this.dialog)),delete this.options},Plugin.instances={},Plugin.openRefer=function(t){var e=new Refer(t);Plugin.addRefer(e),e.open()},Plugin.getRefer=function(t){return Plugin.instances[t]},Plugin.addRefer=function(t){Plugin.instances[t.options.id]=t},Plugin.destroy=function(t){var e=Plugin.instances[t.options.id];delete Plugin.instances[t.options.id],e.destroy()},u.refer=Plugin,u.slidePanelTemplate=['<div class="slidePanel slidePanel-right  slidePanel-show slidePanel-dragging" style="transform:translate3d(100%,0,0);">','<div class="slidePanel-content site-sidebar-content"></div>','<div class="slidePanel-handler"></div>',"</div>"],u.slidePanel=function(t){var e=t.url,i=t.width||"700px",n=t.callback||function(){},s=u.makeDOM(u.slidePanelTemplate.join("")),o=u.makeModal(s);return s.style.width=i,o.style.opacity=0,document.body.appendChild(s),u.ajax({type:"get",url:e,success:function(t){var e=s.querySelector(".slidePanel-content");e.innerHTML=t,n(),setTimeout(function(){s.style.transform="translate3d(0,0,0)",o.style.opacity=.5},1)}}),u.on(o,"click",function(){u.on(s,"transitionend",function(){document.body.removeChild(s),document.body.removeChild(o)}),u.on(s,"webkitTransitionEnd",function(){document.body.removeChild(s),document.body.removeChild(o)}),s.style.transform="translate3d(100%,0,0)",o.style.opacity=0,u.isIE8&&(document.body.removeChild(s),document.body.removeChild(o))}),{close:function(){o.click()}}},document.readyState&&"complete"===document.readyState?u.compMgr.updateComp():u.on(window,"load",function(){
u.compMgr.updateComp()}),u.DateTimePicker=u.BaseComponent.extend({}),u.DateTimePicker.fn=u.DateTimePicker.prototype,u.DateTimePicker.fn.init=function(){var t,e,i=this;this.enable=!0,this._element=this.element,this._input=this._element.querySelector("input"),u.isMobile,setTimeout(function(){i._input.setAttribute("readonly","readonly")},1e3),u.on(this._input,"focus",function(t){u.isMobile&&this.blur(),i._inputFocus=!0,i.isShow!==!0&&i.show(t),u.stopEvent(t)}),u.on(this._input,"blur",function(t){i._inputFocus=!1}),this._span=this._element.querySelector("span"),this._span&&u.on(this._span,"click",function(t){i._input.focus(),u.stopEvent(t)}),u.hasClass(this._element,"time")?(this.type="datetime",e="YYYY-MM-DD hh:mm:ss"):(this.type="date",e="YYYY-MM-DD"),t=this._element.getAttribute("format"),this.format=t||this.options.format||e,this.isShow=!1},u.DateTimePicker.fn._carousel=function(t,e){if("left"==e?u.addClass(t,"right-page"):u.addClass(t,"left-page"),this._dateContent.appendChild(t),u.isIE8||u.isIE9||u.isFF){var n=this._dateContent.querySelectorAll(".u-date-content-page");for(i=0;i<n.length;i++)this._dateContent.removeChild(n[i]);this.contentPage=t,this._dateContent.appendChild(t),"left"==e?u.removeClass(t,"right-page"):u.removeClass(t,"left-page")}else{var s=function(){t.removeEventListener("transitionend",s),t.removeEventListener("webkitTransitionEnd",s);var e=this._dateContent.querySelectorAll(".u-date-content-page");for(i=0;i<e.length;i++)this._dateContent.removeChild(e[i]);this.contentPage=t,this._dateContent.appendChild(t)}.bind(this);t.addEventListener("transitionend",s),t.addEventListener("webkitTransitionEnd",s),window.requestAnimationFrame&&window.requestAnimationFrame(function(){"left"==e?(u.addClass(this.contentPage,"left-page"),u.removeClass(t,"right-page")):(u.addClass(this.contentPage,"right-page"),u.removeClass(t,"left-page"))}.bind(this))}},u.DateTimePicker.fn._zoomIn=function(t){if(!this.contentPage)return this._dateContent.appendChild(t),void(this.contentPage=t);if(u.addClass(t,"zoom-in"),this._dateContent.appendChild(t),u.isIE8||u.isIE9||u.isFF){var e=this._dateContent.querySelectorAll(".u-date-content-page");for(i=0;i<e.length;i++)this._dateContent.removeChild(e[i]);this.contentPage=t,this._dateContent.appendChild(t),u.removeClass(t,"zoom-in")}else{var n=function(){t.removeEventListener("transitionend",n),t.removeEventListener("webkitTransitionEnd",n);var e=this._dateContent.querySelectorAll(".u-date-content-page");for(i=0;i<e.length;i++)this._dateContent.removeChild(e[i]);this.contentPage=t,this._dateContent.appendChild(t)}.bind(this);this.contentPage&&(t.addEventListener("transitionend",n),t.addEventListener("webkitTransitionEnd",n)),window.requestAnimationFrame&&window.requestAnimationFrame(function(){u.addClass(this.contentPage,"is-hidden"),u.removeClass(t,"zoom-in")}.bind(this))}},u.DateTimePicker.fn._fillYear=function(t){var e,i,n,s,o,a,r,l,e,d,c,h;for(i=['<div class="u-date-content-page">','<div class="u-date-content-title">',"</div>",'<div class="u-date-content-panel"></div>',"</div>"].join(""),t=t||"current",o=this.pickerDate.getFullYear(),"current"===t?this.startYear=o-o%10-1:"preivous"===t?this.startYear=this.startYear-10:this.startYear=this.startYear+10,n=u.makeDOM(i),l=u.core.getLanguages(),e=u.date._formats.YYYY(this.pickerDate),d=u.date._formats.MM(this.pickerDate,l),c=u.date._formats.DD(this.pickerDate,l),h=u.date._formats.HH(this.pickerDate,l)+":"+u.date._formats.mm(this.pickerDate,l)+":"+u.date._formats.ss(this.pickerDate,l),this._yearTitle=n.querySelector(".u-date-content-title"),this._yearTitle.innerHTML=e,"date"==this.type&&(this._headerTime.style.display="none"),s=n.querySelector(".u-date-content-panel"),a=0;12>a;a++)r=u.makeDOM('<div class="u-date-content-year-cell">'+(this.startYear+a)+"</div>"),new URipple(r),this.startYear+a==o&&u.addClass(r,"current"),this.startYear+a<this.beginYear&&u.addClass(r,"u-disabled"),r._value=this.startYear+a,s.appendChild(r);u.on(s,"click",function(t){if(!u.hasClass(t.target,"u-disabled")){var e=t.target._value;this.pickerDate.setYear(e),this._updateDate(),this._fillMonth()}}.bind(this)),"current"===t?this._zoomIn(n):"next"===t?this._carousel(n,"left"):"preivous"===t&&this._carousel(n,"right"),this.currentPanel="year"},u.DateTimePicker.fn._fillMonth=function(){var t,e,i,n,s,o,a,r,l,d;for(t=['<div class="u-date-content-page">','<div class="u-date-content-title">',"</div>",'<div class="u-date-content-panel">','<div class="u-date-content-year-cell">1月</div>','<div class="u-date-content-year-cell">2月</div>','<div class="u-date-content-year-cell">3月</div>','<div class="u-date-content-year-cell">4月</div>','<div class="u-date-content-year-cell">5月</div>','<div class="u-date-content-year-cell">6月</div>','<div class="u-date-content-year-cell">7月</div>','<div class="u-date-content-year-cell">8月</div>','<div class="u-date-content-year-cell">9月</div>','<div class="u-date-content-year-cell">10月</div>','<div class="u-date-content-year-cell">11月</div>','<div class="u-date-content-year-cell">12月</div>',"</div>","</div>"].join(""),e=u.makeDOM(t),o=u.core.getLanguages(),a=u.date._formats.YYYY(this.pickerDate),r=u.date._formats.MM(this.pickerDate,o),l=u.date._formats.DD(this.pickerDate,o),d=u.date._formats.HH(this.pickerDate,o)+":"+u.date._formats.mm(this.pickerDate,o)+":"+u.date._formats.ss(this.pickerDate,o),this._monthTitle=e.querySelector(".u-date-content-title"),this._monthTitle.innerHTML=u.date._formats.MMM(this.pickerDate,o),"date"==this.type&&(this._headerTime.style.display="none"),n=e.querySelectorAll(".u-date-content-year-cell"),s=0;s<n.length;s++)i-1==s&&u.addClass(n[s],"current"),this.pickerDate.getFullYear()==this.beginYear&&s<this.beginMonth&&u.addClass(n[s],"u-disabled"),this.pickerDate.getFullYear()<this.beginYear&&u.addClass(n[s],"u-disabled"),n[s]._value=s,new URipple(n[s]);u.on(e,"click",function(t){if(!u.hasClass(t.target,"u-disabled")&&!u.hasClass(t.target,"u-date-content-title")){var e=t.target._value;this.pickerDate.setMonth(e),this._updateDate(),this._fillDate()}}.bind(this)),this._zoomIn(e),this.currentPanel="month"},u.DateTimePicker.fn._getPickerStartDate=function(t){var e=new Date(t);e.setDate(1);var i=e.getDay();return e=u.date.sub(e,"d",i)},u.DateTimePicker.fn._getPickerEndDate=function(t){var e=new Date(t);e.setDate(1),e.setMonth(e.getMonth()+1),e.setDate(0);var i=e.getDay();return e=u.date.add(e,"d",6-i)},u.DateTimePicker.fn._fillDate=function(t){var e,i,n,s,o,a,r,l,d,c,h,p=this;for(t=t||"current",d="current"===t?this.pickerDate:"preivous"===t?u.date.sub(this.startDate,"d",1):u.date.add(this.endDate,"d",1),this.startDate=this._getPickerStartDate(d),this.endDate=this._getPickerEndDate(d),l=u.core.getLanguages(),e=u.date._formats.YYYY(d),i=u.date._formats.MM(d,l),date=u.date._formats.DD(d,l),n=u.date._formats.HH(d,l)+":"+u.date._formats.mm(d,l)+":"+u.date._formats.ss(d,l),s=['<div class="u-date-content-page">','<div class="u-date-content-title">','<div class="u-date-content-title-year"></div>-','<div class="u-date-content-title-month"></div>-','<div class="u-date-content-title-date"></div>','<div class="u-date-content-title-time"></div>',"</div>",'<div class="u-date-week"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>','<div class="u-date-content-panel"></div>',"</div>"].join(""),o=u.makeDOM(s),this._headerYear=o.querySelector(".u-date-content-title-year"),this._headerYear.innerHTML=e,this._headerMonth=o.querySelector(".u-date-content-title-month"),this._headerMonth.innerHTML=i,this._headerDate=o.querySelector(".u-date-content-title-date"),this._headerDate.innerHTML=date,this._headerTime=o.querySelector(".u-date-content-title-time"),this._headerTime.innerHTML=n,"date"==this.type&&(this._headerTime.style.display="none"),u.on(this._headerYear,"click",function(t){p._fillYear(),u.stopEvent(t)}),u.on(this._headerMonth,"click",function(t){p._fillMonth(),u.stopEvent(t)}),u.on(this._headerTime,"click",function(t){p._fillTime(),u.stopEvent(t)}),r=o.querySelectorAll(".u-date-week span"),c=0;7>c;c++)r[c].innerHTML=u.date._dateLocale[l].weekdaysMin[c];for(a=o.querySelector(".u-date-content-panel"),d=this.startDate;d<=this.endDate;)h=u.makeDOM('<div class="u-date-cell" unselectable="on" onselectstart="return false;">'+d.getDate()+"</div>"),d.getFullYear()==this.pickerDate.getFullYear()&&d.getMonth()==this.pickerDate.getMonth()&&d.getDate()==this.pickerDate.getDate()&&u.addClass(h,"current"),(d.getFullYear()<this.beginYear||d.getFullYear()==this.beginYear&&d.getMonth()<this.beginMonth)&&(u.addClass(h,"u-disabled"),u.removeClass(h,"current")),d.getFullYear()==this.beginYear&&d.getMonth()==this.beginMonth&&d.getDate()<this.beginDate&&(u.addClass(h,"u-disabled"),u.removeClass(h,"current")),h._value=d.getDate(),h._month=d.getMonth(),h._year=d.getFullYear(),new URipple(h),a.appendChild(h),d=u.date.add(d,"d",1);u.on(a,"click",function(t){if(!u.hasClass(t.target,"u-disabled")){var e=t.target._value;if(e){this.pickerDate.setFullYear(t.target._year),this.pickerDate.setMonth(t.target._month),this.pickerDate.setDate(e);var i=t.target.parentNode.querySelector(".u-date-cell.current");i&&(u.removeClass(i,"current"),(u.isIE8||u.isIE9)&&(i.style.backgroundColor="#fff")),u.addClass(t.target,"current"),(u.isIE8||u.isIE9)&&(t.target.style.backgroundColor="#3f51b5"),this._updateDate(),"date"===this.type&&this.onOk()}}}.bind(this)),"current"===t?this._zoomIn(o):"next"===t?this._carousel(o,"left"):"preivous"===t&&this._carousel(o,"right"),this.currentPanel="date"},u.DateTimePicker.fn._fillTime=function(t){var e,i,n,s,o,a,r,l,d,c,h=this;t=t||"current",d="current"===t?this.pickerDate:"preivous"===t?u.date.sub(this.startDate,"d",1):u.date.add(this.endDate,"d",1),this.startDate=this._getPickerStartDate(d),this.endDate=this._getPickerEndDate(d),l=u.core.getLanguages(),e=u.date._formats.YYYY(d),i=u.date._formats.MM(d,l),n=u.date._formats.DD(d,l),s=u.date._formats.HH(d,l)+":"+u.date._formats.mm(d,l)+":"+u.date._formats.ss(d,l),o=['<div class="u-date-content-page">','<div class="u-date-content-title">','<div class="u-date-content-title-year"></div>-','<div class="u-date-content-title-month"></div>-','<div class="u-date-content-title-date"></div>','<div class="u-date-content-title-time"></div>',"</div>",'<div class="u-date-content-panel"></div>',"</div>"].join(""),a=u.makeDOM(o),this._headerYear=a.querySelector(".u-date-content-title-year"),this._headerYear.innerHTML=e,this._headerMonth=a.querySelector(".u-date-content-title-month"),this._headerMonth.innerHTML=i,this._headerDate=a.querySelector(".u-date-content-title-date"),this._headerDate.innerHTML=n,this._headerTime=a.querySelector(".u-date-content-title-time"),this._headerTime.innerHTML=s,"date"==this.type&&(this._headerTime.style.display="none"),u.on(this._headerYear,"click",function(t){h._fillYear(),u.stopEvent(t)}),u.on(this._headerMonth,"click",function(t){h._fillMonth(),u.stopEvent(t)}),u.on(this._headerTime,"click",function(t){h._fillTime(),u.stopEvent(t)}),r=a.querySelector(".u-date-content-panel"),u.isIE8?(timetemplate=['<div class="u_time_box">','<div class="u_time_cell">','<div class="show_hour_cell">'+u.date._formats.HH(d)+"</div>","</div>",'<div class="u_time_cell">','<div class="show_min_cell">'+u.date._formats.mm(d)+"</div>","</div>",'<div class="u_time_cell">','<div class="show_sec_cell">'+u.date._formats.ss(d)+"</div>","</div>","</div>"].join(""),c=u.makeDOM(timetemplate),r.appendChild(c),u.on(r,"click",function(t){var e=t.target.getAttribute("class").split("_");if("add"==e[0]){if("hour"==e[1]){var i=Number(u.date._formats.HH(this.pickerDate));23>i?i++:i=0,this.pickerDate.setHours(i),r.querySelector(".show_hour_cell").innerHTML=i}else if("min"==e[1]){var n=Number(u.date._formats.mm(this.pickerDate));59>n?n++:n=0,this.pickerDate.setMinutes(n)}else if("sec"==e[1]){var s=Number(u.date._formats.ss(this.pickerDate));59>s?s++:s=0,this.pickerDate.setSeconds(s)}}else{if("subtract"!=e[0]){if("show"==e[0]){var o=t.target,a=u.makeDOM("<input type='text' class='u-input'>");if(o.querySelector(".u-input"))return;if(this._updateDate(),a.value=o.innerHTML,o.innerHTML="",o.appendChild(a),"hour"==e[1]){var l=new u.Validate(a,{validType:"integer",minLength:0,maxLength:2,min:0,max:23});u.on(a,"blur",function(){l.passed&&(h.pickerDate.setHours(a.value),h._updateDate())})}else if("min"==e[1]){var l=new u.Validate(a,{validType:"integer",minLength:0,maxLength:2,min:0,max:59});u.on(a,"blur",function(){l.passed&&(h.pickerDate.setMinutes(a.value),h._updateDate())})}else if("sec"==e[1]){var l=new u.Validate(a,{validType:"integer",minLength:0,maxLength:2,min:0,max:59});u.on(a,"blur",function(){l.passed&&(h.pickerDate.setSeconds(a.value),h._updateDate())})}return void a.focus()}return!1}if("hour"==e[1]){var i=Number(u.date._formats.HH(this.pickerDate));i>0?i--:i=23,this.pickerDate.setHours(i)}else if("min"==e[1]){var n=Number(u.date._formats.mm(this.pickerDate));n>0?n--:n=59,this.pickerDate.setMinutes(n)}else if("sec"==e[1]){var s=Number(u.date._formats.ss(this.pickerDate));s>0?s--:s=59,this.pickerDate.setSeconds(s)}}this._updateDate()}.bind(this))):(timetemplate='<div class="u-combo-ul clockpicker-popover is-visible" style="width:100%;padding:0px;">',timetemplate+='<div class="popover-content">',timetemplate+='  <div class="clockpicker-plate data-clockpicker-plate">',timetemplate+='      <div class="clockpicker-canvas">',timetemplate+='          <svg class="clockpicker-svg">',timetemplate+='              <g transform="translate(100,100)">',timetemplate+='                  <circle class="clockpicker-canvas-bg clockpicker-canvas-bg-trans" r="13" cx="8.362277061412277" cy="-79.56175162946187"></circle>',timetemplate+='                  <circle class="clockpicker-canvas-fg" r="3.5" cx="8.362277061412277" cy="-79.56175162946187"></circle>',timetemplate+='                  <line x1="0" y1="0" x2="8.362277061412277" y2="-79.56175162946187"></line>',timetemplate+='                  <circle class="clockpicker-canvas-bearing" cx="0" cy="0" r="2"></circle>',timetemplate+="              </g>",timetemplate+="          </svg>",timetemplate+="      </div>",timetemplate+='      <div class="clockpicker-dial clockpicker-hours" style="visibility: visible;">',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-1" >00</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-2" >1</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-3" >2</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-4" >3</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-5" >4</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-6" >5</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-7" >6</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-8" >7</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-9" >8</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-10" >9</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-11" >10</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-12" >11</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-13" >12</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-14" >13</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-15" >14</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-16" >15</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-17" >16</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-18" >17</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-19" >18</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-20" >19</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-21" >20</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-22" >21</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-23" >22</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-24" >23</div>',timetemplate+="      </div>",timetemplate+='      <div class="clockpicker-dial clockpicker-minutes" style="visibility: hidden;">',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-25" >00</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-26" >05</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-27" >10</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-28" >15</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-29" >20</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-30" >25</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-31" >30</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-32" >35</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-33" >40</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-34" >45</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-35" >50</div>',timetemplate+='          <div class="clockpicker-tick clockpicker-tick-36" >55</div>',timetemplate+="      </div>",timetemplate+='  </div><span class="clockpicker-am-pm-block"></span></div>',timetemplate+="  </div>",c=u.makeDOM(timetemplate),this.cell=c,r.appendChild(c),this.hand=c.querySelector("line"),this.bg=c.querySelector(".clockpicker-canvas-bg"),this.fg=c.querySelector(".clockpicker-canvas-fg"),this.titleHourSpan=c.querySelector(".clockpicker-span-hours"),this.titleMinSpan=c.querySelector(".clockpicker-span-minutes"),this.hourDiv=c.querySelector(".clockpicker-hours"),this.minDiv=c.querySelector(".clockpicker-minutes"),this.currentView="hours",this.hours=u.date._formats.HH(d),this.min=u.date._formats.mm(d),this.sec=u.date._formats.ss(d),u.on(this.hourDiv,"click",function(t){var e=t.target;if(u.hasClass(e,"clockpicker-tick")){this.hours=e.innerHTML,this.hours=this.hours>9||0==this.hours?""+this.hours:"0"+this.hours,h.pickerDate.setHours(this.hours);var i=u.core.getLanguages(),n=u.date._formats.HH(this.pickerDate,i)+":"+u.date._formats.mm(this.pickerDate,i)+":"+u.date._formats.ss(this.pickerDate,i);this._headerTime.innerHTML=n,this.hourDiv.style.visibility="hidden",this.minDiv.style.visibility="visible",this.currentView="min",this.setHand()}}.bind(this)),u.on(this.minDiv,"click",function(t){var e=t.target;if(u.hasClass(e,"clockpicker-tick")){this.min=e.innerHTML,h.pickerDate.setMinutes(this.min);var i=u.core.getLanguages(),n=u.date._formats.HH(this.pickerDate,i)+":"+u.date._formats.mm(this.pickerDate,i)+":"+u.date._formats.ss(this.pickerDate,i);this._headerTime.innerHTML=n,this.minDiv.style.visibility="hidden",this.hourDiv.style.visibility="visible",this.currentView="hours",this.setHand()}}.bind(this))),this._zoomIn(a),u.isIE8||this.setHand(),this.currentPanel="time",r.onselectstart=new Function("return false")},u.DateTimePicker.fn.setHand=function(){var t=54,e=80,i=this.currentView,n=this[i],s="hours"===i,o=Math.PI/(s?6:30),a=n*o,r=s&&n>0&&13>n?t:e,l=Math.sin(a)*r,u=-Math.cos(a)*r;this.setHandFun(l,u)},u.DateTimePicker.fn.setHandFun=function(t,e,i,n){var s,o=54,a=80,r=Math.atan2(t,-e),l="hours"===this.currentView,u=Math.PI/(l?6:30),d=Math.sqrt(t*t+e*e),c=this.options,h=l&&(a+o)/2>d,p=h?o:a;this.twelvehour&&(p=a),0>r&&(r=2*Math.PI+r),s=Math.round(r/u),r=s*u,c.twelvehour?l?0===s&&(s=12):(i&&(s*=5),60===s&&(s=0)):l?(12===s&&(s=0),s=h?0===s?12:s:0===s?0:s+12):(i&&(s*=5),60===s&&(s=0));var f=this._panel.offsetWidth,m=f/294,v=Math.sin(r)*p*m,g=-Math.cos(r)*p*m,_=100*m;this.cell.querySelector("g").setAttribute("transform","translate("+_+","+_+")"),this.hand.setAttribute("x2",v),this.hand.setAttribute("y2",g),this.bg.setAttribute("cx",v),this.bg.setAttribute("cy",g),this.fg.setAttribute("cx",v),this.fg.setAttribute("cy",g)},u.DateTimePicker.fn._updateDate=function(){var t,e,i,n,s;s=u.core.getLanguages(),t=u.date._formats.YYYY(this.pickerDate),e=u.date._formats.MM(this.pickerDate,s),n=u.date._formats.HH(this.pickerDate,s)+":"+u.date._formats.mm(this.pickerDate,s)+":"+u.date._formats.ss(this.pickerDate,s),i=u.date._formats.DD(this.pickerDate,s),this._headerYear&&(this._headerYear.innerHTML="",this._headerYear.innerHTML=t),this._headerMonth&&(this._headerMonth.innerHTML="",this._headerMonth.innerHTML=e),this._headerDate&&(this._headerDate.innerHTML="",this._headerDate.innerHTML=i),this._headerTime&&(this._headerTime.innerHTML="",this._headerTime.innerHTML=n),"time"==this.currentPanel&&u.isIE8&&(this._panel.querySelector(".show_hour_cell").innerHTML=u.date._formats.HH(this.pickerDate,s),this._panel.querySelector(".show_min_cell").innerHTML=u.date._formats.mm(this.pickerDate,s),this._panel.querySelector(".show_sec_cell").innerHTML=u.date._formats.ss(this.pickerDate,s))},u.DateTimePicker.fn._response=function(){return},u.dateTimePickerTemplateArr=['<div class="u-date-panel">','<div class="u-date-body">','<div class="u-date-content"></div>',"</div>",'<div class="u-date-nav">','<button class="u-button u-date-ok right primary">确定</button>','<button class="u-button u-date-cancel right">取消</button>','<button class="u-button u-date-clean">清空</button>',"</div>","</div>"],u.DateTimePicker.fn.show=function(t){if(this.enable){var e=this._input.value;this.setDate(e);var i=this;if(!this._panel){this._panel=u.makeDOM(u.dateTimePickerTemplateArr.join("")),u.isMobile&&(u.removeClass(this._panel,"u-date-panel"),u.addClass(this._panel,"u-date-panel-mobile")),this._dateNav=this._panel.querySelector(".u-date-nav"),"date"!==this.type||u.isMobile||(this._dateNav.style.display="none"),this._dateContent=this._panel.querySelector(".u-date-content"),"datetime"==this.type,this.btnOk=this._panel.querySelector(".u-date-ok"),this.btnCancel=this._panel.querySelector(".u-date-cancel"),this.btnClean=this._panel.querySelector(".u-date-clean");var n=document.createElement("span");u.addClass(n,"u-ripple"),this.btnOk.appendChild(n);var n=document.createElement("span");u.addClass(n,"u-ripple"),this.btnCancel.appendChild(n);var n=document.createElement("span");u.addClass(n,"u-ripple"),this.btnClean.appendChild(n),new URipple(this.btnOk),new URipple(this.btnCancel),new URipple(this.btnClean),u.on(this.btnOk,"click",function(t){this.onOk(),u.stopEvent(t)}.bind(this)),u.on(this.btnCancel,"click",function(t){i.onCancel(),u.stopEvent(t)}),u.on(this.btnClean,"click",function(t){i.pickerDate=null,i.onOk(),u.stopEvent(t)}),this.preBtn=u.makeDOM('<button class="u-date-pre-button u-button mini">&lt;</button>'),this.nextBtn=u.makeDOM('<button class="u-date-next-button u-button mini">&gt;</button>'),u.on(this.preBtn,"click",function(t){"date"==i.currentPanel?i._fillDate("preivous"):"year"==i.currentPanel&&i._fillYear("preivous"),u.stopEvent(t)}),u.on(this.nextBtn,"click",function(t){"date"==i.currentPanel?i._fillDate("next"):"year"==i.currentPanel&&i._fillYear("next"),u.stopEvent(t)}),this._dateContent.appendChild(this.preBtn),this._dateContent.appendChild(this.nextBtn),document.body.appendChild(this._panel)}if(this.pickerDate=this.date||new Date,this._updateDate(),this._fillDate(),this._response(),u.on(window,"resize",function(){i._response()}),u.isMobile&&(this.overlayDiv=u.makeModal(this._panel),u.on(this.overlayDiv,"click",function(){i.onCancel()})),u.addClass(this._panel,"is-visible"),!u.isMobile){u.showPanelByEle({ele:this._input,panel:this._panel,position:"bottomLeft"}),this._panel.style.marginLeft="0px";var s=function(e){e===t||e.target===i._input||u.hasClass(e.target,"u-date-content-year-cell")||u.hasClass(e.target,"u-date-content-year-cell")||u.closest(e.target,"u-date-panel")===i._panel||1==i._inputFocus||(u.off(document,"click",s),i.onCancel())};u.on(document,"click",s),document.body.onscroll=function(){u.showPanelByEle({ele:i._input,panel:i._panel,position:"bottomLeft"})}}this.isShow=!0}},u.DateTimePicker.fn.onOk=function(){this.setDate(this.pickerDate),this.isShow=!1,u.removeClass(this._panel,"is-visible");try{document.body.removeChild(this.overlayDiv)}catch(t){}this.trigger("select",{value:this.pickerDate})},u.DateTimePicker.fn.onCancel=function(){this.isShow=!1,u.removeClass(this._panel,"is-visible");try{document.body.removeChild(this.overlayDiv)}catch(t){}},u.DateTimePicker.fn.setDate=function(t){if(!t)return this.date=null,void(this._input.value="");var e=u.date.getDateObj(t);if(e){if(this.beginDateObj&&e<this.beginDateObj)return;this.date=e,this._input.value=u.date.format(this.date,this.format)}},u.DateTimePicker.fn.setFormat=function(t){this.format=t,this._input.value=u.date.format(this.date,this.format)},u.DateTimePicker.fn.setStartDate=function(t){t&&(this.beginDateObj=u.date.getDateObj(t),this.beginYear=this.beginDateObj.getFullYear(),this.beginMonth=this.beginDateObj.getMonth(),this.beginDate=this.beginDateObj.getDate())},u.DateTimePicker.fn.setEnable=function(t){t===!0||"true"===t?this.enable=!0:this.enable=!1},u.compMgr&&u.compMgr.regComp({comp:u.DateTimePicker,compAsString:"u.DateTimePicker",css:"u-datepicker"}),u.Time=u.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=u.extend({},this.DEFAULTS,this.options),this.panelDiv=null,this.input=this.element.querySelector("input"),u.addClass(this.element,"u-text"),u.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this)),this.focusEvent(),this.clickEvent()}}),u.Time.fn=u.Time.prototype,u.Time.fn.createPanel=function(){if(!this.panelDiv){var t=this;this.panelDiv=u.makeDOM('<div class="u-combo-ul" style="padding:0px;"></div>'),this.panelContentDiv=u.makeDOM('<div class="u-time-content"></div>'),this.panelDiv.appendChild(this.panelContentDiv),this.panelHourDiv=u.makeDOM('<div class="u-time-cell"></div>'),this.panelContentDiv.appendChild(this.panelHourDiv),this.panelHourInput=u.makeDOM('<input class="u-time-input">'),this.panelHourDiv.appendChild(this.panelHourInput),this.panelMinDiv=u.makeDOM('<div class="u-time-cell"></div>'),this.panelContentDiv.appendChild(this.panelMinDiv),this.panelMinInput=u.makeDOM('<input class="u-time-input">'),this.panelMinDiv.appendChild(this.panelMinInput),this.panelSecDiv=u.makeDOM('<div class="u-time-cell"></div>'),this.panelContentDiv.appendChild(this.panelSecDiv),this.panelSecInput=u.makeDOM('<input class="u-time-input">'),this.panelSecDiv.appendChild(this.panelSecInput),this.panelNavDiv=u.makeDOM('<div class="u-time-nav"></div>'),this.panelDiv.appendChild(this.panelNavDiv),this.panelOKButton=u.makeDOM('<button class="u-button" style="float:right;">OK</button>'),this.panelNavDiv.appendChild(this.panelOKButton),u.on(this.panelOKButton,"click",function(){var e=t.panelHourInput.value+":"+t.panelMinInput.value+":"+t.panelSecInput.value;t.setValue(e),t.hide()}),this.panelCancelButton=u.makeDOM('<button class="u-button" style="float:right;">Cancel</button>'),this.panelNavDiv.appendChild(this.panelCancelButton),u.on(this.panelCancelButton,"click",function(){t.hide()});var e=new Date;this.panelHourInput.value=e.getHours()>9?""+e.getHours():"0"+e.getHours(),this.panelMinInput.value=e.getMinutes()>9?""+e.getMinutes():"0"+e.getMinutes(),this.panelSecInput.value=e.getSeconds()>9?""+e.getSeconds():"0"+e.getSeconds(),this.element.parentNode.appendChild(this.panelDiv)}},u.Time.fn.setValue=function(t){var e="",i="",n="";if(t=t?t:"",t!=this.input.value){if(t&&t.indexOf(":")>-1){var s=t.split(":"),e=s[0];e%=24,e=e>9?""+e:"0"+e;var i=s[1];i%=60,i=i>9?""+i:"0"+i;var n=s[2];n%=60,n=n>9?""+n:"0"+n,t=e+":"+i+":"+n}this.input.value=t,this.createPanel(),this.panelHourInput.value=e,this.panelMinInput.value=i,this.panelSecInput.value=n,this.trigger("valueChange",{value:t})}},u.Time.fn.focusEvent=function(){var t=this;u.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.Time.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;u.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.Time.fn.show=function(t){var e=this.input.value;this.setValue(e);var i=this;this.createPanel(),this.width=this.element.offsetWidth,this.width<300&&(this.width=300),this.panelDiv.style.width=this.width+"px",u.showPanelByEle({ele:this.input,panel:this.panelDiv,position:"bottomLeft"}),this.panelDiv.style.zIndex=u.getZIndex(),u.addClass(this.panelDiv,"is-visible"),document.body.onscroll=function(){u.showPanelByEle({ele:i.input,panel:i.panelDiv,position:"bottomLeft"})};var n=function(e){e===t||e.target===this.input||i.clickPanel(e.target)||(u.off(document,"click",n),this.hide())}.bind(this);u.on(document,"click",n)},u.Time.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},u.Time.fn.hide=function(){u.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},u.compMgr&&(u.compMgr.regComp({comp:u.Time,compAsString:"u.Time",css:"u-time"}),u.isIE8&&u.compMgr.regComp({comp:u.Time,compAsString:"u.ClockPicker",css:"u-clockpicker"})),u.YearMonth=u.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=u.extend({},this.DEFAULTS,this.options),this.panelDiv=null,this.input=this.element.querySelector("input");var t=new Date;this.year=t.getFullYear(),this.startYear=this.year-this.year%10-1,this.month=t.getMonth()+1,u.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this)),this.focusEvent(),this.clickEvent()}}),u.YearMonth.fn=u.YearMonth.prototype,u.YearMonth.fn.createPanel=function(){if(this.panelDiv)return void this._fillYear();var t=this;this.panelDiv=u.makeDOM('<div class="u-date-panel" style="padding:0px;margin:0px;"></div>'),this.panelContentDiv=u.makeDOM('<div class="u-date-content"></div>'),this.panelDiv.appendChild(this.panelContentDiv),this.preBtn=u.makeDOM('<button class="u-date-pre-button u-button mini">&lt;</button>'),this.nextBtn=u.makeDOM('<button class="u-date-next-button u-button mini">&gt;</button>'),u.on(this.preBtn,"click",function(e){t.startYear-=10,t._fillYear()}),u.on(this.nextBtn,"click",function(e){t.startYear+=10,t._fillYear()}),this.panelContentDiv.appendChild(this.preBtn),this.panelContentDiv.appendChild(this.nextBtn),this._fillYear(),this.element.parentNode.appendChild(this.panelDiv)},u.YearMonth.fn._fillYear=function(t){var e,i,n,s,o,a,r;for(e=this.panelContentDiv.querySelector(".u-date-content-page"),e&&this.panelContentDiv.removeChild(e),i=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-content-panel"></div>',"</div>"].join(""),n=u.makeDOM(i),s=n.querySelector(".u-date-content-title"),s.innerHTML=this.startYear+"-"+(this.startYear+11),o=n.querySelector(".u-date-content-panel"),a=0;12>a;a++)r=u.makeDOM('<div class="u-date-content-year-cell">'+(this.startYear+a)+"</div>"),new URipple(r),this.startYear+a==this.year&&u.addClass(r,"current"),r._value=this.startYear+a,o.appendChild(r);var l=this;u.on(o,"click",function(t){var e=t.target._value;l.year=e,l._fillMonth(),u.stopEvent(t)}),this.preBtn.style.display="block",this.nextBtn.style.display="block",this.panelContentDiv.appendChild(n),this.contentPage=n,this.currentPanel="year"},u.YearMonth.fn._fillMonth=function(){var t,e,i,n,s,o;for(t=this.panelContentDiv.querySelector(".u-date-content-page"),t&&this.panelContentDiv.removeChild(t),n=this.month,e=['<div class="u-date-content-page">','<div class="u-date-content-title">'+n+"月</div>",'<div class="u-date-content-panel">','<div class="u-date-content-year-cell">1月</div>','<div class="u-date-content-year-cell">2月</div>','<div class="u-date-content-year-cell">3月</div>','<div class="u-date-content-year-cell">4月</div>','<div class="u-date-content-year-cell">5月</div>','<div class="u-date-content-year-cell">6月</div>','<div class="u-date-content-year-cell">7月</div>','<div class="u-date-content-year-cell">8月</div>','<div class="u-date-content-year-cell">9月</div>','<div class="u-date-content-year-cell">10月</div>','<div class="u-date-content-year-cell">11月</div>','<div class="u-date-content-year-cell">12月</div>',"</div>","</div>"].join(""),
i=u.makeDOM(e),s=i.querySelectorAll(".u-date-content-year-cell"),o=0;o<s.length;o++)n==o+1&&u.addClass(s[o],"current"),s[o]._value=o+1,new URipple(s[o]);var a=this;u.on(i,"click",function(t){var e=t.target._value;a.month=e,i.querySelector(".u-date-content-title").innerHTML=e+"月",a.setValue(a.year+"-"+a.month),a.hide()}),this.preBtn.style.display="none",this.nextBtn.style.display="none",this._zoomIn(i),this.currentPanel="month"},u.YearMonth.fn._zoomIn=function(t){if(!this.contentPage)return this.panelContentDiv.appendChild(t),void(this.contentPage=t);if(u.addClass(t,"zoom-in"),this.panelContentDiv.appendChild(t),u.isIE8)this.contentPage=t;else{var e=function(){t.removeEventListener("transitionend",e),t.removeEventListener("webkitTransitionEnd",e),this.contentPage=t}.bind(this);this.contentPage&&(t.addEventListener("transitionend",e),t.addEventListener("webkitTransitionEnd",e)),window.requestAnimationFrame(function(){u.addClass(this.contentPage,"is-hidden"),u.removeClass(t,"zoom-in")}.bind(this))}},u.YearMonth.fn.setValue=function(t){if(t=t?t:"",t&&t.indexOf("-")>-1){var e=t.split("-");this.year=e[0];var i=e[1];this.month=i%12,0==this.month&&(this.month=12),t=this.year+"-"+this.month}this.value=t,this.input.value=t,this.trigger("valueChange",{value:t})},u.YearMonth.fn.focusEvent=function(){var t=this;u.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.YearMonth.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;u.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.YearMonth.fn.show=function(t){var e=this;if(this.value&&this.value.indexOf("-")>-1){var i=this.value.split("-");this.year=i[0];var n=i[1];this.month=n%12,0==this.month&&(this.month=12)}this.createPanel(),this.width=this.element.offsetWidth,this.width<300&&(this.width=300),this.panelDiv.style.width=this.width+"px",u.showPanelByEle({ele:this.input,panel:this.panelDiv,position:"bottomLeft"}),document.body.onscroll=function(){u.showPanelByEle({ele:e.input,panel:e.panelDiv,position:"bottomLeft"})},this.panelDiv.style.zIndex=u.getZIndex(),u.addClass(this.panelDiv,"is-visible");var e=this,s=function(i){i===t||i.target===e.input||e.clickPanel(i.target)||(u.off(document,"click",s),e.hide())};u.on(document,"click",s)},u.YearMonth.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},u.YearMonth.fn.hide=function(){u.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},u.compMgr&&u.compMgr.regComp({comp:u.YearMonth,compAsString:"u.YearMonth",css:"u-yearmonth"}),u.Year=u.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=u.extend({},this.DEFAULTS,this.options),this.panelDiv=null,this.input=this.element.querySelector("input");var t=new Date;this.year=t.getFullYear(),this.defaultYear=this.year,this.startYear=this.year-this.year%10-1,u.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this)),this.focusEvent(),this.clickEvent()}}),u.Year.fn=u.Year.prototype,u.Year.fn.createPanel=function(){if(this.panelDiv)return void this._fillYear();var t=this;this.panelDiv=u.makeDOM('<div class="u-date-panel" style="padding:0px;margin:0px;"></div>'),this.panelContentDiv=u.makeDOM('<div class="u-date-content"></div>'),this.panelDiv.appendChild(this.panelContentDiv),this.preBtn=u.makeDOM('<button class="u-date-pre-button u-button mini">&lt;</button>'),this.nextBtn=u.makeDOM('<button class="u-date-next-button u-button mini">&gt;</button>'),u.on(this.preBtn,"click",function(e){t.startYear-=10,t._fillYear()}),u.on(this.nextBtn,"click",function(e){t.startYear+=10,t._fillYear()}),this.panelContentDiv.appendChild(this.preBtn),this.panelContentDiv.appendChild(this.nextBtn),this._fillYear(),this.element.parentNode.appendChild(this.panelDiv)},u.Year.fn._fillYear=function(t){var e,i,n,s,o,a,r;for(e=this.panelContentDiv.querySelector(".u-date-content-page"),e&&this.panelContentDiv.removeChild(e),i=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-content-panel"></div>',"</div>"].join(""),n=u.makeDOM(i),s=n.querySelector(".u-date-content-title"),s.innerHTML=this.startYear+"-"+(this.startYear+11),o=n.querySelector(".u-date-content-panel"),a=0;12>a;a++)r=u.makeDOM('<div class="u-date-content-year-cell">'+(this.startYear+a)+"</div>"),new URipple(r),this.startYear+a==this.year&&u.addClass(r,"current"),r._value=this.startYear+a,o.appendChild(r);u.on(o,"click",function(t){var e=t.target._value;this.year=e,this.setValue(e),this.hide(),u.stopEvent(t)}.bind(this)),this.preBtn.style.display="block",this.nextBtn.style.display="block",this.panelContentDiv.appendChild(n),this.currentPanel="year"},u.Year.fn.setValue=function(t){t=t?t:"",this.value=t,t?this.year=t:this.year=this.defaultYear,this.startYear=this.year-this.year%10-1,this.input.value=t,this.trigger("valueChange",{value:t})},u.Year.fn.focusEvent=function(){var t=this;u.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.Year.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;u.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.Year.fn.show=function(t){var e=this;this.createPanel(),this.width=this.element.offsetWidth,this.width<300&&(this.width=300),this.panelDiv.style.width="152px",u.showPanelByEle({ele:this.input,panel:this.panelDiv,position:"bottomLeft"}),document.body.onscroll=function(){u.showPanelByEle({ele:e.input,panel:e.panelDiv,position:"bottomLeft"})},this.panelDiv.style.zIndex=u.getZIndex(),u.addClass(this.panelDiv,"is-visible");var i=function(n){n===t||n.target===this.input||e.clickPanel(n.target)||(u.off(document,"click",i),this.hide())}.bind(this);u.on(document,"click",i)},u.Year.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},u.Year.fn.hide=function(){u.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},u.compMgr&&u.compMgr.regComp({comp:u.Year,compAsString:"u.Year",css:"u-year"}),u.Month=u.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=u.extend({},this.DEFAULTS,this.options),this.panelDiv=null,this.input=this.element.querySelector("input");var t=new Date;this.month=t.getMonth()+1,this.defaultMonth=this.month,u.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this)),this.focusEvent(),this.clickEvent()}}),u.Month.fn=u.Month.prototype,u.Month.fn.createPanel=function(){if(this.panelDiv)return void this._fillMonth();var t=this;this.panelDiv=u.makeDOM('<div class="u-date-panel" style="padding:0px;margin:0px;"></div>'),this.panelContentDiv=u.makeDOM('<div class="u-date-content"></div>'),this.panelDiv.appendChild(this.panelContentDiv),this.preBtn=u.makeDOM('<button class="u-date-pre-button u-button flat floating mini" style="display:none;">&lt;</button>'),this.nextBtn=u.makeDOM('<button class="u-date-next-button u-button flat floating mini" style="display:none;">&gt;</button>'),u.on(this.preBtn,"click",function(e){t.startYear-=10,t._fillYear()}),u.on(this.nextBtn,"click",function(e){t.startYear+=10,t._fillYear()}),this.panelContentDiv.appendChild(this.preBtn),this.panelContentDiv.appendChild(this.nextBtn),this._fillMonth(),this.element.parentNode.appendChild(this.panelDiv)},u.Month.fn._fillMonth=function(){var t,e,i,n,s,o;for(t=this.panelContentDiv.querySelector(".u-date-content-page"),t&&this.panelContentDiv.removeChild(t),n=this.month,e=['<div class="u-date-content-page">','<div class="u-date-content-title">'+n+"月</div>",'<div class="u-date-content-panel">','<div class="u-date-content-year-cell">1月</div>','<div class="u-date-content-year-cell">2月</div>','<div class="u-date-content-year-cell">3月</div>','<div class="u-date-content-year-cell">4月</div>','<div class="u-date-content-year-cell">5月</div>','<div class="u-date-content-year-cell">6月</div>','<div class="u-date-content-year-cell">7月</div>','<div class="u-date-content-year-cell">8月</div>','<div class="u-date-content-year-cell">9月</div>','<div class="u-date-content-year-cell">10月</div>','<div class="u-date-content-year-cell">11月</div>','<div class="u-date-content-year-cell">12月</div>',"</div>","</div>"].join(""),i=u.makeDOM(e),s=i.querySelectorAll(".u-date-content-year-cell"),o=0;o<s.length;o++)n==o+1&&u.addClass(s[o],"current"),s[o]._value=o+1,new URipple(s[o]);u.on(i,"click",function(t){var e=t.target._value;this.month=e,i.querySelector(".u-date-content-title").innerHTML=e+"月",this.setValue(e),this.hide()}.bind(this)),this.preBtn.style.display="none",this.nextBtn.style.display="none",this.panelContentDiv.appendChild(i),this.currentPanel="month"},u.Month.fn.setValue=function(t){t=t?t:"",this.value=t,t?this.month=t:this.month=this.defaultMonth,this.input.value=t,this.trigger("valueChange",{value:t})},u.Month.fn.focusEvent=function(){var t=this;u.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.Month.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;u.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.Month.fn.show=function(t){var e=this;this.createPanel(),this.width=this.element.offsetWidth,this.width<300&&(this.width=300),u.showPanelByEle({ele:this.input,panel:this.panelDiv,position:"bottomLeft"}),document.body.onscroll=function(){u.showPanelByEle({ele:e.input,panel:e.panelDiv,position:"bottomLeft"})},this.panelDiv.style.width="152px",this.panelDiv.style.zIndex=u.getZIndex(),u.addClass(this.panelDiv,"is-visible");var i=function(n){n===t||n.target===this.input||e.clickPanel(n.target)||(u.off(document,"click",i),this.hide())}.bind(this);u.on(document,"click",i)},u.Month.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},u.Month.fn.hide=function(){u.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},u.compMgr&&u.compMgr.regComp({comp:u.Month,compAsString:"u.Month",css:"u-month"}),u.ClockPicker=u.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=u.extend({},this.DEFAULTS,this.options),this.format=this.options.format||u.core.getMaskerMeta("time").format,this.panelDiv=null,this.input=this.element.querySelector("input"),u.isMobile&&this.input.setAttribute("readonly","readonly"),u.addClass(this.element,"u-text"),this.template='<div class="u-clock-ul popover clockpicker-popover" style="padding:0px;">',this.template+='<div class="popover-title"><button class="u-button u-date-clean u-clock-clean" >清空</button><span class="clockpicker-span-hours">02</span> : <span class="clockpicker-span-minutes text-primary">01</span><span class="clockpicker-span-am-pm"></span></div>',this.template+='<div class="popover-content">',this.template+='	<div class="clockpicker-plate">',this.template+='		<div class="clockpicker-canvas">',this.template+='			<svg class="clockpicker-svg">',this.template+='				<g transform="translate(100,100)">',this.template+='					<circle class="clockpicker-canvas-bg clockpicker-canvas-bg-trans" r="13" cx="8.362277061412277" cy="-79.56175162946187"></circle>',this.template+='					<circle class="clockpicker-canvas-fg" r="3.5" cx="8.362277061412277" cy="-79.56175162946187"></circle>',this.template+='					<line x1="0" y1="0" x2="8.362277061412277" y2="-79.56175162946187"></line>',this.template+='					<circle class="clockpicker-canvas-bearing" cx="0" cy="0" r="2"></circle>',this.template+="				</g>",this.template+="			</svg>",this.template+="		</div>",this.template+='		<div class="clockpicker-dial clockpicker-hours" style="visibility: visible;">',this.template+='			<div class="clockpicker-tick clockpicker-tick-1" >00</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-2" >1</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-3" >2</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-4" >3</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-5" >4</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-6" >5</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-7" >6</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-8" >7</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-9" >8</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-10" >9</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-11" >10</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-12" >11</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-13" >12</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-14" >13</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-15" >14</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-16" >15</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-17" >16</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-18" >17</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-19" >18</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-20" >19</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-21" >20</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-22" >21</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-23" >22</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-24" >23</div>',this.template+="		</div>",this.template+='		<div class="clockpicker-dial clockpicker-minutes" style="visibility: hidden;">',this.template+='			<div class="clockpicker-tick clockpicker-tick-25" >00</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-26" >05</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-27" >10</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-28" >15</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-29" >20</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-30" >25</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-31" >30</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-32" >35</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-33" >40</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-34" >45</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-35" >50</div>',this.template+='			<div class="clockpicker-tick clockpicker-tick-36" >55</div>',this.template+="		</div>",this.template+='	</div><span class="clockpicker-am-pm-block"></span></div>',this.template+="	</div>",u.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this));var t=new Date;this.defaultHour=t.getHours()>9?""+t.getHours():"0"+t.getHours(),this.defaultMin=t.getMinutes()>9?""+t.getMinutes():"0"+t.getMinutes(),this.defaultSec=t.getSeconds()>9?""+t.getSeconds():"0"+t.getSeconds(),this.hours=this.defaultHour,this.min=this.defaultMin,this.sec=this.defaultSec,this.focusEvent(),this.clickEvent()}}),u.ClockPicker.fn=u.ClockPicker.prototype,u.ClockPicker.fn._zoomIn=function(t){u.addClass(t,"zoom-in");var e=function(){u.off(t,"transitionend",e),u.off(t,"webkitTransitionEnd",e),this.contentPage=t}.bind(this);this.contentPage&&(u.on(t,"transitionend",e),u.on(t,"webkitTransitionEnd",e)),setTimeout(function(){t.style.visibility="visible",u.removeClass(t,"zoom-in")},150)},u.ClockPicker.fn.createPanel=function(){if(!this.panelDiv){this.panelDiv=u.makeDOM(this.template),this.hand=this.panelDiv.querySelector("line"),this.bg=this.panelDiv.querySelector(".clockpicker-canvas-bg"),this.fg=this.panelDiv.querySelector(".clockpicker-canvas-fg"),this.titleHourSpan=this.panelDiv.querySelector(".clockpicker-span-hours"),this.titleMinSpan=this.panelDiv.querySelector(".clockpicker-span-minutes"),this.hourDiv=this.panelDiv.querySelector(".clockpicker-hours"),this.minDiv=this.panelDiv.querySelector(".clockpicker-minutes"),this.btnClean=this.panelDiv.querySelector(".u-date-clean"),u.isMobile||(this.btnClean.style.display="none"),this.currentView="hours",u.on(this.hourDiv,"click",function(t){var e=t.target;u.hasClass(e,"clockpicker-tick")&&(this.hours=e.innerHTML,this.hours=this.hours>9||0==this.hours?""+this.hours:"0"+this.hours,this.titleHourSpan.innerHTML=this.hours,this.hourDiv.style.visibility="hidden",this._zoomIn(this.minDiv),this.currentView="min",this.setHand())}.bind(this)),u.on(this.minDiv,"click",function(t){var e=t.target;if(u.hasClass(e,"clockpicker-tick")){this.min=e.innerHTML,this.titleMinSpan.innerHTML=this.min,this.minDiv.style.visibility="hidden",this.hourDiv.style.visibility="visible",this.currentView="hours";var i=this.hours+":"+this.min+":"+this.sec;this.setValue(i),this.hide()}}.bind(this)),u.on(this.btnClean,"click",function(t){this.setValue(""),this.hide()}.bind(this)),document.body.appendChild(this.panelDiv)}},u.ClockPicker.fn.setHand=function(){var t=54,e=80,i=this.currentView,n=this[i],s="hours"===i,o=Math.PI/(s?6:30),a=n*o,r=s&&n>0&&13>n?t:e,l=Math.sin(a)*r,u=-Math.cos(a)*r;this.setHandFun(l,u)},u.ClockPicker.fn.setHandFun=function(t,e,i,n){var s,o=54,a=80,r=Math.atan2(t,-e),l="hours"===this.currentView,u=Math.PI/(l?6:30),d=Math.sqrt(t*t+e*e),c=this.options,h=l&&(a+o)/2>d,p=h?o:a;this.twelvehour&&(p=a),0>r&&(r=2*Math.PI+r),s=Math.round(r/u),r=s*u,c.twelvehour?l?0===s&&(s=12):(i&&(s*=5),60===s&&(s=0)):l?(12===s&&(s=0),s=h?0===s?12:s:0===s?0:s+12):(i&&(s*=5),60===s&&(s=0));var f=this.panelDiv.querySelector(".clockpicker-plate").offsetWidth,m=f/200,v=Math.sin(r)*p*m,g=-Math.cos(r)*p*m,_=100*m;this.panelDiv.querySelector("g").setAttribute("transform","translate("+_+","+_+")"),this.hand.setAttribute("x2",v),this.hand.setAttribute("y2",g),this.bg.setAttribute("cx",v),this.bg.setAttribute("cy",g),this.fg.setAttribute("cx",v),this.fg.setAttribute("cy",g)},u.ClockPicker.fn.setValue=function(t){if(t=t?t:"",""==t)return this.input.value="",void this.trigger("valueChange",{value:""});if(t&&t.indexOf(":")>-1){var e=t.split(":"),i=e[0];i%=24,this.hours=i>9?""+i:"0"+i;var n=e[1];n%=60,this.min=n>9?""+n:"0"+n;var s=e[2]||0;s%=60,this.sec=s>9?""+s:"0"+s,t=this.hours+":"+this.min+":"+this.sec}else this.hours=this.defaultHour,this.min=this.defaultMin,this.sec=this.defaultSec;var o=new Date;o.setHours(this.hours),o.setMinutes(this.min),o.setSeconds(this.sec);var a=u.date.format(o,this.format);this.input.value=a,this.trigger("valueChange",{value:t})},u.ClockPicker.fn.focusEvent=function(){var t=this;u.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.ClockPicker.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;u.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},u.ClockPicker.fn.show=function(t){var e=this.input.value;this.setValue(e);var i=this;if(this.createPanel(),this.minDiv.style.visibility="hidden",this.hourDiv.style.visibility="visible",this.currentView="hours",this.titleHourSpan.innerHTML=this.hours,this.titleMinSpan.innerHTML=this.min,u.isMobile){this.panelDiv.style.position="fixed",this.panelDiv.style.top="20%";var n=document.body.clientWidth,s=(n-226)/2;this.panelDiv.style.left=s+"px",this.overlayDiv=u.makeModal(this.panelDiv),u.on(this.overlayDiv,"click",function(){i.hide()})}else u.showPanelByEle({ele:this.input,panel:this.panelDiv,position:"bottomLeft"}),document.body.onscroll=function(){u.showPanelByEle({ele:i.input,panel:i.panelDiv,position:"bottomLeft"})};this.panelDiv.style.zIndex=u.getZIndex(),u.addClass(this.panelDiv,"is-visible"),this.setHand();var o=function(e){e===t||e.target===this.input||i.clickPanel(e.target)||(u.off(document,"click",o),this.hide())}.bind(this);u.on(document,"click",o)},u.ClockPicker.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},u.ClockPicker.fn.hide=function(){if(u.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1,this.overlayDiv)try{document.body.removeChild(this.overlayDiv)}catch(t){}},u.compMgr&&(u.isIE8||u.compMgr.regComp({comp:u.ClockPicker,compAsString:"u.ClockPicker",css:"u-clockpicker"})),u.dialog=function(t){function e(){u.removeDialog(),t.cancelfn&&t.cancelfn}function i(){console.log(o.clientWidth,o.clientHeight,1),u.css(o,{width:o.clientWidth-20,height:o.clientHeight-20,right:"auto",bottom:"auto"})}function n(){console.log(o.clientWidth,o.clientHeight,2),u.css(o,{width:"auto",height:"auto",left:o.offsetLeft,top:o.offsetTop,right:g-o.offsetLeft-o.clientWidth,bottom:_-o.offsetTop-o.clientHeight})}function s(){var t=o.offsetWidth||500,e=o.offsetHeight;o.style.left=((window.innerWidth?window.innerWidth:document.body.clientWidth)-t)/2+"px",o.style.top=((window.innerHeight?window.innerHeight:document.body.clientHeight)-e)/2+"px"}var o=document.createElement("div");o.className="move-dialog";var a=document.createElement("div");t.type?a.className="move-alert alert alert-"+t.type+" alert-dismissible":a.className="move-alert alert alert-warning alert-dismissible",closebtn='<button type="button" class="close"  aria-label="Close"><span aria-hidden="true">&times;</span></button>',t.title=t.title||trans("dialog.info_dialog","提示窗口");var r="<h4>"+t.title+"</h4>";if(t.url)var l='<p class="dialog_p"><iframe class="dialog_iframe" src='+t.url+"></iframe></p>";else var l='<p style="position: absolute;top: 50px;bottom: 20px;overflow: auto;left: 30px;right: 25px;"></p>';var d,c,h,p,f,m,v,g,_;if(g=window.innerWidth?window.innerWidth:document.body.clientWidth,_=window.innerHeight?window.innerHeight:document.body.clientHeight,t.width?u.css(o,{width:t.width}):u.css(o,{width:"520px"}),t.height&&u.css(o,{height:t.height}),t.url)a.insertAdjacentHTML("beforeEnd",closebtn+r+l);else{a.insertAdjacentHTML("beforeEnd",closebtn+r);var C=u.makeDOM(l);a.appendChild(C),C.insertAdjacentHTML("beforeEnd",t.msg)}u.on(a.querySelector('[aria-label="Close"]'),"click",e),t.backdrop&&document.body.insertAdjacentHTML("beforeEnd",'<div class="alert-backdrop" role="alert-dialog-backdrop"></div>'),o.appendChild(a),t.movable&&(u.on(o,"mousedown",function(t){m=o.clientWidth,v=o.clientHeight,c=t.clientX-o.offsetLeft,h=t.clientY-o.offsetTop,11>p&&12>f?(n(),d=9,u.css(o,{cursor:"se-resize"})):p>m-20&&f>v-10?(n(),d=8,u.css(o,{cursor:"se-resize"})):11>p&&f>v-10?(n(),d=7,u.css(o,{cursor:"ne-resize"})):p>m-20&&12>f?(n(),d=6,u.css(o,{cursor:"ne-resize"})):12>p?(n(),d=5,u.css(o,{cursor:"e-resize"})):p>m-20?(n(),d=4,u.css(o,{cursor:"e-resize"})):11>f?(d=3,n(),u.css(o,{cursor:"n-resize"})):f>v-10?(d=2,n(),u.css(o,{cursor:"n-resize"})):"H4"==t.target.nodeName&&(d=1,i(),u.css(o,{cursor:"auto"}))}),u.on(document,"mousemove",function(t){return m=o.clientWidth,v=o.clientHeight,p=t.clientX-o.offsetLeft,f=t.clientY-o.offsetTop,1==d?void u.css(o,{left:t.clientX-c,top:t.clientY-h,cursor:"all-scroll"}):2==d?void u.css(o,{bottom:_-t.clientY-20}):3==d?void u.css(o,{top:t.clientY-20}):4==d?(console.log(g-t.clientX-20),void u.css(o,{right:g-t.clientX-20})):5==d?void u.css(o,{left:t.clientX-20}):6==d?void u.css(o,{top:t.clientY-20,right:g-t.clientX-20}):7==d?void u.css(o,{left:t.clientX-20,bottom:_-t.clientY-20}):8==d?void u.css(o,{bottom:_-t.clientY-20,right:g-t.clientX-20}):9==d?void u.css(o,{top:t.clientY-20,left:t.clientX-20}):void(11>p&&12>f||p>m-20&&f>v-10?u.css(o,{cursor:"se-resize"}):11>p&&f>v-10||p>m-20&&12>f?u.css(o,{cursor:"ne-resize"}):12>p||p>m-20?u.css(o,{cursor:"e-resize"}):11>f||f>v-10?u.css(o,{cursor:"n-resize"}):u.css(o,{cursor:"auto"}))}),u.on(document,"mouseup",function(){d=!1,u.css(o,{cursor:"auto"})})),document.body.appendChild(o),s()},u.removeDialog=function(){for(var t=document.querySelectorAll(".move-dialog,.alert-backdrop"),e=0;e<t.length;e++)document.body.removeChild(t[e])},function($,window,document,undefined){var gridBrowser={},userAgent=navigator.userAgent,ua=userAgent.toLowerCase(),s;if((s=ua.match(/msie ([\d.]+)/))&&(gridBrowser.isIE=!0),gridBrowser.isIE){var mode=document.documentMode;null==mode||(8==mode?gridBrowser.isIE8=!0:9==mode&&(gridBrowser.isIE9=!0))}var dataSource=function(t,e){this.init(t,e),this.sortRows()},gridCompColumn=function(t,e){this.init(t,e)},gridComp=function(t,e){this.init(t,e),this.initGrid()};gridComp.prototype={init:function(t,e){this.dataSource=dataSource,this.gridCompColumn=gridCompColumn,this.ele=t[0],this.$ele=t,this.initDefault(),this.options=$.extend({},this.defaults,e),this.getBooleanOptions(),this.transDefault={ml_show_column:"显示/隐藏列",ml_clear_set:"清除设置",ml_no_rows:"无数据",ml_sum:"合计:",ml_close:"关闭"},this.transMap=$.extend({},this.transDefault,e.transMap),this.gridCompColumnFixedArr=new Array,this.gridCompColumnArr=new Array,this.countContentHeight=!0,this.minColumnWidth=80,this.scrollBarHeight=16,this.numWidth=40,this.multiSelectWidth=40,this.multiWidth=40,this.basicGridCompColumnArr=new Array,this.columnMenuWidth=160,this.columnMenuHeight=33,this.gridCompColumnFixedArr=new Array,this.gridCompLevelColumn=new Array,this.headerHeight=44*parseInt(this.options.maxHeaderLevel)+1,this.gridCompHiddenLevelColumnArr=new Array,this.treeLeft=10},getBooleanOptions:function(){this.options.cancelFocus=this.getBoolean(this.options.cancelFocus),this.options.showHeader=this.getBoolean(this.options.showHeader),this.options.showNumCol=this.getBoolean(this.options.showNumCol),this.options.multiSelect=this.getBoolean(this.options.multiSelect),this.options.columnMenu=this.getBoolean(this.options.columnMenu),this.options.canDrag=this.getBoolean(this.options.canDrag),this.options.overWidthHiddenColumn=this.getBoolean(this.options.overWidthHiddenColumn),this.options.sortable=this.getBoolean(this.options.sortable),this.options.showSumRow=this.getBoolean(this.options.showSumRow),this.options.canSwap=this.getBoolean(this.options.canSwap),this.options.showTree=this.getBoolean(this.options.showTree),this.options.autoExpand=this.getBoolean(this.options.autoExpand),this.options.needTreeSort=this.getBoolean(this.options.needTreeSort)},initDefault:function(){this.defaults={id:"grid",cancelFocus:!1,showHeader:!0,showNumCol:!1,multiSelect:!1,columnMenu:!0,canDrag:!0,formMaxWidth:300,formMaxWidth:0,maxHeaderLevel:1,overWidthHiddenColumn:!1,sortable:!0,showSumRow:!1,canSwap:!0,showTree:!1,autoExpand:!0,needTreeSort:!1}},initGrid:function(){if(this.options.columns&&0!=this.options.columns.length){var t=this;this.initOptions(),this.initVariable(),this.initWidthVariable(),this.initGridCompColumn(),this.initDataSource(),this.createDivs(),this.inte=setInterval(function(){t.setIntervalFun.call(t)},300)}},destroySelf:function(){clearInterval(this.inte),this.$ele.data("gridComp",null),this.ele.innerHTML=""},initOptions:function(){this.options.width=this.formatWidth(this.options.width),this.options.height=this.formatWidth(this.options.height),"100%"!=this.options.height&&this.options.height||(this.countContentHeight=!1),this.initOptionsTree(),this.leftW=0,this.options.showNumCol&&(this.leftW+=this.numWidth),this.options.multiSelect&&(this.leftW+=this.multiWidth),this.exceptContentHeight=0,this.options.showHeader&&(this.exceptContentHeight+=this.headerHeight),this.fixedWidth=0,this.options.maxHeaderLevel>1&&(this.options.canSwap=!1);var t=window.location.href,e=t.indexOf("?");e>0&&(t=t.substring(0,e)),this.localStorageId=this.options.id+t},initOptionsTree:function(){},initVariable:function(){this.initDataSourceVariable(),this.mouseUpX="mouseUpX",this.mouseUpY="mouseUpY",this.mouseDownX="mouseDownX",this.mouseDownY="mouseDownY",this.mouseMoveX="mouseMoveX",this.mouseMoveY="mouseMoveY",this.scrollLeft=0,this.scrollTop=0,this.showType="",this.createGridFlag=!1,this.columnClickX=0,this.columnClickY=0,this.columnMenuMove=!1,this.firstColumn=!0,this.lastVisibleColumn=null,this.lastVisibleColumnWidth=0,this.columnMenuMove=!1,this.createColumnMenuFlag=!1,this.menuColumnsHeight=0,this.createFormFlag=!1,this.$sd_storageData=null},initDataSourceVariable:function(){this.selectRows=new Array,this.selectRowsObj=new Array,this.selectRowsIndex=new Array,this.allRows=new Array,this.eidtRowIndex=-1},initWidthVariable:function(){this.wholeWidth=0,this.wholeHeight=0,this.rowHeight=0,this.contentRealWidth=0,this.contentWidth=0,this.contentMinWidth=0,this.contentHeight=0,this.fixedRealWidth=0,this.fixedWidth=0},initGridCompColumn:function(){var t=this;this.initGridCompColumnVar(),this.options.columns&&$.each(this.options.columns,function(e){t.initGridCompColumnFun(this)}),this.initGridCompColumnLoacl(),this.initGridHiddenLevelColumn(),this.initGridCompFixedColumn(),this.columnsVisibleFun()},initGridCompColumnVar:function(){this.gridCompColumnArr=new Array,this.basicGridCompColumnArr=new Array,this.gridCompColumnFixedArr=new Array,this.gridCompLevelColumn=new Array,this.gridCompHiddenLevelColumnArr=new Array},initGridCompColumnFun:function(t){var e=new gridCompColumn(t,this);e.options.realWidth=e.options.width,this.gridCompColumnArr.push(e),this.initGridCompColumnColumnMenuFun(t),this.initGridCompColumnHeaderLevelFun(t)},initGridCompColumnColumnMenuFun:function(t){},initGridCompColumnHeaderLevelFun:function(t){},initGridCompColumnLoacl:function(t){},initGridHiddenLevelColumn:function(){},initGridCompFixedColumn:function(){},setRequired:function(t,e){},initDataSource:function(){this.dataSourceObj=new dataSource(this.options.dataSource,this)},createDivs:function(){var t="",e="";this.ele.innerHTML="",e+=this.options.width?"width:"+this.options.width+";":"width:auto;",e+=this.options.height?"max-height:"+this.options.height+";":"height:auto;",""!=e&&(t='style="'+e+'"');var i='<div id="'+this.options.id+'" data-role="grid" class="u-grid" '+t+">";i+="</div>",this.ele.insertAdjacentHTML("afterBegin",i);var i='<div id="'+this.options.id+'_top" class="u-grid-top"></div>';document.body.appendChild($(i)[0]),this.initEventFun(),this.widthChangeFun()},repaintDivs:function(){this.repaintGridDivs(),this.realtimeTableRows=null},createGridDivs:function(){if(!this.createGridFlag){$("#"+this.options.id)[0]&&($("#"+this.options.id)[0].innerHTML="");var t='<div id="'+this.options.id+'_grid" class="u-grid-grid">';t+=this.createColumnMenu(),t+=this.createHeader(),t+=this.createContent(),t+="</div>",$("#"+this.options.id)[0]&&$("#"+this.options.id).html(t),this.headerFirstClassFun(),this.initGridEventFun(),this.showType="grid",this.afterGridDivsCreate(),this.createGridFlag=!0,this.realtimeTableRows=null}},repaintGridDivs:function(){$("#"+this.options.id+"_grid").remove(null,!0),this.showType="",this.wholeWidth=0,this.createGridFlag=!1,this.columnsVisibleFun(),this.widthChangeFun(),this.realtimeTableRows=null},createColumnMenu:function(){return""},createHeader:function(){var t="",e="";this.options.showHeader||(e='style="display:none;"');var i='<div class="u-grid-header" id="'+this.options.id+'_header" '+e+'><div class="u-grid-header-wrap" id="'+this.options.id+'_header_wrap" data-role="resizable" '+t+">";return i+='<div class="u-grid-header-columnmenu fa fa-bars"></div>',(this.options.multiSelect||this.options.showNumCol)&&(i+='<div id="'+this.options.id+'_header_left" class="u-grid-header-left" style="width:'+this.leftW+'px;">',this.options.multiSelect&&(i+=gridBrowser.isIE8?'<div class="u-grid-header-multi-select" style="width:'+this.multiWidth+'px;"><span class="u-grid-checkbox-outline" id="'+this.options.id+'_header_multi_input"><span class="u-grid-checkbox-tick-outline"></span></span></div>':'<div class="u-grid-header-multi-select  checkbox check-success" style="width:'+this.multiWidth+'px;"><span class="u-grid-checkbox-outline" id="'+this.options.id+'_header_multi_input"><span class="u-grid-checkbox-tick-outline"></span></span></div>'),this.options.showNumCol&&(i+='<div class="u-grid-header-num" style="width:'+this.numWidth+'px;"></div>'),i+="</div>"),i+=this.createHeaderTableFixed(),i+=this.createHeaderTable(),i+="</div>",i+=this.createHeaderDrag(),i+="</div>"},createHeaderTable:function(t){
var e,i,n;"fixed"==t?(e=parseInt(this.leftW),i="absolute;width:"+this.fixedWidth+"px;z-index:11;background:#F9F9F9;",n="fixed_"):(e=parseInt(this.leftW)+parseInt(this.fixedWidth),i="relative;",n="",this.contentMinWidth>0&&(i+="width:"+this.contentMinWidth+"px;"));var s='<table role="grid" id="'+this.options.id+"_header_"+n+'table" style="position:'+i+";left:"+e+'px">';return s+=this.createColgroup(t),s+='<thead role="rowgroup" id="'+this.options.id+"_header_"+n+'thead">',s+=this.createThead(t),s+="</thead></table>"},createHeaderTableFixed:function(){return""},createHeaderDrag:function(){return""},createColgroup:function(t){var e,i=this,n="<colgroup>";return e="fixed"==t?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(e,function(){this.options.visible&&(n+="<col",n+=' style="width:'+i.formatWidth(this.options.width)+'"',n+=">")}),n+="</colgroup>"},createThead:function(t){var e,i=0,n="";this.options.maxHeaderLevel>1&&(n='style="height:'+this.headerHeight+'px;"');var s='<tr role="row" '+n+">";return e="fixed"==t?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(e,function(t){var e=i,n="";0==this.options.visible?(e=-1,n='style="display:none;"'):i++,s+='<th role="columnheader" data-filed="'+this.options.field+'" rowspan="1" class="u-grid-header-th" '+n+'field="'+this.options.field+'" index="'+t+'" visibleIndex="'+e+'"><div style="position:relative;">';var o="";this.options.headerColor&&(o='style="color:'+this.options.headerColor+'"'),s+='<div class="u-grid-header-link" field="'+this.options.field+'" title="'+this.options.title+'" '+o+">"+this.options.title+"</div>",s+="</div></th>"}),s+="</tr>"},createContent:function(){var t="",e="",i="";if(this.countContentHeight){var n=$("#"+this.options.id)[0].offsetHeight;this.wholeHeight=n,n>0&&(this.contentHeight=parseInt(n)-this.exceptContentHeight-1>0?parseInt(n)-this.exceptContentHeight-1:0,this.contentHeight>0&&(t='style="height:'+this.contentHeight+'px;"'))}var s='<div id="'+this.options.id+'_content" class="u-grid-content" '+t+">";return(this.options.showNumCol||this.options.multiSelect)&&(s+=this.createContentLeft(),this.contentWidth>this.contentMinWidth||(e="display:none;",i="bottom:0px;"),s+=this.createContentSumRow(i),u.isIOS&&(e+="width:0px;"),s+='<div class="u-grid-content-left-bottom" id="'+this.options.id+'_content_left_bottom" style="width:'+(this.leftW+this.fixedWidth)+"px;"+e+'">',s+="</div>"),s+=this.createContentTableFixed(),s+=this.createContentTable(),s+="</div>"},createContentSumRow:function(){return""},createContentLeft:function(){var t,e=this,i="",n=0;return this.options.multiSelect&&(i+='<div class="u-grid-content-left" id="'+this.options.id+'_content_multiSelect" style="width:'+this.multiSelectWidth+"px;"+t+'">',this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(t){i+=e.createContentLeftMultiSelectRow(this)}),i+="</div>",n+=this.multiSelectWidth),this.options.showNumCol&&(i+='<div class="u-grid-content-left" id="'+this.options.id+'_content_numCol" style="width:'+this.numWidth+"px;left:"+n+"px;"+t+'">',this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(t){i+=e.createContentLeftNumColRow(t)}),i+="</div>"),i},createContentLeftMultiSelectRow:function(t,e){var i="";!this.options.autoExpand&&t.level>0&&"block"!=e&&(i="display:none;");var n=t.value["$_#_@_id"];if(n||(n=setTimeout(function(){})),gridBrowser.isIE8)var s='<div style="width:'+this.multiSelectWidth+"px;"+i+'" class="u-grid-content-multiSelect " ><span class="u-grid-checkbox-outline" id="checkbox'+n+'" value="1"><span class="u-grid-checkbox-tick-outline"></span></span></div>';else var s='<div style="width:'+this.multiSelectWidth+"px;"+i+'" class="u-grid-content-multiSelect checkbox check-success" ><span class="u-grid-checkbox-outline" id="checkbox'+n+'" value="1"><span class="u-grid-checkbox-tick-outline"></span></span></div>';return s},createContentLeftNumColRow:function(t){var e='<div style="width:'+this.numWidth+'px;" class="u-grid-content-num">'+(t+1)+"</div>";return e},createContentTable:function(t){var e,i,n,s,o,a;s=this.countContentHeight&&parseInt(this.contentHeight)>0?"height:"+this.contentHeight+"px;":"","fixed"==t?(e=parseInt(this.leftW),i="fixed_",o="fixed-",n='style="position:absolute;width:'+this.fixedWidth+"px;left:"+e+"px;"+s+'"',a='style="width:'+this.fixedWidth+'px;"'):(e=parseInt(this.leftW)+parseInt(this.fixedWidth,0),i="",o="",n='style="position:relative;left:'+e+"px;"+s,this.contentMinWidth>0&&(n+="width:"+this.contentMinWidth+"px;"),n+='"',a="",this.contentMinWidth>0&&(a=this.contentWidth>0?'style="min-width:'+this.contentMinWidth+"px;width:"+this.contentWidth+'px;"':'style="min-width:'+this.contentMinWidth+'px;"'));var r='<div id="'+this.options.id+"_content_"+i+'div" class="u-grid-content-'+o+'div" '+n+">";return r+='<div style="height:30px;position:absolute;top:-30px;width:100%;"></div><table role="grid" id="'+this.options.id+"_content_"+i+'table" '+a+">",r+=this.createColgroup(t),r+='<thead role="rowgroup" id="'+this.options.id+"_content_"+i+'thead" style="display:none">',r+=this.createThead(t),r+="</thead>",r+=this.createContentRows(t),r+="</table>","fixed"!=t&&(r+=this.createNoRowsDiv()),r+="</div>"},createContentTableFixed:function(){return""},createNoRowsDiv:function(){var t="",e="";this.contentMinWidth>0&&(t+='style="width:'+this.contentMinWidth+'px;"'),this.contentWidth>0&&(e+='style="width:'+this.contentWidth+'px;"');var i='<div class="u-grid-noRowsDiv"'+e+' id="'+this.options.id+'_noRows"></div>';return i+='<div class="u-grid-noRowsShowDiv"'+t+' id="'+this.options.id+'_noRowsShow">'+this.transMap.ml_no_rows+"</div>"},createContentRows:function(t){var e,i=this,n="";return e="fixed"==t?"fixed_":"",this.dataSourceObj.rows&&(n+='<tbody role="rowgroup" id="'+this.options.id+"_content_"+e+'tbody">',$.each(this.dataSourceObj.rows,function(e){n+=i.createContentOneRow(this,t)}),n+=this.createContentRowsSumRow(),n+="</tbody>"),n},createContentRowsSumRow:function(){return""},createContentOneRow:function(t,e,i){var n="";!this.options.autoExpand&&t.level>0&&"block"!=i&&(n='style="display:none"');var s='<tr role="row" '+n+">";return s+=this.createContentOneRowTd(t,e),s+="</tr>"},createContentOneRowForIE:function(t,e,i,n,s){var o=t.insertRow(e+1);o.setAttribute("role","row"),!this.options.autoExpand&&o.level>0&&"block"!=s&&(o.style.display="none"),this.createContentOneRowTdForIE(o,i,n)},repaintRow:function(t){var e=$("#"+this.options.id+"_content_tbody").find('tr[role="row"]')[t],i=$("#"+this.options.id+"_content_fixed_tbody").find('tr[role="row"]')[t],n=this.dataSourceObj.rows[t],s=$(e),o=this.getTrIndex(s);if(gridBrowser.isIE8||gridBrowser.isIE9){var a=$("#"+this.options.id+"_content_table")[0],r=$("#"+this.options.id+"_content_fixed_table")[0],l=e.className,d=i.className;a.deleteRow(t+1),r.deleteRow(t+1);var e=a.insertRow(t+1);u.addClass(e,l);var i=r.insertRow(t+1);u.addClass(i,d),this.createContentOneRowTdForIE(e,n),this.createContentOneRowTdForIE(i,n,"fixed")}else e.innerHTML=this.createContentOneRowTd(n),i&&(i.innerHTML=this.createContentOneRowTd(n,"fixed"));var c={};c.begin=o,c.length=1,this.renderTypeFun(c)},createContentOneRowTd:function(t,e){var i,n=this,s="",o=t.value;return i="fixed"==e?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(i,function(){var e=this.options.field,i=$(o).attr(e);i=n.getString(i,""),"object"==$.type(i)&&(i=i.showValue);var a=(this.options.renderType,""),r="",l="",u="";if(n.options.showTree&&this.firstColumn){var d=parseInt(n.treeLeft)*parseInt(t.level);a='style="position:relative;',t.hasChild?r=n.options.autoExpand?'<span class=" fa fa-minus-square-o u-grid-content-tree-span"></span>':'<span class=" fa fa-plus-square-o u-grid-content-tree-span"></span>':d+=16,a+="left:"+d+'px;"'}this.options.visible||(u='style="display:none;"'),this.options.icon&&(l='<span class="'+this.options.icon+'"></span>'),s+='<td role="rowcell"  '+u+' title="'+i.replace(/\</g,"<").replace(/\>/g,">")+'"><div class="u-grid-content-td-div" '+a+">"+r+l+"<span>"+i.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</span></div></td>"}),s},createContentOneRowTdForIE:function(t,e,i){var n,s=this,o=e.value;n="fixed"==i?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(n,function(){var i=this.options.field,n=$(o).attr(i),n=s.getString(n,"");"object"==$.type(n)&&(n=n.showValue);var a=(this.options.renderType,""),r="",l="",u="",d=t.insertCell();if(d.setAttribute("role","rowcell"),d.title=n.replace(/\</g,"<").replace(/\>/g,">"),s.options.showTree&&this.firstColumn){var c=parseInt(s.treeLeft)*parseInt(e.level);a='style="position:relative;',e.hasChild?r=s.options.autoExpand?'<span class=" fa fa-minus-square-o u-grid-content-tree-span"></span>':'<span class=" fa fa-plus-square-o u-grid-content-tree-span"></span>':c+=18,a+="left:"+c+'px;"'}this.options.visible||(d.style.display="none"),this.options.icon&&(l='<span class="'+this.options.icon+'"></span>'),u+='<div class="u-grid-content-td-div" '+a+">"+r+l+"<span>"+n.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</span></div>",d.insertAdjacentHTML("afterBegin",u)})},repairContent:function(){var t=$("#"+this.options.id+"_content").parent();if($("#"+this.options.id+"_content").remove(null,!0),t[0]){var e=this.createContent();t[0].insertAdjacentHTML("beforeEnd",e),this.renderTypeFun(),this.initContentDivEventFun(),$("#"+this.options.id+"_content_div")[0]&&($("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft),$("#"+this.options.id+"_content_edit_menu").css("display","none")}this.realtimeTableRows=null},initEventFun:function(){var t=this;$("#"+this.options.id).on("mousedown",function(e){$(e.target).closest("#"+t.options.id+"_header").length>0?(t.mouseDownX=e.clientX,t.mouseDownY=e.clientY):$(e.target).closest("#"+t.options.id+"_content").length>0})},initGridEventFun:function(){var t=this;this.initContentDivEventFun(),$("#"+this.options.id+"_header_multi_input").on("click",function(e){this.hasChecked?(t.setAllRowUnSelect(),this.hasChecked=!1):(t.setAllRowSelect(),this.hasChecked=!0)})},initContentDivEventFun:function(){var t=this;$("#"+t.options.id+"_content .u-grid-content-left").on("click",function(e){var i=$(e.target).closest(".u-grid-checkbox-outline");if(i.length>0){var n=$(i.parent()),s=$(".u-grid-content-multiSelect",n.parent()).index(n);i.hasClass("is-checked")?t.setRowUnselect(s):t.setRowSelect(s)}}),$("#"+this.options.id+"_content_div").on("scroll",function(e){t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop,$("#"+t.options.id+"_header_table").css("left",t.leftW-t.scrollLeft+t.fixedWidth+"px"),$("#"+t.options.id+"_noRowsShow").css("left",t.scrollLeft+"px"),$("#"+t.options.id+"_edit_form").css("left",t.scrollLeft+"px"),$("#"+t.options.id+"_content_multiSelect").css("top",-t.scrollTop+"px"),$("#"+t.options.id+"_content_numCol").css("top",-t.scrollTop+"px"),$("#"+t.options.id+"_content_fixed_div").css("top",-t.scrollTop+"px")}),$("#"+this.options.id+"_content_tbody").on("click",function(e){"function"==typeof t.options.onDblClickFun?t.isDblEvent("tbodyClick",t.dblClickFun,e,t.clickFun,e):t.clickFun(e)}),$("#"+this.options.id+"_content_fixed_tbody").on("click",function(e){"function"==typeof t.options.onDblClickFun?t.isDblEvent("tbodyClick",t.dblClickFun,e,t.clickFun,e):t.clickFun(e)}),$("#"+this.options.id+"_content").on("mousemove",function(e){var i=$(e.target).closest("tr"),n=$(e.target).closest("div"),s=-1;i.length>0?s=$("tr",i.parent()).index(i):n.length>0&&(n.hasClass("u-grid-content-multiSelect")||n.hasClass("u-grid-content-num"))&&(s=$("div",n.parent()).index(n)),t.trHoverFun(s)}),$("#"+this.options.id+"_content").on("mouseout",function(e){if($("#"+t.options.id+"_content_tbody").find("tr").removeClass("u-grid-move-bg"),$("#"+t.options.id+"_content_fixed_tbody").find("tr").removeClass("u-grid-move-bg"),t.options.multiSelect&&$("#"+t.options.id+"_content_multiSelect").find("div").removeClass("u-grid-move-bg"),t.options.showNumCol&&$("#"+t.options.id+"_content_numCol").find("div").removeClass("u-grid-move-bg"),"function"==typeof t.options.onContentOut){var i={};i.gridObj=t;var n=$(e.target).closest("tr");if(n.length>0&&!n.is(".u-grid-content-sum-row")){var s=$('tr[role="row"]',n.parent()).index(n);i.rowObj=t.dataSourceObj.rows[s],i.rowIndex=s}t.options.onContentOut(i)}})},trHoverFun:function(t){var e=this;if($("#"+e.options.id+"_content_tbody").find("tr").removeClass("u-grid-move-bg"),$("#"+e.options.id+"_content_fixed_tbody").find("tr").removeClass("u-grid-move-bg"),e.options.multiSelect&&$("#"+e.options.id+"_content_multiSelect").find("div").removeClass("u-grid-move-bg"),e.options.showNumCol&&$("#"+e.options.id+"_content_numCol").find("div").removeClass("u-grid-move-bg"),t>-1){var i=$("#"+e.options.id+"_content_tbody").find("tr").eq(t);if(i[0].id&&i[0].id==e.options.id+"_edit_tr")return;if($("#"+e.options.id+"_content_tbody").find("tr").eq(t).addClass("u-grid-move-bg"),$("#"+e.options.id+"_content_fixed_tbody").find("tr").eq(t).addClass("u-grid-move-bg"),e.options.multiSelect&&$("#"+e.options.id+"_content_multiSelect").find("div").eq(t).addClass("u-grid-move-bg"),e.options.showNumCol&&$("#"+e.options.id+"_content_numCol").find("div").eq(t).addClass("u-grid-move-bg"),"function"==typeof e.options.onRowHover&&!i.is(".u-grid-content-sum-row")){var n={};n.gridObj=e,n.rowObj=e.dataSourceObj.rows[t],n.rowIndex=t,e.options.onRowHover(n)}}},setIntervalFun:function(t){this.widthChangeFun(),this.heightChangeFun(),this.editorRowChangeFun()},editorRowChangeFun:function(){},afterGridDivsCreate:function(){this.columnsVisibleFun(),this.resetThVariable(),this.countRowHeight(),this.noRowsShowFun(),this.renderTypeFun(),this.resetScrollLeft(),this.hideEditMenu(),"function"==typeof this.options.afterCreate&&this.options.afterCreate.call(this)},countRowHeight:function(){$("#"+this.options.id+"_content_tbody tr")[0]&&(this.rowHeight=$("#"+this.options.id+"_content_tbody tr")[0].offsetHeight)},noRowsShowFun:function(){this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0?($("#"+this.options.id+"_noRowsShow").css("display","none"),$("#"+this.options.id+"_noRows").css("display","none")):($("#"+this.options.id+"_noRowsShow").css("display","block"),$("#"+this.options.id+"_noRows").css("display","block"))},updateLastRowFlag:function(){return},updateNumColLastRowFlag:function(){return},renderTypeFun:function(t){if(this.isGridShow()){if("undefined"==typeof t)var e=null,i=null,n="";else var e="undefined"==typeof t.begin?null:t.begin,i="undefined"==typeof t.length?null:t.length,n="undefined"==typeof t.field?"":t.field;var s=this,e=parseInt(e),i=parseInt(i),o=e;if(i>0&&(o=parseInt(e+i-1)),""==n)this.gridCompColumnFixedArr&&$.each(this.gridCompColumnFixedArr,function(t){s.renderTypeByColumn(this,t,e,i,!0)}),$.each(this.gridCompColumnArr,function(t){s.renderTypeByColumn(this,t,e,i,!1)});else{var a=!1;this.gridCompColumnFixedArr&&$.each(this.gridCompColumnFixedArr,function(t){return this.options.field==n?(s.renderTypeByColumn(this,t,e,i,!0),void(a=!0)):void 0}),a||$.each(this.gridCompColumnArr,function(t){return this.options.field==n?void s.renderTypeByColumn(this,t,e,i,!1):void 0})}}},renderTypeByColumn:function(t,e,i,n,s){var o=this,a=t.options.renderType,r=(t.options.sumCol,t.options.sumRenderType,t.options.dataType),l=t.options.precision,d=(t.options.format,t.options.field),c=i,h=s===!0?"_content_fixed_tbody":"_content_tbody",p=this.getVisibleIndexOfColumn(t);n>0&&(c=parseInt(i+n-1)),this.realtimeTableRows=document.getElementById(o.options.id+h).children;for(var f=-1,m=0;m<o.realtimeTableRows.length;m++)"row"!=o.realtimeTableRows[m].getAttribute("role")&&(f=m);$.each(o.dataSourceObj.rows,function(n){if(i>=0&&n>=i&&c>=n||isNaN(i)){o.editColIndex==p&&o.eidtRowIndex==n&&(o.editColIndex=-1,o.eidtRowIndex=-1);var s=n;-1!=f&&n>=f&&s++;var h=o.realtimeTableRows[s],m=h.children[e];if(m){if(-1!=m.children[0].innerHTML.indexOf("u-grid-content-tree-span"))var v=m.children[0].children[1];else var v=m.children[0];if(v){var g=$(this.value).attr(d);if("function"==typeof a||"Date"==r||"Datetime"==r||"Int"==r||"Float"==r)if(v.innerHTML="","function"==typeof a){g=o.getString(g,"");var _={};_.value=g,_.element=v,_.gridObj=o,_.row=this,_.gridCompColumn=t,_.rowIndex=n,a.call(o,_)}else if("Date"==r||"Datetime"==r)null!=g&&g!=undefined&&"null"!=g&&"undefined"!=g&&""!=g||(g=""),g="Date"==r?u.dateRender(g):u.dateTimeRender(g),v.innerHTML=g,m.title=g;else if("Int"==r)g=parseInt(g),v.innerHTML=g,m.title=g;else if("Float"==r){if(l){var C={};C.value=g,C.precision=l,g=o.DicimalFormater(C)}else g=parseFloat(g);v.innerHTML=g,m.title=g}else{g=o.getString(g,"");var y=g.replace(/\</g,"<");y=y.replace(/\>/g,">"),m.title=g,g=g.replace(/\</g,"&lt;"),g=g.replace(/\>/g,"&gt;"),v.innerHTML=g}else{g=o.getString(g,"");var y=g.replace(/\</g,"<");y=y.replace(/\>/g,">"),m.title=g,g=g.replace(/\</g,"&lt;"),g=g.replace(/\>/g,"&gt;"),v.innerHTML=g}}}}}),this.renderTypeSumRow(t,e,i,n,s)},renderTypeSumRow:function(t,e,i,n,s){},afterRepaintGrid:function(){this.resetScrollLeft(),this.hideEditMenu()},resetScrollLeft:function(){if($("#"+this.options.id+"_content_div")[0])try{$("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft}catch(t){}},hideEditMenu:function(){},widthChangeFun:function(){var t=this;if($("#"+this.options.id)[0]){var e=$("#"+this.options.id).width();this.wholeWidth!=e&&(this.wholeWidth=e,e>this.options.formMaxWidth&&("form"==this.showType||""==this.showType||!$("#"+this.options.id+"_content_div tbody")[0])||this.options.overWidthHiddenColumn?t.widthChangeGridFun():e>0&&e<this.options.formMaxWidth&&("grid"==this.showType||""==this.showType),e>this.options.formMaxWidth&&(this.contentMinWidth=parseInt(this.wholeWidth)-parseInt(this.leftW)-parseInt(this.fixedWidth),this.contentMinWidth<0&&(this.contentMinWidth=0),setTimeout(function(){$("#"+t.options.id+"_header_wrap").css("max-width",t.wholeWidth+"px"),$("#"+t.options.id+"_content_div").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_content_table").css("min-width",t.contentMinWidth+"px"),$("#"+t.options.id+"_content_table").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_header_table").css("min-width",t.contentMinWidth+"px"),$("#"+t.options.id+"_header_table").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_noRowsShow").css("width",t.contentMinWidth+"px"),t.columnsVisibleFun(),t.contentRealWidth<t.contentMinWidth?t.contentWidth=t.contentMinWidth:t.contentWidth=t.contentRealWidth,$("#"+t.options.id+"_noRows").css("width",t.contentWidth+"px"),"function"==typeof t.options.afterCreate&&t.options.afterCreate.call(t)},300))),$("#"+t.options.id+"_header_table").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_edit_form").css("width",t.contentMinWidth+"px")}},widthChangeGridFun:function(){var t=parseInt(this.wholeWidth/2);if(this.widthChangeGridFunFixed(t),this.widthChangeGridFunOverWidthHidden(),this.contentMinWidth=parseInt(this.wholeWidth)-parseInt(this.leftW)-parseInt(this.fixedWidth),this.contentMinWidth<0&&(this.contentMinWidth=0),this.contentRealWidth<this.contentMinWidth){this.contentWidth=this.contentMinWidth;var e=this.lastVisibleColumn.options.width;this.lastVisibleColumnWidth=e+(this.contentMinWidth-this.contentRealWidth),this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth-20}else this.contentWidth=this.contentRealWidth;this.createGridFlag=!1,this.createGridDivs(),$("#"+this.options.id+"_form").css("display","none"),$("#"+this.options.id+"_grid").css("display","block")},widthChangeGridFunFixed:function(t){},widthChangeGridFunOverWidthHidden:function(){},heightChangeFun:function(){if(this.countContentHeight){var t=this.wholeHeight,e=$("#"+this.options.id)[0].offsetHeight;if(this.wholeHeight=e,t!=e&&e>0){var i=e-this.exceptContentHeight-1>0?e-this.exceptContentHeight-1:0;$("#"+this.options.id+"_content").css("height",i+"px"),$("#"+this.options.id+"_content_div").css("height",i+"px")}}},columnsVisibleFun:function(){var t=this,e=0;this.firstColumn=!0,$.each(this.gridCompColumnArr,function(){this.options.visible&&(e+=parseInt(this.options.width),this.firstColumn=t.firstColumn,t.firstColumn=!1,t.lastVisibleColumn=this,t.lastVisibleColumnWidth=this.options.width)}),this.contentRealWidth=e},resetThVariable:function(){if("grid"==this.showType){var t=this;this.contentWidth=0,$("#"+this.options.id+"_header_table th",this.$ele).each(function(e){var i=t.gridCompColumnArr[e],n=0;i.options.visible&&(n=i.options.width),this.attrLeftTotalWidth=t.contentWidth,t.contentWidth+=n,t.resetThVariableDrag(this,i,n),this.gridCompColumn=i,this.attrWidth=n,this.attrRightTotalWidth=t.contentWidth}),t.resetThVariableHeaderLevel()}},resetThVariableDrag:function(t,e){},resetThVariableHeaderLevel:function(){},contentWidthChange:function(t){if(t<this.contentMinWidth){var e=this.lastVisibleColumn.options.width;this.lastVisibleColumnWidth=e+(this.contentMinWidth-t),$("#"+this.options.id+"_header_table col:last").css("width",this.lastVisibleColumnWidth+"px"),$("#"+this.options.id+"_content_table col:last").css("width",this.lastVisibleColumnWidth+"px"),t=this.contentMinWidth}return $("#"+this.options.id+"_content_table").css("width",t+"px"),$("#"+this.options.id+"_noRows").css("width",t+"px"),t>this.contentMinWidth?($("#"+this.options.id+"_content_left_bottom").css("display","block"),$("#"+this.options.id+"_content_left_sum_bottom").css("bottom",16)):($("#"+this.options.id+"_content_left_bottom").css("display","none"),$("#"+this.options.id+"_content_left_sum_bottom").css("bottom",0)),t},getColumnAttr:function(t,e){for(var i=0;i<this.gridCompColumnArr.length;i++)if(this.gridCompColumnArr[i].options.field==e)return $(this.gridCompColumnArr[i].options).attr(t);return""},getColumnByField:function(t){for(var e=0;e<this.gridCompColumnArr.length;e++)if(this.gridCompColumnArr[e].options.field==t)return this.gridCompColumnArr[e];return null},getIndexOfColumn:function(t){for(var e=-1,i=0;i<this.gridCompColumnArr.length;i++)if(this.gridCompColumnArr[i]==t){e=i;break}return e},getVisibleIndexOfColumn:function(t){for(var e=-1,i=0,n=0;n<this.gridCompColumnArr.length;n++){if(this.gridCompColumnArr[n]==t){"none"!=$("#"+this.options.id+"_header").find("th").eq(n).css("display")&&(e=i);break}"none"!=$("#"+this.options.id+"_header").find("th").eq(n).css("display")&&i++}return e},getNextVisibleInidexOfColumn:function(t){for(var e=-1,i=!1,n=0,s=0;s<this.gridCompColumnArr.length;s++)if(this.gridCompColumnArr[s]!=t){if(1==i&&"none"!=$("#"+this.options.id+"_header").find("th").eq(s).css("display")){e=n;break}"none"!=$("#"+this.options.id+"_header").find("th").eq(s).css("display")&&n++}else i=!0;return e},headerFirstClassFun:function(){$("#"+this.options.id+"_grid .u-grid-header-th-first").removeClass("u-grid-header-th-first"),$("#"+this.options.id+"_grid").find("th").eq(0).addClass("u-grid-header-th-first")},isDblEvent:function(t,e,i,n,s){if(null!=this.currentEventName&&this.currentEventName==t)e.call(this,i),this.currentEventName=null,this.cleanCurrEventName&&clearTimeout(this.cleanCurrEventName);else{var o=this;this.cleanCurrEventName&&clearTimeout(this.cleanCurrEventName),this.currentEventName=t,this.cleanCurrEventName=setTimeout(function(){o.currentEventName=null,n.call(o,s)},250)}},dblClickFun:function(t){if("function"==typeof this.options.onDblClickFun){var e=$(t.target).closest("tr");if(e[0].id==this.options.id+"_edit_tr")return;var i=0;e.length>0&&(i=this.getTrIndex(e));var n={};n.gridObj=this,n.rowObj=this.dataSourceObj.rows[i],n.rowIndex=i,this.options.onDblClickFun(n)}},clickFun:function(t){var e=this,i=$(t.target).closest("tr");if(!(i.length>0&&i[0].id==this.options.id+"_edit_tr")){var n=this.getTrIndex(i);if("function"==typeof this.options.onBeforeClickFun){var s={};if(s.gridObj=this,s.rowObj=this.dataSourceObj.rows[n],s.rowIndex=n,s.e=t,!this.options.onBeforeClickFun(s))return}if(this.clickFunTree(t),i.length>0){var o=e.dataSourceObj.rows[n];if(o){if(e.options.rowClickBan)return;o.childRowIndex;e.dataSourceObj.rows[n].focus&&e.options.cancelFocus?e.setRowUnFocus(n):e.dataSourceObj.rows[n].focus||e.setRowFocus(n),this.clickFunEdit(t,n)}}}},clickFunTree:function(t){},clickFunEdit:function(t){},setColumnVisibleByColumn:function(t,e){var i=this.getIndexOfColumn(t);this.setColumnVisibleByIndex(i,e)},setColumnVisibleByIndex:function(t,e){if(t>=0){var i=this.gridCompColumnArr[t],n=this.getVisibleIndexOfColumn(i);if(0==i.options.visible&&e){var s="<col";i.options.width&&(s+=' style="width:'+this.formatWidth(i.options.width)+'"'),s+=">",$("#"+this.options.id+"_header th:eq("+t+")").css("display",""),$("#"+this.options.id+"_content th:eq("+t+")").css("display",""),$("td:eq("+t+")",$("#"+this.options.id+"_content tbody tr")).css("display","");var o=this.getNextVisibleInidexOfColumn(i);if(-1==o)try{$("#"+this.options.id+"_header col:last")[0].insertAdjacentHTML("afterEnd",s),$("#"+this.options.id+"_content col:last")[0].insertAdjacentHTML("afterEnd",s)}catch(a){$("#"+this.options.id+"_header col:last").after(s),$("#"+this.options.id+"_content col:last").after(s)}else try{$("#"+this.options.id+"_header col:eq("+o+")")[0].insertAdjacentHTML("beforeBegin",s),$("#"+this.options.id+"_content col:eq("+o+")")[0].insertAdjacentHTML("beforeBegin",s)}catch(a){$("#"+this.options.id+"_header col:eq("+o+")").before(s),$("#"+this.options.id+"_content col:eq("+o+")").before(s)}var r=this.contentWidth+i.options.width}if(1==i.options.visible&&!e){$("#"+this.options.id+"_header th:eq("+t+")").css("display","none"),$("#"+this.options.id+"_header col:eq("+n+")").remove(),$("#"+this.options.id+"_content th:eq("+t+")").css("display","none"),$("#"+this.options.id+"_content col:eq("+n+")").remove(),$("td:eq("+t+")",$("#"+this.options.id+"_content tbody tr")).css("display","none");var r=this.contentWidth-i.options.width}i.options.visible=e,this.columnsVisibleFun();var l=this.contentWidthChange(r);this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth,this.contentWidth=l,this.resetThVariable(),this.saveGridCompColumnArrToLocal()}},formatWidth:function(t){return t?(t+"").indexOf("%")>0?t:parseInt(t)+"px":""},swapEle:function(t,e){var i=t.next(),n=e.prev();e.insertBefore(i),t.insertAfter(n)},getString:function(t,e){return null!==t&&t!==undefined&&"null"!==t&&"undefined"!==t&&""!==t||(t=e),gridBrowser.isIE8?[t].join(""):t+""},getInt:function(t,e){return(null===t||t===undefined||"null"===t||"undefined"===t||""===t||isNaN(t))&&(t=e),t},getFloat:function(t,e){return(null===t||t===undefined||"null"===t||"undefined"===t||""===t||isNaN(t))&&(t=e),t},cloneObj:function(t){var e;if("object"==typeof t)if(null===t)e=null;else if(t instanceof Array){e=[];for(var i=0,n=t.length;n>i;i++)e.push(this.cloneObj(t[i]))}else{e={};for(var s in t)e[s]=this.cloneObj(t[s])}else e=t;return e},DicimalFormater:function(t){for(var e=t.value+"",i=t.precision,n=0;n<e.length;n++)if(-1=="-0123456789.".indexOf(e.charAt(n)))return"";return this.checkDicimalInvalid(e,i)},checkDicimalInvalid:function(t,e){if(null==t||isNaN(t))return"";var i=parseFloat(t),n=(i*Math.pow(10,e)/Math.pow(10,e)).toFixed(e);return"NaN"==n?"":n},accAdd:function(t,e){var i,n,s;try{i=t.toString().split(".")[1].length}catch(o){i=0}try{n=e.toString().split(".")[1].length}catch(o){n=0}return s=Math.pow(10,Math.max(i,n)),(t*s+e*s)/s},getTrIndex:function(t){return $('tr[id!="'+this.options.id+'_edit_tr"]',t.parent()).index(t)},setDataSource:function(t){this.initDataSourceVariable(),this.options.dataSource=t,this.initDataSource(),this.repairContent(),this.afterGridDivsCreate()},setDataSourceFun1:function(t){var e={};if(t.values){var i=new Array;$.each(t.values,function(){if(t.fields){var e={},n=this;$.each(t.fields,function(t){$(e).attr(this,n[t])}),i.push(e)}})}$(e).attr("values",i),this.setDataSource(e)},addOneRow:function(t,e){var i="none",n={},s=this.dataSourceObj.rows.length,o=!1;if(n.value=t,"grid"==this.showType){this.editClose(),e=this.addOneRowTree(t,e,n),0!=e&&(e&&e>0?e>s&&(e=s):e=0),s==e&&(o=!0),n.valueIndex=e,n.value=t,this.dataSourceObj.rows.splice(e,0,n),this.updateEditRowIndex("+",e),this.dataSourceObj.rows.length>e+1&&$.each(this.dataSourceObj.rows,function(t){t>e&&(this.valueIndex=this.valueIndex+1)});try{var a=this.createContentOneRow(n,"normal",i);if(o)$("#"+this.options.id+"_content_tbody")[0].insertAdjacentHTML("beforeEnd",a);else{var r=$("#"+this.options.id+"_content_tbody").find('tr[role="row"]')[e],l=$("#"+this.options.id+"_content_tbody")[0];r?r.insertAdjacentHTML("beforeBegin",a):l&&l.insertAdjacentHTML("afterBegin",a)}if($("#"+this.options.id+"_content_fixed_div").length>0){var a=this.createContentOneRow(n,"fixed",i);if(o)$("#"+this.options.id+"_content_fixed_tbody")[0].insertAdjacentHTML("beforeEnd",a);else{var r=$("#"+this.options.id+"_content_fixed_tbody").find('tr[role="row"]')[e];r?r.insertAdjacentHTML("beforeBegin",a):$("#"+this.options.id+"_content_fixed_tbody")[0]&&$("#"+this.options.id+"_content_fixed_tbody")[0].insertAdjacentHTML("afterBegin",a)}}}catch(u){var d=$("#"+this.options.id+"_content_div table")[0];d&&this.createContentOneRowForIE(d,e,n,"normal",i);var c=$("#"+this.options.id+"_content_fixed_div table")[0];c&&this.createContentOneRowForIE(c,e,n,"fixed",i)}if(this.options.multiSelect){var a=this.createContentLeftMultiSelectRow(n,i);if(o)$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("beforeEnd",a);else{var h=$("#"+this.options.id+"_content_multiSelect").find("div")[e];h?h.insertAdjacentHTML("beforeBegin",a):$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("afterBegin",a)}}if(this.options.showNumCol){var a=this.createContentLeftNumColRow(s);if(o)$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("beforeEnd",a);else{var h=$("#"+this.options.id+"_content_numCol").find("div")[e];h?h.insertAdjacentHTML("beforeBegin",a):$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("afterBegin",a)}this.resetNumCol(),this.updateNumColLastRowFlag()}this.repairSumRow(),this.noRowsShowFun(),this.updateLastRowFlag();var p={};p.begin=e,p.length=1,this.renderTypeFun(p)}var s=0;this.options.showTree?(this.dataSourceObj.options.values?s=this.dataSourceObj.options.values.length:this.dataSourceObj.options.values=new Array,this.dataSourceObj.options.values.splice(e,0,t),this.addOneRowTreeHasChildF(n)):(this.dataSourceObj.options.values||(this.dataSourceObj.options.values=new Array),this.dataSourceObj.options.values.splice(e,0,t))},addOneRowTree:function(t,e){return e},addOneRowTreeHasChildF:function(){},editClose:function(){},addRows:function(t,e){if(this.options.showTree)for(var i=t.length,n=0;i>n;n++)this.addOneRow(t[n],i);else{this.editClose();var s="",o="",a="",r="",l=this,i=this.dataSourceObj.rows.length,u=!1;0!=e&&(e&&e>0?e>i&&(e=i):e=0),i==e&&(u=!0);var d=new Array;if($.each(t,function(t){var i={};i.value=this,i.valueIndex=e+t,d.push(i),l.dataSourceObj.rows.splice(e+t,0,i),l.updateEditRowIndex("+",e+t)}),this.dataSourceObj.rows.length>e+t.length&&$.each(this.dataSourceObj.rows,function(i){i>e+t.length-1&&(this.valueIndex=this.valueIndex+t.length)}),"grid"==this.showType&&$("#"+this.options.id+"_content_div tbody")[0]){$.each(d,function(t){s+=l.createContentOneRow(this),r+=l.createContentOneRowFixed(this),l.options.multiSelect&&(o+=l.createContentLeftMultiSelectRow(this)),l.options.showNumCol&&(a+=l.createContentLeftNumColRow(i+t))});try{u?$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("beforeEnd",s):$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]')[e]?$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]')[e].insertAdjacentHTML("beforeBegin",s):$("#"+this.options.id+"_content_div tbody")[0]&&$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("afterBegin",s),u?$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("beforeEnd",r):$("#"+this.options.id+"_content_fixed_div").find("tbody").find('tr[role="row"]')[e]?$("#"+this.options.id+"_content_fixed_div").find("tbody").find('tr[role="row"]')[e].insertAdjacentHTML("beforeBegin",r):$("#"+this.options.id+"_content_fixed_div tbody")[0]&&$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("afterBegin",r);
}catch(c){var h=$("#"+this.options.id+"_content_div table")[0],p=$("#"+this.options.id+"_content_fixed_div table")[0];h&&p&&$.each(d,function(t){l.createContentOneRowForIE(h,e+t,this),l.createContentOneRowForIE(p,e+t,this,"fixed")})}if(this.options.multiSelect)if(u)$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("beforeEnd",o);else{var f=$("#"+this.options.id+"_content_multiSelect").find("div")[e];f?f.insertAdjacentHTML("beforeBegin",o):$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("afterBegin",o)}if(this.options.showNumCol){if(u)$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("beforeEnd",a);else{var f=$("#"+this.options.id+"_content_numCol").find("div")[e];f?f.insertAdjacentHTML("beforeBegin",a):$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("afterBegin",a)}this.resetNumCol(),this.updateNumColLastRowFlag()}this.repairSumRow(),this.noRowsShowFun();var m={};m.begin=e,m.length=t.length,this.renderTypeFun(m)}this.dataSourceObj.options.values||(this.dataSourceObj.options.values=new Array),$.each(t,function(t){l.dataSourceObj.options.values.splice(e+t,0,this)}),this.updateLastRowFlag()}},createContentOneRowFixed:function(t){return""},updateEditRowIndex:function(t,e,i){},deleteOneRow:function(t){var e=this;t=parseInt(t);var i=this.dataSourceObj.rows[t];if(i){var n=i.value;if("grid"==this.showType&&this.editClose(),this.dataSourceObj.rows.splice(t,1),this.updateEditRowIndex("-",t),this.selectRows&&$.each(this.selectRows,function(i){this==n?(e.selectRows.splice(i,1),e.selectRowsObj.splice(i,1),e.selectRowsIndex.splice(i,1)):e.selectRowsIndex[i]>t&&(e.selectRowsIndex[i]=e.selectRowsIndex[i]-1)}),this.focusRow&&(this.focusRow==n?(this.focusRow=null,this.focusRowObj=null,this.focusRowIndex=null):this.focusRowIndex>t&&(this.focusRowIndex=this.focusRowIndex-1)),"grid"==this.showType&&($("#"+this.options.id+"_content_div tbody tr:eq("+t+")").remove(),$("#"+this.options.id+"_content_fixed_div tbody tr:eq("+t+")").remove(),$("#"+this.options.id+"_content_multiSelect >div:eq("+t+")").remove(),$("#"+this.options.id+"_content_numCol >.u-grid-content-num:eq("+t+")").remove(),this.resetNumCol(),this.repairSumRow(),this.noRowsShowFun(),this.updateNumColLastRowFlag()),this.dataSourceObj.options.values){var s=this.dataSourceObj.options.values.indexOf(n);this.dataSourceObj.options.values.splice(s,1)}if(this.deleteOneRowTree(),"function"==typeof this.options.onRowDelete){var o={};if(o.gridObj=this,o.index=t,!this.options.onRowDelete(t))return}}},repairSumRow:function(){},deleteOneRowTree:function(){},deleteRows:function(t){var e=this,i=new Array;$.each(t,function(e){i.push(t[e])}),i.sort(function(t,e){return e-t}),$.each(i,function(t){e.deleteOneRow(this)})},updateRow:function(t,e){if(this.dataSourceObj.rows[t].value=e,this.dataSourceObj.options.values[this.dataSourceObj.rows[t].valueIndex]=e,"grid"==this.showType){var i={};i.begin=t,i.length=1,this.renderTypeFun(i),this.repairSumRow()}},updateValueAt:function(t,e,i,n){var s=$(this.dataSourceObj.rows[t].value).attr(e),o=t;if(s!=i||n){if($(this.dataSourceObj.rows[t].value).attr(e,i),$(this.dataSourceObj.options.values[this.dataSourceObj.rows[t].valueIndex]).attr(e,i),"grid"==this.showType){var a={};a.field=e,a.begin=t,a.length=1,this.renderTypeFun(a),o=this.updateValueAtTree(t,e,i,n),this.updateValueAtEdit(t,e,i,n),this.repairSumRow()}if("function"==typeof this.options.onValueChange){var a={};a.gridObj=this,a.rowIndex=o,a.field=e,a.oldValue=s,a.newValue=i,this.options.onValueChange(a)}}},updateValueAtTree:function(t,e,i,n){return t},updateValueAtEdit:function(t,e,i,n){},setRowSelect:function(t,e){var i,n,s,o;if(!this.dataSourceObj.rows[t])return!0;if(this.dataSourceObj.rows[t].checked)return!0;if(i=e&&e.multiSelectDivs?e.multiSelectDivs[t]:this.$ele.find("#"+this.options.id+"_content_multiSelect").children()[t],"function"==typeof this.options.onBeforeRowSelected){var a={};if(a.gridObj=this,a.rowObj=this.dataSourceObj.rows[t],a.rowIndex=t,!this.options.onBeforeRowSelected(a)){if(this.options.multiSelect){var r=i.children[0];r.checked=!1}return!1}}if(this.options.multiSelect){if("grid"==this.showType){var r=i.children[0];$(r).addClass("is-checked")}}else this.selectRowsObj&&this.selectRowsObj.length>0&&$.each(this.selectRowsObj,function(){this.checked=!1}),this.selectRows=new Array,this.selectRowsObj=new Array,this.selectRowsIndex=new Array,"grid"==this.showType&&($("#"+this.options.id+"_content_tbody tr").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr a").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr a").removeClass("u-grid-content-sel-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect div").removeClass("u-grid-content-sel-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol div").removeClass("u-grid-content-sel-row"));if("grid"==this.showType){n=e&&e.contentTrs?e.contentTrs[t]:this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]')[t],$(n).addClass("u-grid-content-sel-row"),s=e&&e.fixContentTrs?e.fixContentTrs[t]:this.$ele.find("#"+this.options.id+'_content_fixed_tbody tr[role="row"]')[t],$(s).addClass("u-grid-content-sel-row");var l=t;this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&l++,this.options.multiSelect&&(l!=t&&(i=this.$ele.find("#"+this.options.id+"_content_multiSelect").children()[l]),$(i).addClass("u-grid-content-sel-row")),this.options.showNumCol&&(o=e&&e.numColDivs?e.numColDivs[l]:this.$ele.find("#"+this.options.id+"_content_numCol").children()[l],$(o).addClass("u-grid-content-sel-row"))}if(this.selectRows.push(this.dataSourceObj.rows[t].value),this.selectRowsObj.push(this.dataSourceObj.rows[t]),this.selectRowsIndex.push(t),this.dataSourceObj.rows[t].checked=!0,"function"==typeof this.options.onRowSelected){var a={};a.gridObj=this,a.rowObj=this.dataSourceObj.rows[t],a.rowIndex=t,this.options.onRowSelected(a)}return!0},setRowUnselect:function(t){var e=this;if(!this.dataSourceObj.rows[t])return!0;if(!this.dataSourceObj.rows[t].checked)return!0;if("function"==typeof this.options.onBeforeRowUnSelected){var i={};if(i.gridObj=this,i.rowObj=this.dataSourceObj.rows[t],i.rowIndex=t,!this.options.onBeforeRowUnSelected(i))return this.options.multiSelect&&($("#"+this.options.id+"_content_multiSelect input:eq("+t+")")[0].checked=!0),!1}this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect .u-grid-checkbox-outline:eq("+t+")").removeClass("is-checked");var n=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&n++,$("#"+this.options.id+"_content_tbody tr:eq("+n+")").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr:eq("+n+") a").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+n+")").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+n+") a").removeClass("u-grid-content-sel-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+n+")").removeClass("u-grid-content-sel-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+n+")").removeClass("u-grid-content-sel-row"),$.each(this.selectRows,function(i){this==e.dataSourceObj.rows[t].value&&(e.selectRows.splice(i,1),e.selectRowsObj.splice(i,1),e.selectRowsIndex.splice(i,1))}),this.dataSourceObj.rows[t].checked=!1,"function"==typeof this.options.onRowUnSelected){var i={};i.gridObj=this,i.rowObj=this.dataSourceObj.rows[t],i.rowIndex=t,this.options.onRowUnSelected(i)}return!0},setAllRowSelect:function(){if($("#"+this.options.id+"_header_multi_input").addClass("is-checked"),"function"==typeof this.options.onBeforeAllRowSelected){var t={};if(t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,!this.options.onBeforeAllRowSelected(t))return}var e=this.$ele.find("#"+this.options.id+"_content_multiSelect").children(),i=this.$ele.find("#"+this.options.id+"_content_numCol").children(),n=this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]'),s=this.$ele.find("#"+this.options.id+'_content_fixed_tbody tr[role="row"]');this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]');for(var o=0;o<this.dataSourceObj.rows.length;o++)this.setRowSelect(o,{multiSelectDivs:e,numColDivs:i,contentTrs:n,fixContentTrs:s});if("function"==typeof this.options.onAllRowSelected){var t={};t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,this.options.onAllRowSelected(t)}},setAllRowUnSelect:function(){if($("#"+this.options.id+"_header_multi_input").removeClass("is-checked"),"function"==typeof this.options.onBeforeAllRowUnSelected){var t={};if(t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,!this.options.onBeforeAllRowUnSelected(t))return}for(var e=0;e<this.dataSourceObj.rows.length;e++)this.setRowUnselect(e);if("function"==typeof this.options.onAllRowUnSelected){var t={};t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,this.options.onAllRowUnSelected(t)}},getSelectRows:function(){return this.selectRows},getSelectRowsIndex:function(){return this.selectRowsIndex},setRowFocus:function(t){if(this.dataSourceObj.rows[t].focus)return!0;if(!this.dataSourceObj.rows[t])return!0;if("function"==typeof this.options.onBeforeRowFocus){var e={};if(e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,!this.options.onBeforeRowFocus(e))return!1}$("#"+this.options.id+"_content_tbody tr").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_tbody tr a").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr a").removeClass("u-grid-content-focus-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect").find("div").removeClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol").find("div").removeClass("u-grid-content-focus-row"),this.focusRowObj&&(this.focusRowObj.focus=!1),$("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+t+")").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+t+") a").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_fixed_tbody tr[role="row"]:eq('+t+")").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_fixed_tbody tr[role="row"]:eq('+t+") a").addClass("u-grid-content-focus-row");var i=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&i++,this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+i+")").addClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+i+")").addClass("u-grid-content-focus-row"),this.focusRow=this.dataSourceObj.rows[t].value,this.focusRowObj=this.dataSourceObj.rows[t],this.focusRowIndex=t,this.dataSourceObj.rows[t].focus=!0,"function"==typeof this.options.onRowFocus){var e={};e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,this.options.onRowFocus(e)}return this.options.multiSelect||this.setRowSelect(t),!0},setRowUnFocus:function(t){if(!this.dataSourceObj.rows[t])return!0;if("function"==typeof this.options.onBeforeRowUnFocus){var e={};if(e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,!this.options.onBeforeRowUnFocus(e))return!1}if(!this.dataSourceObj.rows[t].focus)return!0;var i=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&i++,$("#"+this.options.id+"_content_tbody tr:eq("+i+")").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_tbody tr:eq("+i+") a").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+i+")").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+i+") a").removeClass("u-grid-content-focus-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+i+")").removeClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+i+")").removeClass("u-grid-content-focus-row"),this.dataSourceObj.rows[t].focus=!1,this.focusRow=null,this.focusRowObj=null,this.focusRowIndex=null,"function"==typeof this.options.onRowUnFocus){var e={};e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,this.options.onRowUnFocus(e)}return this.options.multiSelect||this.setRowUnselect(t),!0},resetNumCol:function(){var t=$("#"+this.options.id+"_content_numCol >.u-grid-content-num");$.each(t,function(t){this.innerHTML=t+1+""})},getFocusRow:function(){return this.focusRow},getFocusRowIndex:function(){return this.focusRowIndex},getAllRows:function(){var t=this;return this.allRows=new Array,this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(){t.allRows.push(this.value)}),this.allRows},getRowByIndex:function(t){return this.dataSourceObj.rows[t]},getRowIndexByValue:function(t,e){var i=-1;return $.each(this.dataSourceObj.rows,function(n){var s=$(this.value).attr(t);s==e&&(i=n)}),i},setRenderType:function(t,e){var i=this.getColumnByField(t);i.options.renderType=e;var n=this.getIndexOfColumn(i);this.renderTypeByColumn(i,n)},setShowHeader:function(t){this.options.showHeader=t,t?$("#"+this.options.id+"_header").css("display","block"):$("#"+this.options.id+"_header").css("display","none")},setColumnPrecision:function(t,e){var i=this.getColumnByField(t);i.options.precision=e,this.renderTypeFun(),this.options.showSumRow&&this.repairSumRow()},setMultiSelect:function(t){var e=this.options.multiSelect;e!=t&&(this.options.multiSelect=t,this.initGrid())},setShowNumCol:function(t){var e=this.options.showNumCol;e!=t&&(this.options.showNumCol=t,this.initGrid())},isGridShow:function(){return"grid"==this.showType},getBoolean:function(t){return"true"===t||t===!0}},gridCompColumn.prototype={init:function(options,gridComp){this.gridComp=gridComp;var gridOptions=gridComp.options;this.defaults={width:200,sortable:!0,canDrag:!0,fixed:!1,visible:!0,canVisible:!0,sumCol:!1,editable:!0,editFormShow:!0,autoExpand:!1,editType:"text",dataType:"String",format:"YYYY-MM-DD hh:mm:ss",headerLevel:1,hiddenLevel:1};var gridDefault={sortable:gridOptions.sortable,canDrag:gridOptions.canDrag,width:gridOptions.columnWidth};"Date"==options.dataType&&(this.defaults.format="YYYY-MM-DD"),options=this.initTree(options,gridOptions),this.options=$.extend({},this.defaults,gridDefault,options),this.getBooleanOptions();try{"string"==typeof this.options.renderType&&(this.options.renderType=eval(this.options.renderType))}catch(e){}try{"string"==typeof this.options.editType&&(this.options.editType=eval(this.options.editType))}catch(e){}this.options.width=parseInt(this.options.width),this.firstColumn=!1},initTree:function(t){return t},getBooleanOptions:function(){this.options.sortable=this.gridComp.getBoolean(this.options.sortable),this.options.canDrag=this.gridComp.getBoolean(this.options.canDrag),this.options.fixed=this.gridComp.getBoolean(this.options.fixed),this.options.visible=this.gridComp.getBoolean(this.options.visible),this.options.canVisible=this.gridComp.getBoolean(this.options.canVisible),this.options.sumCol=this.gridComp.getBoolean(this.options.sumCol),this.options.editable=this.gridComp.getBoolean(this.options.editable),this.options.editFormShow=this.gridComp.getBoolean(this.options.editFormShow),this.options.autoExpand=this.gridComp.getBoolean(this.options.autoExpand)}},dataSource.prototype={init:function(t,e){this.defaults={},this.gridComp=e,this.options=$.extend({},this.defaults,t),this.rows=new Array,this.hasParentRows=new Array,this.nothasParentRows=new Array},sortRows:function(t,e){this.gridComp.options.showTree?this.treeSortRows(t,e):this.basicSortRows(t,e),this.gridComp.eidtRowIndex=-1},basicSortRows:function(t,e){var i=this,n="";t&&(n=this.gridComp.getColumnByField(t).options.dataType),this.rows=new Array,this.options.values&&$.each(this.options.values,function(t){var e={};e.value=this,e.valueIndex=t,i.rows.push(e)})},treeSortRows:function(t,e){this.basicSortRows(t,e)},getSumValue:function(t,e,i){var n=null;if(e.options.sumCol&&$.each(this.rows,function(s){var o=$(this.value).attr(t);"Int"==e.options.dataType?(o=i.getInt(o,0),n+=parseInt(o)):(o=i.getFloat(o,0),n=i.accAdd(n,parseFloat(o)))}),"Float"==e.options.dataType&&e.options.precision){var s={};s.value=n,s.precision=e.options.precision,n=i.DicimalFormater(s)}return null!=n&&n!=undefined&&"null"!=n&&"undefined"!=n?n+"":""}};var old=$.fn.grid;$.fn.grid=function(t){var e=$(this).data("gridComp");return e||$(this).data("gridComp",e=new gridComp(this,t)),e},$.fn.grid.gridComp=gridComp,$.fn.grid.gridCompColumn=gridCompColumn,$.fn.grid.dataSource=dataSource,$.fn.grid.noConflict=function(){return $.fn.grid=old,this}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype,a=o.initGridCompColumn,r=o.initEventFun,l=o.initGridEventFun;o.initGridCompColumnColumnMenuFun=function(t){var e=new this.gridCompColumn(t,this);e.options.realWidth=e.options.width,this.basicGridCompColumnArr.push(e)},o.initGridCompColumn=function(){a.apply(this,arguments),this.menuColumnsHeight=this.gridCompColumnArr.length*this.columnMenuHeight},o.createColumnMenu=function(){var e=this,i='<div class="u-grid-column-menu" id="'+this.options.id+'_column_menu">';return i+='<ul data-role="menu" role="menubar" class="u-grid-column-menu-ul" id="'+this.options.id+'_column_menu_ul">',i+='<li class="u-grid-column-menu-li" role="menuitem">',i+='<div class="u-grid-column-menu-div1" id="'+this.options.id+'_clearSet">',i+='<span class="u-grid-column-menu-span">'+this.transMap.ml_clear_set+"</span>",i+="</div></li>",i+='<div class="u-grid-column-menu-columns" id="'+this.options.id+'_column_menu_columns">',i+='<ul data-role="menu" role="menubar" class="u-grid-column-menu-columns-ul" id="'+this.options.id+'_column_menu_columns_ul">',t.each(this.gridCompColumnArr,function(t){if(""!=e.getString(this.options.title,"")){i+='<li class="u-grid-column-menu-columns-li" role="menuitem" index="'+t+'">',i+='<div class="u-grid-column-menu-columns-div1">';var n="";this.options.visible&&(n=" checked"),this.options.canVisible||(n+=' style="display:none;"'),i+='<div class="u-grid-column-menu-columns-div2"><input type="checkbox" '+n+"></div>",i+='<span class="u-grid-column-menu-columns-span">'+this.options.title+"</span>",i+="</div></li>"}}),i+="</ul></div>",i+="</ul></div>"},o.initEventFun=function(){r.apply(this,arguments);var n=this;t("#"+this.options.id).on("mouseup",function(i){if(t(i.target).closest("#"+n.options.id+"_header").length>0){if(n.mouseUpX=i.clientX,n.mouseUpY=i.clientY,n.mouseDownX==n.mouseUpX&&n.mouseDownY==n.mouseUpY){n.columnClickX=i.clientX,n.columnClickY=i.clientY;t(i.target).closest("th")[0];if(t(i.target).hasClass("u-grid-header-columnmenu")){t("#"+n.options.id+"_column_menu").css("display","block"),t("#"+n.options.id+"_column_menu").css("right",0),t("#"+n.options.id+"_column_menu").css("top",n.headerHeight);var s=(t(e).width(),t(e).height()),o=(n.headerHeight,i.clientY,n.menuColumnsHeight);n.menuColumnsHeight+74>s?(o=s-74,t("#"+n.options.id+"_column_menu_columns").css("height",o+"px")):t("#"+n.options.id+"_column_menu_columns").css("height",""),n.ele.createColumnMenuFlag=!0}}}else t(i.target).closest("#"+n.options.id+"_content").length>0}),t(i).on("click",function(){0==n.columnMenuMove&&0==n.ele.createColumnMenuFlag&&t("#"+n.options.id+"_column_menu",n.$ele).css("display","none"),n.ele.createColumnMenuFlag=!1})},o.initGridEventFun=function(){l.apply(this,arguments);var e=this;t("#"+this.options.id+"_column_menu_ul").on("mousemove",function(t){e.columnMenuMove=!0}),t("#"+this.options.id+"_column_menu_ul").on("mouseout",function(t){e.columnMenuMove=!1}),t("#"+this.options.id+"_clearSet").on("click",function(t){e.clearLocalData(),e.initGridCompColumn(),e.dataSourceObj.sortRows(),e.repaintGridDivs(),"function"==typeof e.options.onClearSetFun&&e.options.onClearSetFun(e)}),t("#"+this.options.id+"_column_menu_columns_ul li input").on("click",function(n){var s=t(this).closest("li").attr("index");if(e.gridCompColumnArr[s].options.visible){t(this)[0].checked=!1;var o=t("input:checked",t("#"+e.options.id+"_column_menu_columns_ul")).length;if(0==o)return void(t(this)[0].checked=!0);if(8==i.documentMode){var a=t("#"+e.options.id+"_column_menu_columns")[0].scrollTop,r=t("#"+e.options.id+"_column_menu_columns")[0].style.top;e.gridCompColumnArr[s].options.visible=!1,e.repaintGridDivs(),t("#"+e.options.id+"_column_menu").css("display","block"),t("#"+e.options.id+"_column_menu").css("right","0px"),t("#"+e.options.id+"_column_menu").css("top",r),t("#"+e.options.id+"_column_menu_columns")[0].scrollTop=a}else e.setColumnVisibleByIndex(s,!1),e.gridCompColumnArr[s].options.visible=!1}else if(t(this)[0].checked=!0,8==i.documentMode){var a=t("#"+e.options.id+"_column_menu_columns")[0].scrollTop,r=t("#"+e.options.id+"_column_menu_columns")[0].style.top;e.gridCompColumnArr[s].options.visible=!0,e.repaintGridDivs(),t("#"+e.options.id+"_column_menu").css("display","block"),t("#"+e.options.id+"_column_menu").css("right","0px"),t("#"+e.options.id+"_column_menu").css("top",r),t("#"+e.options.id+"_column_menu_columns")[0].scrollTop=a}else e.setColumnVisibleByIndex(s,!0),e.gridCompColumnArr[s].options.visible=!0;e.saveGridCompColumnArrToLocal(),n.stopPropagation()}),t("#"+this.options.id+"_column_menu_columns_ul li").on("click",function(i){var n=t(this).attr("index"),s=e.gridCompColumnArr[n];if(!s.options.canVisible)return!1;if(s.options.visible){t("input",t(this))[0].checked=!1;var o=t("input:checked",t("#"+e.options.id+"_column_menu_columns_ul")).length;if(0==o)return void(t("input",t(this))[0].checked=!0);e.setColumnVisibleByIndex(n,!1),e.gridCompColumnArr[n].options.visible=!1}else t("input",t(this))[0].checked=!0,e.setColumnVisibleByIndex(n,!0),e.gridCompColumnArr[n].options.visible=!0;e.saveGridCompColumnArrToLocal()})},"undefined"==typeof o.saveGridCompColumnArrToLocal&&(o.saveGridCompColumnArrToLocal=function(){}),"undefined"==typeof o.clearLocalData&&(o.clearLocalData=function(){})}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype,a=o.initEventFun,r=o.initGridEventFun;o.createHeaderDrag=function(){return'<div class="u-grid-header-resize-handle" id="'+this.options.id+'_resize_handle"><div class="u-grid-header-resize-handle-inner"></div></div>'},o.initEventFun=function(){a.apply(this,arguments);var e=this;t("#"+this.options.id).on("mousemove",function(i){if(t(i.target).closest("#"+e.options.id+"_header").length>0){var n=t(i.target).closest("th")[0];e.headerThDrag(i,n)}e.dragFun(i),i.stopPropagation()}),t("#"+this.options.id+"_top").on("mousemove",function(t){e.dragFun(t),t.stopPropagation()}),t("#"+this.options.id).on("mouseup",function(t){e.dragEnd(t)}),t("#"+this.options.id+"_top").on("mouseup",function(t){e.dragEnd(t)})},o.initGridEventFun=function(){r.apply(this,arguments);var e=this;t("#"+this.options.id+"_resize_handle").on("mousedown",function(t){return e.dragStart(t),!1})},o.dragStart=function(t){this.dragFlag=!0,this.dragW=null,this.dragStartX=t.clientX},o.dragFun=function(e){if(this.dragFlag){var i=t("#"+this.options.id+"_resize_handle")[0].nowTh,n=t(i),s=n.attr("index"),o=this.gridCompColumnArr[s];if(nowVisibleThIndex=this.getVisibleIndexOfColumn(o),i&&o!=this.lastVisibleColumn){this.dragEndX=e.clientX;var a=this.dragEndX-this.dragStartX,r=i.attrWidth+a;cWidth=this.contentWidth+a,r>this.minColumnWidth&&(this.dragW=this.contentWidthChange(cWidth),t("#"+this.options.id+"_header_table col:eq("+nowVisibleThIndex+")").css("width",r+"px"),t("#"+this.options.id+"_content_table col:eq("+nowVisibleThIndex+")").css("width",r+"px"),o.options.width=r)}t("#"+this.options.id+"_top").css("display","block")}},o.dragEnd=function(e){this.dragFlag&&(this.resetThVariable(),this.saveGridCompColumnArrToLocal()),this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth,this.dragW&&(this.contentWidth=this.dragW),t("#"+this.options.id+"_resize_handle")[0].nowTh=null,this.dragFlag=!1,t("#"+this.options.id+"_top").css("display","none")},"undefined"==typeof o.saveGridCompColumnArrToLocal&&(o.saveGridCompColumnArrToLocal=function(){}),o.headerThDrag=function(e,i){if(!this.dragFlag&&!this.swapColumnFlag&&i&&i.gridCompColumn&&i.gridCompColumn.options.canDrag&&t("#"+this.options.id+"_resize_handle")[0].nowTh!=i){t(i);t("#"+this.options.id+"_resize_handle").css("left",i.attrRightTotalWidth-this.scrollLeft-4+this.leftW+this.fixedWidth),t("#"+this.options.id+"_resize_handle")[0].nowTh=i}},o.resetThVariableDrag=function(e,i,n){!t("#"+this.options.id+"_resize_handle")[0].nowTh&&i.options.canDrag&&(t("#"+this.options.id+"_resize_handle").css("left",n-4+this.leftW),t("#"+this.options.id+"_resize_handle")[0].nowTh=e)}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype,a=o.initEventFun,r=t.fn.grid.dataSource;r.prototype;o.hideEditMenu=function(){t("#"+this.options.id+"_content_edit_menu").css("display","none")},o.clickFunEdit=function(e,i){var n=t(e.target).closest("tr"),s=t(e.target).closest("td"),o=s.index();if(this.options.editable&&(this.eidtRowIndex!=i||"default"==this.options.editType&&this.editColIndex!=o)){if("function"==typeof this.options.onBeforeEditFun){var a={};if(a.gridObj=this,a.rowObj=this.dataSourceObj.rows[i],a.rowIndex=i,a.colIndex=o,a.e=e,!this.options.onBeforeEditFun(a))return}this.editRowFun(n,o)}},o.editRowFun=function(t,e){-1!=this.eidtRowIndex&&this.editClose();var i="number"==typeof t?t:this.getTrIndex(t);this.eidtRowIndex=i,this.editColIndex=e,this.editRow(t,e)},o.editRowIndexFun=function(t){-1!=this.eidtRowIndex&&this.editClose(),this.eidtRowIndex=t,this.editColIndex=0,this.editRow()},o.editRow=function(e,i){if(!(0>i)){var n=this,s=!1;e&&e.parents("table").attr("id").indexOf("_fixed_")>-1&&(s=!0),e=e||t("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+this.eidtRowIndex+")"),i=i||0;var o=this.dataSourceObj.rows[this.eidtRowIndex].value;if(this.editRowObj=this.cloneObj(o),"default"==this.options.editType){var a=s?this.gridCompColumnFixedArr[i]:this.gridCompColumnArr[i];if(a.options.editable){var r=t("td:eq("+i+")",e)[0],l=a.options.field,u=t(o).attr(l);u=n.getString(u,"");var d={};d.td=r,d.value=u,d.field=l,d.editType=a.options.editType,d.rowObj=n.editRowObj,d.$tr=e,d.colIndex=i,n.editCell(d)}t("#"+this.options.id+"_content_edit_menu").css("display","block"),t("#"+this.options.id+"_content_edit_menu_cancel").css("marginLeft","10px");var c=t("tr:visible",e.parent()).index(e);this.rowHeight=e.height();this.rowHeight*(c+1)+this.headerHeight+1}else if("form"==this.options.editType)if("function"==typeof this.options.formEditRenderFun){if(this.fixedWidth>0)var h=t("#"+this.options.id+"_content_fixed_table")[0];else var h=t("#"+this.options.id+"_content_table")[0];var p=h.insertRow(this.eidtRowIndex+2);p.id=this.options.id+"_edit_tr";var f=p.insertCell();f.id=this.options.id+"_edit_td",f.style.borderBottom="0px";var m=parseInt(this.contentMinWidth)+parseInt(this.fixedWidth),v='<div id="'+this.options.id+'_edit_form" class="u-grid-edit-form" style="width:'+m+'px;float:left;">';v+="</div>",f.innerHTML=v;var d={};d.grid=gridObj,d.element=t("#"+this.options.id+"_edit_form")[0],d.editRowObj=this.editRowObj,this.options.formEditRenderFun.call(this,d);var v='<div style="position:relative;float:left;width:100%;height:40px;"></div>';t("#"+this.options.id+"_edit_form")[0].insertAdjacentHTML("beforeEnd",v);var g=t("#"+this.options.id+"_edit_td")[0].offsetHeight,_=t("#"+this.options.id+"_edit_form").css("background-color");if(this.options.multiSelect){var C=t("#"+this.options.id+"_content_multiSelect > div").eq(this.eidtRowIndex),v='<div class="grid_open_edit" id="'+this.options.id+'_multiSelect_edit" style="background-color:'+_+";float:left;position:relative;width:"+this.multiSelectWidth+"px;height:"+g+'px"></div>';C[0].insertAdjacentHTML("afterEnd",v)}if(this.options.showNumCol){var C=t("#"+this.options.id+"_content_numCol > .u-grid-content-num").eq(this.eidtRowIndex),v='<div id="'+this.options.id+'_numCol_edit" style="background-color:'+_+";float:left;position:relative;width:"+this.numWidth+'px;"></div>';C[0].insertAdjacentHTML("afterEnd",v)}if(t("#"+this.options.id+"_content_edit_menu").css("display","block"),this.fixedWidth>0){var y=t("#"+this.options.id+"_content_table")[0],b=y.insertRow(this.eidtRowIndex+2);b.id=this.options.id+"_edit_tr1"}}else{if(this.fixedWidth>0)var h=t("#"+this.options.id+"_content_fixed_table")[0];else var h=t("#"+this.options.id+"_content_table")[0];var p=h.insertRow(this.eidtRowIndex+2);p.id=this.options.id+"_edit_tr";var f=p.insertCell();f.id=this.options.id+"_edit_td",f.style.borderBottom="0px";var m=parseInt(this.contentMinWidth)+parseInt(this.fixedWidth),v='<div id="'+this.options.id+'_edit_form" class="u-grid-edit-form" style="width:'+m+'px;float:left;">';if(t.each(this.gridCompColumnFixedArr,function(e){var i=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&n.options.noneEditableFormShow)&&(i=!0),i){var s=this.options.field,a=t(o).attr(s);a=n.getString(a,"");var r=this.options.title,l=this.options.headerColor;v+=n.formEditCell(a,s,r,this.options.required,l)}}),t.each(this.gridCompColumnArr,function(e){var i=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&n.options.noneEditableFormShow)&&(i=!0),i){var s=this.options.field,a=t(o).attr(s);a=n.getString(a,"");var r=this.options.title,l=this.options.headerColor;v+=n.formEditCell(a,s,r,this.options.required,l)}}),v+="</div>",f.innerHTML=v,t.each(this.gridCompColumnFixedArr,function(s){var a=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&n.options.noneEditableFormShow)&&(a=!0),a){var r=this.options.field,l=t("#"+n.options.id+"_edit_"+r)[0],u=t(o).attr(r);this.options.title;u=n.getString(u,"");var d={};d.td=l,l.innerHTML='<div class="u-grid-content-td-div" title=""></div>',d.value=u,d.field=r,d.editType=this.options.editType,d.rowObj=n.editRowObj,d.$tr=e,d.colIndex=i,v+=n.editCell(d)}}),t.each(this.gridCompColumnArr,function(s){var a=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&n.options.noneEditableFormShow)&&(a=!0),a){var r=this.options.field,l=t("#"+n.options.id+"_edit_"+r)[0],u=t(o).attr(r);this.options.title;u=n.getString(u,"");var d={};d.td=l,l.innerHTML='<div class="u-grid-content-td-div" title=""></div>',d.value=u,d.field=r,d.editType=this.options.editType,d.rowObj=n.editRowObj,d.$tr=e,d.colIndex=i,v+=n.editCell(d)}}),"function"==typeof this.options.renderEditMemu)this.options.renderEditMemu.apply(this,[t("#"+this.options.id+"_edit_form")[0],this.eidtRowIndex,this.dataSourceObj.rows.length]);else{var v='<div id="'+this.options.id+'_content_edit_menu" style="position:relative;float:left;width:100%;height:40px;"><button type="button" class="u-grid-content-edit-menu-button u-grid-content-edit-menu-button-ok" id="'+this.options.id+'_content_edit_menu_close">'+this.transMap.ml_close+"</button></div>";t("#"+this.options.id+"_edit_form")[0].insertAdjacentHTML("beforeEnd",v),t("#"+this.options.id+"_content_edit_menu_close").on("click",function(t){n.editClose()})}var g=t("#"+this.options.id+"_edit_td")[0].offsetHeight,_=t("#"+this.options.id+"_edit_form").css("background-color");if(this.options.multiSelect){var C=t("#"+this.options.id+"_content_multiSelect > div").eq(this.eidtRowIndex),v='<div class="grid_open_edit " id="'+this.options.id+'_multiSelect_edit" style="background-color:'+_+";float:left;position:relative;width:"+this.multiSelectWidth+"px;height:"+g+'px"></div>';C[0].insertAdjacentHTML("afterEnd",v)}if(this.options.showNumCol){var C=t("#"+this.options.id+"_content_numCol > .u-grid-content-num").eq(this.eidtRowIndex),v='<div id="'+this.options.id+'_numCol_edit" style="background-color:'+_+";float:left;position:relative;width:"+this.numWidth+'px;"></div>';
C[0].insertAdjacentHTML("afterEnd",v)}if(t("#"+this.options.id+"_content_edit_menu").css("display","block"),this.fixedWidth>0){var y=t("#"+this.options.id+"_content_table")[0],b=y.insertRow(this.eidtRowIndex+2);b.id=this.options.id+"_edit_tr1"}}}},o.editClose=function(){var e=this.dataSourceObj.rows[this.eidtRowIndex];if(e){if("form"!=this.options.editType){var i={};i.begin=this.eidtRowIndex,i.length=1,this.renderTypeFun(i)}t("#"+this.options.id+"_content_edit_menu").css("display","none"),this.repairSumRow(),this.noRowsShowFun(),this.updateLastRowFlag(),this.eidtRowIndex=-1,t("#"+this.options.id+"_multiSelect_edit").remove(null,!0),t("#"+this.options.id+"_numCol_edit").remove(null,!0),t("#"+this.options.id+"_edit_tr").remove(null,!0),t("#"+this.options.id+"_edit_tr1").remove(null,!0)}},o.editCell=function(e){var i=e.td,n=e.value,s=e.field,o=e.editType,a=e.rowObj,r=e.$tr,l=e.colIndex,u=this,e={};if(e.td=i,e.field=s,e.$tr=r,e.colIndex=l,u.newEditObj=e,"text"==o)"default"==this.options.editType?i.innerHTML='<input id="'+this.options.id+"_edit_field_"+s+'" type="text" value="'+n+'" field="'+s+'" style="width:100%;margin:0px;min-height:20px;font-size:12px;color:#444">':i.innerHTML='<input id="'+this.options.id+"_edit_field_"+s+'" type="text" value="'+n+'" field="'+s+'">',t("input",t(i)).on("blur",function(){u.editValueChange(s,this.value)});else if("function"==typeof o){var e={},d=t(".u-grid-content-td-div",t(i));e.gridObj=this,e.element=d[0],e.value=n,e.field=s,e.rowObj=a,o.call(this,e)}"default"==this.options.editType&&t("input:first",t(i)).focus()},o.nextEditShow=function(){var e=this.newEditObj,i=e.td,n=e.$tr,s=parseInt(e.colIndex)+1;if(0==t(i).next("td").length){var o=n.next("tr");if(!(o.length>0))return;n=o,s=0,n.click()}this.editRowFun(n,s)},o.editValueChange=function(t,e){this.updateValueAt(this.eidtRowIndex,t,e)},"undefined"==typeof o.formEditCell&&(o.formEditCell=function(){}),o.updateEditRowIndex=function(t,e,i){this.eidtRowIndex<0||("-"==t?e<this.eidtRowIndex?this.eidtRowIndex--:e==this.eidtRowIndex&&(this.eidtRowIndex=-1):"+"==t&&(i===n&&(i=1),e<=this.eidtRowIndex&&(this.eidtRowIndex+=i)))},o.updateValueAtEdit=function(e,i,n,s){this.eidtRowIndex==e&&t("#"+this.options.id+"_edit_field_"+i).length>0&&("checkbox"==t("#"+this.options.id+"_edit_field_"+i)[0].type?"Y"==n||"true"==n?t("#"+this.options.id+"_edit_field_"+i)[0].checked=!0:t("#"+this.options.id+"_edit_field_"+i)[0].checked=!1:t("#"+this.options.id+"_edit_field_"+i)[0].value=n)},o.setEditType=function(t,e){var i=this.getColumnByField(t);i.options.editType=e},o.setEditable=function(t){this.options.editable=t},o.initEventFun=function(){a.apply(this,arguments);var e=this;t(i).on("click",function(i){if(e.options.editable&&"default"==e.options.editType){var n=t(i.target),s=!0;s=t(i.target).closest(".u-grid-content-td-div").length>0?!1:s;var o=e.options.customEditPanelClass;if(o){var a=o.split(",");t.each(a,function(){s=n.closest("."+this).length>0?!1:s})}s&&e.editClose()}})},o.setGridEditType=function(t){this.options.editType=t},o.setGridEditTypeAndEditRow=function(e,i,n){this.options.editType=e;var s=t("#"+this.options.id+"_content_tbody"),o=t("tr:eq("+i+")",s);this.editRowFun(o,n)}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype,a=o.initDefault,r=o.setRequired;o.initDefault=function(){a.apply(this,arguments),this.defaults=t.extend(!0,{},this.defaults,{noneEditableFormShow:!0})},o.setRequired=function(e,i){r.apply(this,arguments);var n=this;t.each(this.gridCompColumnArr,function(s){this.options.field==e&&(this.options.required=i,i?t("#"+n.options.id+"_edit_"+this.options.field).parent().find(".u-grid-edit-mustFlag").show():t("#"+n.options.id+"_edit_"+this.options.field).parent().find(".u-grid-edit-mustFlag").hide())})},o.editorRowChangeFun=function(){if(t("#"+this.options.id+"_edit_form").length>0){var e=t("#"+this.options.id+"_edit_form")[0].offsetHeight;t("#"+this.options.id+"_numCol_edit").css("height",e),t("#"+this.options.id+"_multiSelect_edit").css("height",e)}},o.formEditCell=function(t,e,i,n,s){var o=i+"";o.lengthb()>28&&(o=o.substrCH(26)+"...");var a='<div class="u-grid-edit-whole-div"><div class="u-grid-edit-label"><div title="'+i+'" style="color:'+s+'">'+o+'<span style="color:red;'+(n?"":"display: none")+'" class="u-grid-edit-mustFlag">*</span></div></div>';return a+='<div id="'+this.options.id+"_edit_"+e+'" class="u-grid-edit-div"></div>',a+="</div>"}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype,a=o.columnsVisibleFun;o.initGridCompFixedColumn=function(){var e=this;t.each(this.gridCompColumnArr,function(t){1==this.options.fixed&&e.gridCompColumnFixedArr.push(this)}),t.each(this.gridCompColumnFixedArr,function(t){for(var t=e.gridCompColumnArr.length;t>-1;t--)if(e.gridCompColumnArr[t]==this){e.gridCompColumnArr.splice(t,1);break}})},o.columnsVisibleFun=function(){a.apply(this,arguments);var e=this,i=0;t.each(this.gridCompColumnFixedArr,function(){this.options.visible&&(i+=parseInt(this.options.width),this.firstColumn=e.firstColumn,e.firstColumn=!1)}),this.fixedRealWidth=i},o.createHeaderTableFixed=function(){return this.createHeaderTable("fixed")},o.createContentTableFixed=function(){return this.createContentTable("fixed")},o.createContentOneRowFixed=function(t){return this.createContentOneRow(t,"fixed")},o.widthChangeGridFunFixed=function(t){this.fixedRealWidth>t?this.fixedWidth=t:this.fixedWidth=this.fixedRealWidth}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype;o.createFromDivs=function(){if(!this.createFormFlag){var e='<div id="'+this.options.id+'_form" class="u-grid-form">';e+=this.createFromContent(),t("#"+this.options.id)[0].insertAdjacentHTML("afterBegin",e),this.createFormFlag=!0}},o.createFromContent=function(){var t='<div class="u-grid-form-content" id="'+this.options.id+'_form_content" class="u-grid-content">';return t+='<table role="grid" id="'+this.options.id+'_form_content_table">',t+=this.createFormContentRows(),t+="</table>"},o.createFormContentRows=function(){var e=this,i="";return this.dataSourceObj.rows&&(i+='<tbody role="rowgroup" id="'+this.options.id+'_form_content_tbody">',t.each(this.dataSourceObj.rows,function(){i+='<tr role="row"><td role="rowcell">';var n=this.value;t.each(e.gridCompColumnArr,function(){var e=this.options.field,s=this.options.title,o=t(n).attr(e);i+="<div>"+s+":</div>",i+="<div>"+o+"</div>"}),i+="</td></tr>"}),i+="</tbody>"),i},o.widthChangeFormFun=function(){this.createFromDivs(),t("#"+this.options.id+"_grid").css("display","none"),t("#"+this.options.id+"_form").css("display","block"),this.showType="form","function"==typeof this.options.afterCreate&&this.options.afterCreate.call(this)}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype;o.resetThVariableHeaderLevel=function(){var e=this,i="",n=0;t("#"+this.options.id+"_header_table th",this.$ele).each(function(s){var o=e.gridCompColumnArr[s],a=e.getString(o.options.parentHeader,""),r=0;if(o.options.visible&&(r=o.options.width),""!=i&&a!=i&&t("#"+e.options.id+i).css("width",n-1+"px"),""!=a){var l=e.getLevelTitleByField(a);if(a!=i&&(n=0,!e.parentFlag)){var u='<div id="'+e.options.id+a+'" class="u-gird-parent"><div class="u-grid-header-link" title="'+l+'">'+l+"</div></div>";this.insertAdjacentHTML("afterBegin",u)}n+=r}i=a}),""!=i&&t("#"+e.options.id+i).css("width",n-1+"px"),this.parentFlag=!0},o.initGridCompColumnHeaderLevelFun=function(t){if(t.headerLevel>1){this.gridCompLevelColumn.push(t);var e=this.gridCompColumnArr.length;this.gridCompColumnArr.length=e-1,this.basicGridCompColumnArr&&this.basicGridCompColumnArr.length>0&&(this.basicGridCompColumnArr.length=e-1)}},o.initGridHiddenLevelColumn=function(){if(this.options.overWidthHiddenColumn){this.gridCompHiddenLevelColumnArr=this.gridCompColumnArr.slice(0),this.gridCompHiddenLevelColumnArr.sort(function(t,e){var i=t.options.hiddenLevel,n=e.options.hiddenLevel;return i>n?-1:1})}},o.getLevelTitleByField=function(t){for(var e=0;e<this.gridCompLevelColumn.length;e++){var i=this.gridCompLevelColumn[e].field;if(i==t)return this.gridCompLevelColumn[e].title}return""}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype;o.initGridHiddenLevelColumn=function(){if(this.options.overWidthHiddenColumn){this.gridCompHiddenLevelColumnArr=this.gridCompColumnArr.slice(0),this.gridCompHiddenLevelColumnArr.sort(function(t,e){var i=t.options.hiddenLevel,n=e.options.hiddenLevel;return i>n?-1:1})}},o.widthChangeGridFunOverWidthHidden=function(){if(this.options.overWidthHiddenColumn){this.lastVisibleColumn.options.width=this.lastVisibleColumn.options.realWidth;var t=parseInt(this.wholeWidth)-parseInt(this.leftW),e=parseInt(this.fixedWidth)+parseInt(this.contentRealWidth);if(e>t){for(var i=0;i<this.gridCompHiddenLevelColumnArr.length;i++){var n=this.gridCompHiddenLevelColumnArr[i];if(n.options.visible&&(n.options.visible=!1,e-=n.options.width),!(e>t))break}this.columnsVisibleFun()}else{for(var i=this.gridCompHiddenLevelColumnArr.length-1;i>-1;i--){var n=this.gridCompHiddenLevelColumnArr[i];if(!n.options.visible){if(e+=n.options.width,e>t)break;n.options.visible=!0}}this.columnsVisibleFun()}}}}(jQuery,window,document),function($,window,document,undefined){var gridComp=$.fn.grid.gridComp,gridCompProto=gridComp.prototype,initEventFunFun=gridCompProto.initEventFun,initGridEventFunFun=gridCompProto.initGridEventFun,dataSource=$.fn.grid.dataSource,dataSourceProto=dataSource.prototype;gridCompProto.initEventFun=function(){initEventFunFun.apply(this,arguments);var t=this;$("#"+this.options.id).on("mouseup",function(e){if($(e.target).closest("#"+t.options.id+"_header").length>0){if(t.mouseUpX=e.clientX,t.mouseUpY=e.clientY,t.mouseDownX==t.mouseUpX&&t.mouseDownY==t.mouseUpY){t.columnClickX=e.clientX,t.columnClickY=e.clientY;var i=$(e.target).closest("th")[0];$(e.target).hasClass("u-grid-header-columnmenu")||t.canSortable(e,i)}}else $(e.target).closest("#"+t.options.id+"_content").length>0})},gridCompProto.initGridEventFun=function(){initGridEventFunFun.apply(this,arguments)},gridCompProto.canSortable=function(t,e){var i=this,n=$(e),s=n.attr("field"),o=this.getColumnAttr("sortable",s);if(o){if(t.ctrlKey){var a=[];$(".u-grid-header-sort-priority").each(function(t,e){var i,n=$(e),s=parseInt(n.text()),o=n.closest("th").attr("field");n.parent().hasClass("fa-caret-up")?i="asc":n.parent().hasClass("fa-caret-down")&&(i="desc"),a[s-1]={field:o,sortType:i}});var r;if((r=n.find(".fa-caret-up")).length>0){var l=parseInt(r.find(".u-grid-header-sort-priority").text());a[l-1].sortType="desc",r.removeClass("fa-caret-up").addClass("fa-caret-down")}else if((r=n.find(".fa-caret-down")).length>0){for(var l=parseInt(r.find(".u-grid-header-sort-priority").text()),u=l;u<a.length;u++){var d=$("[field="+a[u].field+"]").find(".u-grid-header-sort-priority");d.text(parseInt(d.text())-1)}a.splice(l-1,1),r.remove()}else a.push({field:s,sortType:"asc"}),n.first().first().append('<span class="fa fa-caret-up u-grid-header-sort-span" ></span>');this.dataSourceObj.sortRowsByPrio(a)}else $(".fa-caret-up").parent().parent().parent()[0]==e?($(".fa-caret-up").remove(),$(e.firstChild.firstChild)[0].insertAdjacentHTML("beforeEnd",'<span class="fa fa-caret-down u-grid-header-sort-span" ></span>'),"function"==typeof this.options.onSortFun?this.options.onSortFun(s,"asc"):this.dataSourceObj.sortRows(s,"asc")):$(".fa-caret-down").parent().parent().parent()[0]==e?($(".fa-caret-down").remove(),"function"==typeof this.options.onSortFun?this.options.onSortFun():this.dataSourceObj.sortRows()):($(".fa-caret-up").remove(),$(".fa-caret-down").remove(),$(e.firstChild.firstChild)[0].insertAdjacentHTML("beforeEnd",'<span class="fa fa-caret-up u-grid-header-sort-span"></span>'),"function"==typeof this.options.onSortFun?this.options.onSortFun(s,"desc"):this.dataSourceObj.sortRows(s,"desc"));i.repairContent(),i.afterGridDivsCreate()}},gridCompProto.deleteOneRowTree=function(){this.options.showTree&&this.dataSourceObj.sortRows()},gridCompProto.sortRowsByPrio=function(prioArray,cancelSort){var oThis=this;cancelSort&&(this.rows=new Array,this.options.values&&$.each(this.options.values,function(t){var e={};e.value=this,e.valueIndex=t,oThis.rows.push(e)}));var evalStr=function(t){return t==prioArray.length-1?"by(prioArray["+t+"].field, prioArray["+t+"].sortType)":"by(prioArray["+t+"].field, prioArray["+t+"].sortType,"+evalStr(t+1)+")"},by=function(t,e,i){arguments.callee;return function(n,s){var o=$(n.value).attr(t),a=$(s.value).attr(t),r=oThis.gridComp.getColumnByField(t).options.dataType;if("Float"==r)return o=parseFloat(o),a=parseFloat(a),isNaN(o)?1:isNaN(a)?-1:o==a&&i?i():"asc"==e?o-a:a-o;if("Int"==r)return o=parseInt(o),a=parseInt(a),isNaN(o)?1:isNaN(a)?-1:o==a&&i?i():"asc"==e?o-a:a-o;o=oThis.gridComp.getString(o,""),a=oThis.gridComp.getString(a,"");try{var l=o.localeCompare(a);return 0===l&&i?i():0===l?0:"asc"==e?l:-l}catch(u){return 0}}};this.rows.sort(eval(evalStr(0)))},dataSourceProto.basicSortRows=function(t,e){var i=this,n="";t&&(n=this.gridComp.getColumnByField(t).options.dataType),"asc"==e?this.rows.sort(function(e,s){var o=$(s.value).attr(t),a=$(e.value).attr(t);if("Float"==n)return o=parseFloat(o),a=parseFloat(a),isNaN(o)?1:isNaN(a)?-1:o-a;if("Int"==n)return o=parseInt(o),a=parseInt(a),isNaN(o)?1:isNaN(a)?-1:o-a;o=i.gridComp.getString(o,""),a=i.gridComp.getString(a,"");try{return o.localeCompare(a)}catch(r){return 0}}):"desc"==e?this.rows.sort(function(e,s){var o=$(e.value).attr(t),a=$(s.value).attr(t);if("Float"==n)return o=parseFloat(o),a=parseFloat(a),isNaN(o)?1:isNaN(a)?-1:o-a;if("Int"==n)return o=parseInt(o),a=parseInt(a),isNaN(o)?1:isNaN(a)?-1:o-a;o=i.gridComp.getString(o,""),a=i.gridComp.getString(a,"");try{return o.localeCompare(a)}catch(r){return 0}}):(this.rows=new Array,this.options.values&&$.each(this.options.values,function(t){var e={};e.value=this,e.valueIndex=t,i.rows.push(e)}))}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype;o.createContentRowsSumRow=function(t){var e="";return this.options.showSumRow&&this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0&&(e+=this.createSumRow(t)),e},o.createContentSumRow=function(t){var e="";return this.options.showSumRow&&(e+='<div class="u-grid-content-left-sum-bottom" id="'+this.options.id+'_content_left_sum_bottom" style="width:'+(this.leftW+this.fixedWidth)+"px;"+t+'">',e+="</div>"),e},o.createSumRow=function(e){if(this.options.showSumRow){var i,n,s=this;"fixed"==e?(i="fixed_",n=this.gridCompColumnFixedArr):(i="",n=this.gridCompColumnArr);var o=parseInt(this.wholeHeight)-this.exceptContentHeight-48-this.scrollBarHeight;o=o>0?o:0;var a='<tr role="row" class="u-grid-content-sum-row" id="'+this.options.id+"_content_"+i+'sum_row" style="top:'+o+'px;">';return t.each(n,function(){var t=this.options.field,e=this.options.precision,i=this.options.dataType,n=s.dataSourceObj.getSumValue(t,this,s);if("float"==i){var o={};o.value=n,o.precision=e?e:2,n=s.DicimalFormater(o)}var r="";this.options.visible||(r='style="display:none;"'),a+='<td role="rowcell" title="'+n+'" '+r+">",this.firstColumn&&(a+='<div class="u-gird-centent-sum-div"><span>'+s.transMap.ml_sum+"</span></div>");var l="";"integer"!=this.options.dataType&&"float"!=this.options.dataType||(l='style="text-align: right;"'),a+='<div class="u-grid-content-td-div" '+l+'><span value="'+n+'">'+n+"</span></div></td>"}),a+="</tr>"}},o.createSumRowForIE=function(e,i){if(this.options.showSumRow){var n,s,o=this;"fixed"==i?(n="fixed_",s=this.gridCompColumnFixedArr):(n="",s=this.gridCompColumnArr);var a=parseInt(this.wholeHeight)-this.exceptContentHeight-48-this.scrollBarHeight;a=a>0?a:0;var r=e.insertRow();r.row="row",r.className="u-grid-content-sum-row",r.id=this.options.id+"_content_"+n+"sum_row",r.style.top=a+"px",t.each(s,function(){var t=this.options.field,e=this.options.precision,i=this.options.dataType,n=o.dataSourceObj.getSumValue(t,this,o);if("float"==i){var s={};s.value=n,s.precision=e?e:2,n=o.DicimalFormater(s)}var a=r.insertCell();a.role="rowcell",a.title=n;var l="";"integer"!=this.options.dataType&&"float"!=this.options.dataType||(l='style="text-align: right;"');var u='<div class="u-grid-content-td-div" '+l+">";this.firstColumn&&(u+='<div class="u-gird-centent-sum-div"><span>'+o.transMap.ml_sum+"</span></div>"),u+='<span value="'+n+'">'+n+"</span></div>",a.insertAdjacentHTML("afterBegin",u)})}},o.repairSumRow=function(){if(this.options.showSumRow){t("#"+this.options.id+"_content_div tbody .u-grid-content-sum-row").remove(),t("#"+this.options.id+"_content_fixed_div tbody .u-grid-content-sum-row").remove();try{if(this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0){var e=this.createSumRow();t("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("beforeEnd",e);var e=this.createSumRow("fixed");t("#"+this.options.id+"_content_fixed_div tbody")[0]&&t("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("beforeEnd",e)}}catch(i){var n=t("#"+this.options.id+"_content_div table")[0];t("#"+this.options.id+"_content_fixed_div table")[0];this.createSumRowForIE(n),this.createSumRowForIE(n,"fixed")}this.renderSumRow()}},o.renderSumRow=function(){var e=this;t.each(this.gridCompColumnFixedArr,function(i){var n=this.options.sumCol,s=this.options.sumRenderType,o="fixed_";if(n){var a=t("#"+e.options.id+"_content_"+o+"sum_row").find("td").eq(i).find("span"),r=a[a.length-1];if(r)if("function"==typeof s){var l=t(r).attr("value"),u={};u.value=l,u.element=r,u.gridObj=e,u.gridCompColumn=this,s.call(e,u)}else"integer"!=dataType&&"float"!=dataType||(r.style.textAlign="right")}}),t.each(this.gridCompColumnArr,function(i){var n=this.options.sumCol,s=this.options.sumRenderType,o="";if(n){var a=t("#"+e.options.id+"_content_"+o+"sum_row").find("td").eq(i).find("span"),r=a[a.length-1];if(r)if("function"==typeof s){var l=t(r).attr("value"),u={};u.value=l,u.element=r,u.gridObj=e,u.gridCompColumn=this,s.call(e,u)}else"integer"!=dataType&&"float"!=dataType||(r.style.textAlign="right")}})},o.renderTypeSumRow=function(e,i,n,s,o){var a=this,r=e.options.sumCol,l=e.options.sumRenderType,u=e.options.dataType,d=o===!0?"fixed_":"";if(r){var c=t("#"+this.options.id+"_content_"+d+"sum_row").find("td").eq(i).find("span"),h=c[c.length-1];if(h)if("function"==typeof l){var p=t(h).attr("value"),f={};f.value=p,f.element=h,f.gridObj=a,f.gridCompColumn=e,l.call(a,f)}else"integer"!=u&&"float"!=u||(h.style.textAlign="right")}}}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype,a=o.initEventFun,r=o.initGridEventFun;o.initEventFun=function(){a.apply(this,arguments);var e=this;t("#"+this.options.id).on("mousedown",function(i){if(t(i.target).closest("#"+e.options.id+"_header").length>0){var n=t(i.target).closest("th")[0];e.options.canSwap&&e.swapColumnStart(i,n),i.preventDefault()}else t(i.target).closest("#"+e.options.id+"_content").length>0}),t("#"+this.options.id).on("mousemove",function(t){e.mouseMoveX=t.clientX,e.mouseMoveY=t.clientY,e.mouseMoveX==e.mouseDownX&&e.mouseDownY==e.mouseMoveY||"mouseDownX"==e.mouseDownX||!e.options.canSwap||(e.swapColumnFlag=!0),e.swapColumnFun(t),t.stopPropagation()}),t("#"+this.options.id+"_top").on("mousemove",function(t){e.mouseMoveX=t.clientX,e.mouseMoveY=t.clientY,e.mouseMoveX==e.mouseDownX&&e.mouseDownY==e.mouseMoveY||"mouseDownX"==e.mouseDownX||!e.options.canSwap||(e.swapColumnFlag=!0),e.swapColumnFun(t),t.stopPropagation()}),t("#"+this.options.id).on("mouseup",function(t){e.mouseUpX=t.clientX,e.mouseUpY=t.clientY,e.swapColumnEnd(t),e.mouseUpX="mouseUpX",e.mouseUpY="mouseUpY",e.mouseDownX="mouseDownX",e.mouseDownY="mouseDownY",e.mouseMoveX="mouseMoveX",e.mouseMoveY="mouseMoveY"}),t("#"+this.options.id+"_top").on("mouseup",function(t){e.mouseUpX=t.clientX,e.mouseUpY=t.clientY,e.swapColumnEnd(t),e.mouseUpX="mouseUpX",e.mouseUpY="mouseUpY",e.mouseDownX="mouseDownX",e.mouseDownY="mouseDownY",e.mouseMoveX="mouseMoveX",e.mouseMoveY="mouseMoveY"})},o.initGridEventFun=function(){r.apply(this,arguments)},o.swapColumnStart=function(t,e){this.options.canSwap&&(this.swapColumnEle=e,this.swapColumnStartX=t.clientX,this.swapColumnStartY=t.clientY)},o.swapColumnFun=function(e){if(this.options.canSwap){var i=this;if(this.swapColumnFlag){var n=this.swapColumnEle,s=t(n),o=n.gridCompColumn;if(0==t("#"+this.options.id+"_clue").length){var a=t('<div class="u-grid u-grid-header-drag-clue" id="'+this.options.id+'_clue" />').css({width:n.scrollWidth+"px",left:n.attrLeftTotalWidth-i.scrollLeft+i.leftW+i.fixedWidth+"px",top:"0px",paddingLeft:s.css("paddingLeft"),paddingRight:s.css("paddingRight"),lineHeight:s.height()+"px",paddingTop:s.css("paddingTop"),paddingBottom:s.css("paddingBottom")}).html(o.options.title||o.options.field).prepend('<span class="fa fa-ban u-grid-header-drag-status" />');try{t("#"+this.options.id)[0].insertAdjacentElement("afterBegin",a[0])}catch(e){t("#"+this.options.id)[0].insertBefore(a[0],t("#"+this.options.id)[0].firstChild)}a.on("mousemove",function(){e.stopPropagation()})}this.swapColumnEndX=e.clientX,this.swapColumnEndY=e.clientY;var r=this.swapColumnEndX-this.swapColumnStartX,l=this.swapColumnEndY-this.swapColumnStartY;if(t("#"+this.options.id+"_clue").css({left:n.attrLeftTotalWidth+r-i.scrollLeft+i.leftW+i.fixedWidth+"px",top:l+"px"}),0==t("#"+this.options.id+"_swap_top").length){var a=t('<span class="fa fa-sort-desc u-grid-header-swap-tip-span"  id="'+this.options.id+'_swap_top"/>');a.css({top:s.height()-6+"px"});var u=t('<span class="fa fa-sort-asc u-grid-header-swap-tip-span" id="'+this.options.id+'_swap_down" />');u.css({top:"6px"});try{t("#"+this.options.id)[0].insertAdjacentElement("afterBegin",a[0]),t("#"+this.options.id)[0].insertAdjacentElement("afterBegin",u[0])}catch(e){t("#"+this.options.id)[0].insertBefore(a[0],t("#"+this.options.id)[0].firstChild),t("#"+this.options.id)[0].insertBefore(u[0],t("#"+this.options.id)[0].firstChild)}}this.canSwap=!1,t("#"+this.options.id+"_header_table th").each(function(n){var s=t(this).offset().left,o=s+parseInt(this.attrWidth);if(0==n&&e.clientX<s)i.swapColumnEle!=this&&(i.swapToColumnEle="LeftEle",t("#"+i.options.id+"_swap_top").css({left:-i.scrollLeft-3+i.leftW+i.fixedWidth+"px",display:"block"}),t("#"+i.options.id+"_swap_down").css({left:-i.scrollLeft-3+i.leftW+i.fixedWidth+"px",display:"block"})),i.canSwap=!0;else if(s<e.clientX&&e.clientX<o&&i.swapColumnEle!=this&&parseInt(t(this).attr("index"))+1!=parseInt(t(i.swapColumnEle).attr("index")))return i.swapToColumnEle!=this&&(i.swapToColumnEle=this,t("#"+i.options.id+"_swap_top").css({left:this.attrRightTotalWidth-i.scrollLeft-3+i.leftW+i.fixedWidth+"px",display:"block"}),t("#"+i.options.id+"_swap_down").css({left:this.attrRightTotalWidth-i.scrollLeft-3+i.leftW+i.fixedWidth+"px",display:"block"})),i.canSwap=!0,!1}),this.canSwap?t(".u-grid-header-drag-status").removeClass("fa-ban").addClass("fa-plus-circle"):(t("#"+this.options.id+"_swap_top").css("display","none"),t("#"+this.options.id+"_swap_down").css("display","none"),t(".u-grid-header-drag-status").removeClass("fa-plus-circle").addClass("fa-ban"),this.swapToColumnEle=null),t("#"+this.options.id+"_top").css("display","block")}}},o.swapColumnEnd=function(e){if(this.options.canSwap){if(this.swapColumnFlag){if(this.swapToColumnEle){var i=this.swapColumnEle,n=this.swapToColumnEle,s=t(i).attr("index"),o=t(n).attr("index"),a=this.gridCompColumnArr[s];this.gridCompColumnArr.splice(parseInt(o)+1,0,a),o>s?this.gridCompColumnArr.splice(s,1):this.gridCompColumnArr.splice(parseInt(s)+1,1),this.saveGridCompColumnArrToLocal(),this.repaintGridDivs()}t("#"+this.options.id+"_clue").remove(),t("#"+this.options.id+"_swap_top").css("display","none"),t("#"+this.options.id+"_swap_down").css("display","none")}this.swapColumnFlag=!1,t("#"+this.options.id+"_top").css("display","none")}},"undefined"==typeof o.saveGridCompColumnArrToLocal&&(o.saveGridCompColumnArrToLocal=function(){})}(jQuery,window,document),function(t,e,i,n){var s=t.fn.grid.gridComp,o=s.prototype,a=t.fn.grid.gridCompColumn,r=a.prototype,l=t.fn.grid.dataSource,u=l.prototype;r.initTree=function(t,e){return e.showTree&&(t.sortable=!1),t},o.initOptionsTree=function(){this.options.showTree&&(this.options.showNumCol=!1)},o.clickFunTree=function(e){var i=this,n=t(e.target),s=n.closest("td");if(s.length>0){var o=s.parent(),a=this.getTrIndex(o),r=i.dataSourceObj.rows[a];if(r){var l=r.childRowIndex;if(n.hasClass("fa-minus-square-o")||n.hasClass("fa-plus-square-o")){var u=s.find(".fa-minus-square-o"),d=s.find(".fa-plus-square-o");if(u.length>0){if(u.removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),l.length>0){var c=i.getAllChildRowIndex(r);t.each(c,function(){var e=t('tr[role="row"]:eq('+parseInt(this)+")",o.parent());e.css("display","none"),t("#"+i.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")").css("display","none"),t(".fa-minus-square-o",e).removeClass("fa-minus-square-o").addClass("fa-plus-square-o")})}return void("form"==this.options.editType&&(t("#"+this.options.id+"_multiSelect_edit").remove(null,!0),t("#"+this.options.id+"_numCol_edit").remove(null,!0),t("#"+this.options.id+"_edit_tr").remove(null,!0),t("#"+this.options.id+"_edit_tr1").remove(null,!0)))}if(d.length>0)return d.removeClass("fa-plus-square-o").addClass("fa-minus-square-o"),void(l.length>0&&t.each(l,function(){var e=t('tr[role="row"]:eq('+parseInt(this)+")",o.parent());e.css("display","");t("#"+i.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")")[0];t("#"+i.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")").css("display","")}))}}}},o.addOneRowTree=function(e,i,n){var s=this,o=this.dataSourceObj.rows.length;if(this.options.showTree){this.hasParent=!1,this.hasChildF=!1;var a=this.options.keyField,r=this.options.parentKeyField,l=this.getString(t(e).attr(a),"");n.keyValue=l;var u=this.getString(t(e).attr(r),"");if(n.parentKeyValue=u,t.each(this.dataSourceObj.rows,function(e){var o=this.value,d=s.getString(t(o).attr(a),""),c=s.getString(t(o).attr(r),"");if(d==u){s.hasParent=!0,s.addRowParentIndex=e,parentChildLength=s.getAllChildRow(this).length;var h=this.level;if(n.level=h+1,i=s.addRowParentIndex+parentChildLength+1,!s.options.needTreeSort)return!1}return c==l&&(s.hasChildF=!0),s.hasParent&&s.hasChildF?!1:void 0}),this.hasParent||(n.level=0,i!=o&&(i=o)),this.hasParent){var d=t("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(s.addRowParentIndex);if(parentChildLength>0){var c=t(".fa-plus-square-o",d);c.length>0||(displayFlag="block")}else{this.options.autoExpand&&(displayFlag="block");var h=t("div:eq(0)",d),c=t(".fa-plus-square-o",d),p=t(".fa-minus-square-o",d);if(this.options.autoExpand)var f='<span class="fa u-grid-content-tree-span fa-minus-square-o"></span>';else var f='<span class="fa u-grid-content-tree-span fa-plus-square-o"></span>';if(h.length>0&&0==c.length&&0==p.length){h[0].insertAdjacentHTML("afterBegin",f);var m=parseInt(h[0].style.left);o=m-16,(o>0||0==o)&&(h[0].style.left=o+"px")}c.length>0&&c.removeClass("fa-plus-square-o").addClass("fa-minus-square-o")}}}return i},o.addOneRowTreeHasChildF=function(t){if(this.hasChildF)this.dataSourceObj.sortRows(),this.repairContent();else{if(this.hasParent){var e=this.dataSourceObj.rows[this.addRowParentIndex];e.hasChild=!0,e.childRow.push(t),e.childRowIndex.push(t.valueIndex),t.parentRow=e,t.parentRowIndex=this.addRowParentIndex}t.hasChild=!1,t.childRow=new Array,t.childRowIndex=new Array}},o.updateValueAtTree=function(e,i,n,s){var o=this,a=this.options.keyField,r=this.options.parentKeyField;if(this.options.showTree&&(i==a||i==r)){var l=!1,u=!1;if(t.each(this.dataSourceObj.rows,function(e){var s=this.value,d=o.getString(t(s).attr(a),""),c=o.getString(t(s).attr(r),"");i==a&&n==c&&(u=!0),i==r&&n==d&&(l=!0)}),u||l){var d=t(this.dataSourceObj.rows[e].value);this.deleteOneRow(e),this.addOneRow(d[0])}}return!this.options.showTree||i!=a&&i!=r||!u&&!l||(e=this.getRowIndexByValue(i,n)),e},o.getAllChildRow=function(t){return t.allChildRow=new Array,this.getAllChildRowFun(t,t.allChildRow),t.allChildRow},o.getAllChildRowIndex=function(t){return t.allChildRowIndex=new Array,this.getAllChildRowIndexFun(t,t.allChildRowIndex),t.allChildRowIndex},o.getAllChildRowFun=function(e,i){var n=this;e.childRow.length>0&&(Array.prototype.push.apply(i,e.childRow),t.each(e.childRow,function(){n.getAllChildRowFun(this,i)}))},o.getAllChildRowIndexFun=function(e,i){var n=this;e.childRowIndex.length>0&&(Array.prototype.push.apply(i,e.childRowIndex),t.each(e.childRow,function(){n.getAllChildRowIndexFun(this,i)}))},o.expandNode=function(t){var e=this.getRowIndexByValue(this.options.keyField,t);this.expandNodeByIndex(e)},o.expandNodeByIndex=function(e){for(var i,n=this.getRowByIndex(e),s=!1,o=new Array,a=n;!s;){if(""==a.parentKeyValue){s=!0;break}i=a.parentRowIndex,a=a.parentRow;var r=t("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(i),l=t(".fa-plus-square-o",r);if(!(l.length>0)){s=!0;break}o.push(i)}if(o.length>0)for(var u=o.length-1;u>-1;u--){var d=o[u],r=t("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(d),l=t(".fa-plus-square-o",r);l.click()}var c=t("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(e),l=t(".fa-plus-square-o",c),h=t(".u-grid-content-td-div",c);l.length>0?l.click():h.click()},u.treeSortRows=function(e,i){var n=this;if(this.rows=new Array,this.hasParentRows=new Array,this.nothasParentRows=new Array,this.options.values){t.each(this.options.values,function(e){var i={},s=t(this),o=n.gridComp.options.keyField,a=n.gridComp.options.parentKeyField,r=n.gridComp.getString(s.attr(o),""),l=n.gridComp.getString(s.attr(a),"");i.valueIndex=e,i.value=this,i.keyValue=r,i.parentKeyValue=l,""==l?n.nothasParentRows.push(i):n.hasParentRows.push(i),n.rows.push(i)}),t.each(this.hasParentRows,function(e){var i=this.parentKeyValue,s=!1;t.each(n.rows,function(){this.keyValue==i&&(s=!0)}),s||(n.hasParentRows.splice(e,0),n.nothasParentRows.push(this))}),n.rows=new Array;var s=0;t.each(this.nothasParentRows,function(t){this.level=s,n.rows.push(this),n.pushChildRows(this,s)})}},u.pushChildRows=function(e,i){var n=e.keyValue,s=this,o=parseInt(i)+1,a=!1,r=new Array,l=new Array;t.each(this.hasParentRows,function(t){if(this&&this.parentKeyValue==n){a=!0,this.level=o,s.rows.push(this),r.push(this);var e=parseInt(s.rows.length-1);l.push(e),s.hasParentRows.splice(t,0),s.pushChildRows(this,o)}}),e.hasChild=a,e.childRow=r,e.childRowIndex=l}}(jQuery,window,document),+function(t){function e(e,i){var n=this;if(this.$element=e,this.validates=[],i&&i.single&&1==i.single)this.createValidate(this.$element,i);else if(this.$element.children().length>0){var s=this.$element.find("[valid-type], [required]");s.each(function(){var e=t(this);n.createValidate(e,i,s)})}else this.createValidate(this.$element,i);return this}var i=function(e,n,s){this.$element=e,this.$form=s,this.options=n,this.required=!1,this.timeout=null,this.required=this.options.required?this.options.required:!!this.$element.attr("required"),this.validType=this.options.validType?this.options.validType:this.$element.attr("valid-type")?this.$element.attr("valid-type"):null,this.validMode=this.options.validMode?this.options.validMode:this.$element.attr("valid-mode")?this.$element.attr("valid-mode"):i.DEFAULTS.validMode,this.nullMsg=this.options.nullMsg?this.options.nullMsg:this.$element.attr("null-msg")?this.$element.attr("null-msg"):i.NULLMSG[this.validType],this.required&&!this.nullMsg&&(this.nullMsg=i.NULLMSG.required),this.errorMsg=this.options.errorMsg?this.options.errorMsg:t(e).attr("error-msg")?this.$element.attr("error-msg"):i.ERRORMSG[this.validType],this.regExp=this.options.reg?this.options.reg:t(e).attr("reg")?this.$element.attr("reg"):i.REG[this.validType],this.tipId=this.options.tipId?this.options.tipId:t(e).attr("tip-id")?this.$element.attr("tip-id"):null,this.placement=this.options.placement?this.options.placement:t(e).attr("placement")?this.$element.attr("placement"):i.DEFAULTS.placement,
this.minLength=this.options.minLength>0?this.options.minLength:t(e).attr("min-length")?this.$element.attr("min-length"):null,this.maxLength=this.options.maxLength>0?this.options.maxLength:t(e).attr("max-length")?this.$element.attr("max-length"):null,this.min=void 0!==this.options.min?this.options.min:void 0!==t(e).attr("min")?this.$element.attr("min"):null,this.max=void 0!==this.options.max?this.options.max:void 0!==t(e).attr("max")?this.$element.attr("max"):null,this.minNotEq=void 0!==this.options.minNotEq?this.options.minNotEq:void 0!==t(e).attr("minNotEq")?this.$element.attr("minNotEq"):null,this.maxNotEq=void 0!==this.options.maxNotEq?this.options.maxNotEq:void 0!==t(e).attr("maxNotEq")?this.$element.attr("maxNotEq"):null,this.min=t.isNumeric(this.min)?this.min:null,this.max=t.isNumeric(this.max)?this.max:null,this.minNotEq=t.isNumeric(this.minNotEq)?this.minNotEq:null,this.maxNotEq=t.isNumeric(this.maxNotEq)?this.maxNotEq:null,this.validateCallBack=this.options.validateCallBack,this.midValidateCallBack=this.options.midValidateCallBack,this.create()};i.tipTemplate='<div class="tooltip" role="tooltip"><div class="tooltip-arrow tooltip-arrow-c"></div><div class="tooltip-arrow"></div><div class="tooltip-inner" style="color:#ed7103;border:1px solid #ed7103;background-color:#fff7f0;"></div></div>',i.NULLMSG={required:trans("validate.required","不能为空！"),integer:trans("validate.integer","请填写整数！"),"float":trans("validate.float","请填写数字！"),zipCode:trans("validate.zipCode","请填写邮政编码！"),phone:trans("validate.phone","请填写手机号码！"),email:trans("validate.email","请填写邮箱地址！"),url:trans("validate.url","请填写网址！"),datetime:trans("validate.datetime","请填写日期！")},i.ERRORMSG={integer:trans("validate.integer","请填写整数！"),"float":trans("validate.float","请填写数字！"),zipCode:trans("validate.zipCode","邮政编码格式不对！"),phone:trans("validate.phone","手机号码格式不对！"),email:trans("validate.email","邮箱地址格式不对！"),url:trans("validate.url","网址格式不对！"),datetime:trans("validate.datetime","日期格式不对！")},i.REG={integer:/^-?\d+$/,"float":/^-?\d+(\.\d+)?$/,zipCode:/^[0-9]{6}$/,phone:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,email:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,datetime:/^(?:19|20)[0-9][0-9]-(?:(?:0[1-9])|(?:1[0-2]))-(?:(?:[0-2][1-9])|(?:[1-3][0-1])) (?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/},i.DEFAULTS={validMode:"blur",placement:"top"},i.fn=i.prototype,i.fn.create=function(){var e=this;this.$element.on("blur",function(t){"blur"==e.validMode&&e.doValid()}).on("focus",function(t){e.hideMsg()}).on("change",function(t){e.hideMsg()}).on("keydown",function(i){var n=window.event||i,s=e.$element.val();if("function"==typeof e.midValidateCallBack){var o={event:n,tempValue:s,inputEle:this},a=e.midValidateCallBack.call(e,o);if(0==a)return!1}if("float"==e.validType){if(n.shiftKey)return n.returnValue=!1,!1;if(9==n.keyCode||37==n.keyCode||39==n.keyCode||46==n.keyCode)return!0;if(n.ctrlKey&&(67==n.keyCode||86==n.keyCode))return!0;if(!(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||t.inArray(n.keyCode,[8,110,190,189,109])>-1))return n.returnValue=!1,!1;if((!s||s.indexOf(".")>-1)&&(190==n.keyCode||110==n.keyCode))return n.returnValue=!1,!1;if(s&&(s+"").split(".")[0].length>=25)return!1}if("integer"==e.validType){if(n.shiftKey)return n.returnValue=!1,!1;if(9==n.keyCode||37==n.keyCode||39==n.keyCode||46==n.keyCode)return!0;if(n.ctrlKey&&(67==n.keyCode||86==n.keyCode))return!0;if(!(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||t.inArray(n.keyCode,[8,109,189])>-1))return n.returnValue=!1,!1;if(s&&(s+"").split(".")[0].length>=25)return!1}})},i.fn.updateOptions=function(t){},i.fn.calLength=function(t){return"float"==this.validType&&(t+"").indexOf(".")>=0?t.lengthb()-1:t.lengthb()},i.fn.doValid=function(t){if("function"==typeof this.validateCallBack){var e={event:event,tempValue:n,inputEle:this.$element[0]},i=this.validateCallBack.call(this,e);if(0==i)return!1}var n;if(this.showMsgFlag=!0,t&&(n=t.pValue,this.showMsgFlag=t.showMsg),this.needClean=!1,this.$element.attr("readonly"))return!0;var s=null;if(s="undefined"!=typeof n?n:this.getValue(),this.isEmpty(s)&&this.required)return this.showMsg(this.nullMsg),!1;if(this.isEmpty(s)&&!this.required)return!0;if(this.regExp){var o=new RegExp(this.regExp);"number"==typeof s&&(s+="");var a=s.match(o);if(null===a||a===!1)return this.showMsg(this.errorMsg),this.needClean=!0,!1}return this.minLength&&this.calLength(s)<this.minLength?(this.showMsg("输入长度不能小于"+this.minLength+"位"),!1):this.maxLength&&this.calLength(s)>this.maxLength?(this.showMsg("输入长度不能大于"+this.maxLength+"位"),!1):void 0!=this.max&&null!=this.max&&parseFloat(s)>this.max?(this.showMsg("输入值不能大于"+this.max),!1):void 0!=this.min&&null!=this.min&&parseFloat(s)<this.min?(this.showMsg("输入值不能小于"+this.min),!1):void 0!=this.maxNotEq&&null!=this.maxNotEq&&parseFloat(s)>=this.maxNotEq?(this.showMsg("输入值不能大于或等于"+this.maxNotEq),!1):void 0!=this.minNotEq&&null!=this.minNotEq&&parseFloat(s)<=this.minNotEq?(this.showMsg("输入值不能小于或等于"+this.minNotEq),!1):!0},i.fn.some=Array.prototype.some?Array.prototype.some:function(){for(var t,e=0;e<this.length&&("function"!=typeof arguments[0]||!(t=arguments[0](this[e])));e++);return t},i.fn.getValue=function(){var e="",i=this.some.call(this.$element.children('[type="checkbox"],[type="radio"]'),function(t){return"checkbox"==t.type||"radio"==t.type});if(this.$element.children().length>0&&i){var n=this.$element.find('[type="checkbox"],[type="radio"]'),s=n[0];"checkbox"==s.type?this.$element.find(":checkbox[name='"+t(s).attr("name")+"']:checked").each(function(){e+=t(this).val()+","}):"radio"==s.type&&(e=this.$element.find(":radio[name='"+t(s).attr("name")+"']:checked").val())}else this.$element.is(":radio")?e=this.$element.parent().find(":radio[name='"+this.$element.attr("name")+"']:checked").val():this.$element.is(":checkbox")?(e="",this.$element.parent().find(":checkbox[name='"+this.$element.attr("name")+"']:checked").each(function(){e+=t(this).val()+","})):e=this.$element.find("input").length>0?this.$element.find("input").val():this.$element.val();return e=t.trim(e),this.isEmpty(e)?"":e},i.fn.isEmpty=function(e){return""===e||void 0===e||null===e||e===t.trim(this.$element.attr("tip"))},i.fn.showMsg=function(e){if(0!=this.showMsgFlag&&"false"!=this.showMsgFlag){var n=this;if(this.tipId)t("#"+this.tipId).html(e).show();else{var s={title:e,trigger:"manual",selector:"validtip",placement:this.placement,container:"body"};i.tipTemplate&&(s.template=i.tipTemplate),this.$element.tooltip(s),this.$element.tooltip("show"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.hideMsg()},3e3)}}},i.fn.hideMsg=function(){this.tipId?t("#"+this.tipId).hide():this.$element.tooltip("destroy")},e.fn=e.prototype,e.fn.createValidate=function(t,e,n){var s=t.data("u.validate"),e="object"==typeof e&&e;s||t.data("u.validate",s=new i(t,e,n)),this.validates.push(s)},e.fn.check=function(t){for(var e=!0,i=0;i<this.validates.length;i++)e=this.validates[i].doValid(t)&&e;return e},e.fn._needClean=function(){return this.validates[0].needClean};var n=t.fn.validate;t.fn.validate=function(t){var i=new e(this,t);return i},t.fn.validate.noConflict=function(){return t.fn.validate=n,this}}($),+function(t){"use strict";function e(t){for(var e=t.offsetLeft||0,i=t.offsetTop||0;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{x:e,y:i}}function i(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1}function n(e){if(1==this.length){var i=t(this),n=i.data("u.autocomplete"),o="object"==typeof e&&e;return n||i.data("u.autocomplete",n=new s(this,o)),n}}var s=function(e,i){this.$input=t(e),this.options=t.extend({},s.DEFAULTS,i),this.requestIndex=0,this.pending=0;var n=this;this.options.inputClass&&this.$input.addClass(this.options.inputClass),this.$results=t("#autocompdiv"),0==this.$results.length&&(this.$results=t('<div id="autocompdiv"></div>'),t("body").append(this.$results)),this.$results.hide().addClass(this.options.resultsClass).css("position","absolute"),this.options.width>0&&this.$results.css("width",this.options.width),this.timeout=null,this.prev="",this.active=-1,this.cache={},this.keyb=!1,this.hasFocus=!1,this.lastKeyPressCode=null,this._initSource(),this.$input.keydown(function(t){switch(n.lastKeyPressCode=t.keyCode,t.keyCode){case 38:t.preventDefault(),n.moveSelect(-1);break;case 40:t.preventDefault(),n.moveSelect(1);break;case 9:case 13:n.selectCurrent()&&(n.$input.get(0).blur(),t.preventDefault());break;default:n.active=-1,n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(function(){n.onChange()},n.options.delay)}}).focus(function(){n.hasFocus=!0}).blur(function(){n.hasFocus=!1}),this.hideResultsNow()};s.DEFAULTS={inputClass:"ac_input",resultsClass:"ac_results",lineSeparator:"\n",cellSeparator:"|",minChars:1,delay:400,matchCase:0,matchSubset:1,matchContains:0,cacheLength:1,mustMatch:0,extraParams:{},loadingClass:"ac_loading",selectFirst:!1,selectOnly:!1,maxItemsToShow:-1,autoFill:!1,width:0,source:null,select:null},s.fn=s.prototype,s.fn.flushCache=function(){this.cache={},this.cache.data={},this.cache.length=0},s.fn._initSource=function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(t,i){i(n.filterData(t.term,e))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},s.fn._response=function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,!this.pending},this)},s.fn.__response=function(t){t&&this.receiveData2(t),this.showResults()},s.fn.onChange=function(){if(46==this.lastKeyPressCode||this.lastKeyPressCode>8&&this.lastKeyPressCode<32)return this.$results.hide();var t=this.$input.val();this.prev=t,t.length>=this.options.minChars||t.length>=0?(this.$input.addClass(this.options.loadingClass),this.pending++,this.source({term:t},this._response())):(this.$input.removeClass(this.options.loadingClass),this.$results.hide())},s.fn.moveSelect=function(e){var i=t("li",this.$results[0]);i&&(this.active+=e,this.active<0?this.active=0:this.active>=i.size()&&(this.active=i.size()-1),i.removeClass("ac_over"),t(i[this.active]).addClass("ac_over"))},s.fn.selectCurrent=function(){var e=t("li.ac_over",this.$results[0])[0];if(!e){var i=t("li",this.$results[0]);this.options.selectOnly?1==i.length&&(e=i[0]):this.options.selectFirst&&(e=i[0])}return e?(this.selectItem(e),!0):!1},s.fn.selectItem=function(e){var i=this;e||(e=document.createElement("li"),e.selectValue="");var n=t.trim(e.selectValue?e.selectValue:e.innerHTML);this.lastSelected=n,this.prev=n,this.$results.html(""),this.$input.val(n),this.hideResultsNow(),this.options.select&&setTimeout(function(){i.options.select(e._item)},1)},s.fn.createSelection=function(t,e){var i=this.$input.get(0);if(i.createTextRange){var n=i.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()}else i.setSelectionRange?i.setSelectionRange(t,e):i.selectionStart&&(i.selectionStart=t,i.selectionEnd=e);i.focus()},s.fn.autoFill=function(t){8!=this.lastKeyPressCode&&(this.$input.val(this.$input.val()+t.substring(this.prev.length)),this.createSelection(this.prev.length,t.length))},s.fn.showResults=function(){var t=e(this.$input[0]),i=this.options.width>0?this.options.width:this.$input.width();"100%"===this.options.width?this.$results.css({top:t.y+this.$input[0].offsetHeight+"px",left:t.x+"px"}).show():this.$results.css({width:parseInt(i)+"px",top:t.y+this.$input[0].offsetHeight+"px",left:t.x+"px"}).show()},s.fn.hideResults=function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.hideResultsNow()},200)},s.fn.hideResultsNow=function(){if(this.timeout&&clearTimeout(this.timeout),this.$input.removeClass(this.options.loadingClass),this.$results.hide(),this.options.mustMatch){var t=this.$input.val();t!=this.lastSelected&&this.selectItem(null)}},s.fn.receiveData=function(t,e){if(e){if(this.$input.removeClass(this.options.loadingClass),this.$results.html(""),!this.hasFocus||0==e.length)return this.hideResultsNow();this.$results.append(this.dataToDom(e)),this.options.autoFill&&this.$input.val().toLowerCase()==t.toLowerCase()&&this.autoFill(e[0][0]),this.showResults()}else this.hideResultsNow()},s.fn.filterData=function(t,e){if(!t)return e;for(var i=[],n=0,s=e.length;s>n;n++){var o=e[n].label;0==o.indexOf(t)&&i.push(e[n])}return i},s.fn.receiveData2=function(t){if(t){if(this.$input.removeClass(this.options.loadingClass),this.$results.html(""),!this.hasFocus||0==t.length)return this.hideResultsNow();this.$results.append(this.dataToDom2(t)),this.showResults()}else this.hideResultsNow()},s.fn.dataToDom2=function(e){var n=document.createElement("ul"),s=e.length,o=this;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<s&&(s=this.options.maxItemsToShow);for(var a=0;s>a;a++){var r=e[a];if(r){var l=document.createElement("li");this.options.formatItem?l.innerHTML=this.options.formatItem(r,a,s):l.innerHTML=r.label,l.selectValue=r.label,l._item=r,n.appendChild(l),t(l).hover(function(){t("li",n).removeClass("ac_over"),t(this).addClass("ac_over"),o.active=i(t("li",n),t(this).get(0))},function(){t(this).removeClass("ac_over")}).mousedown(function(t){t.preventDefault(),t.stopPropagation(),o.selectItem(this)})}}return n},s.fn.parseData=function(e){if(!e)return null;for(var i=[],n=e.split(this.options.lineSeparator),s=0;s<n.length;s++){var o=t.trim(n[s]);o&&(i[i.length]=o.split(this.options.cellSeparator))}return i},s.fn.dataToDom=function(e){var n=document.createElement("ul"),s=e.length,o=this;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<s&&(s=this.options.maxItemsToShow);for(var a=0;s>a;a++){var r=e[a];if(r){var l=document.createElement("li");this.options.formatItem?(l.innerHTML=this.options.formatItem(r,a,s),l.selectValue=r[0]):(l.innerHTML=r[0],l.selectValue=r[0]);var u=null;if(r.length>1){u=[];for(var d=1;d<r.length;d++)u[u.length]=r[d]}l.extra=u,n.appendChild(l),t(l).hover(function(){t("li",n).removeClass("ac_over"),t(this).addClass("ac_over"),o.active=i(t("li",n),t(this).get(0))},function(){t(this).removeClass("ac_over")}).click(function(t){t.preventDefault(),t.stopPropagation(),o.selectItem(this)})}}return n},s.fn.requestData=function(e){var i=this;this.options.matchCase||(e=e.toLowerCase());var n=this.options.cacheLength?this.loadFromCache(e):null;n?this.receiveData(e,n):"string"==typeof this.options.url&&this.options.url.length>0?t.get(this.makeUrl(e),function(t){t=i.parseData(t),i.addToCache(e,t),i.receiveData(e,t)}):this.$input.removeClass(this.options.loadingClass)},s.fn.makeUrl=function(t){var e=this.options.url+"?q="+encodeURI(t);for(var i in this.options.extraParams)e+="&"+i+"="+encodeURI(this.options.extraParams[i]);return e},s.fn.loadFromCache=function(t){if(!t)return null;if(this.cache.data[t])return this.cache.data[t];if(this.options.matchSubset)for(var e=t.length-1;e>=this.options.minChars;e--){var i=t.substr(0,e),n=this.cache.data[i];if(n){for(var s=[],o=0;o<n.length;o++){var a=n[o],r=a[0];this.matchSubset(r,t)&&(s[s.length]=a)}return s}}return null},s.fn.matchSubset=function(t,e){this.options.matchCase||(t=t.toLowerCase());var i=t.indexOf(e);return-1==i?!1:0==i||this.options.matchContains},s.fn.addToCache=function(t,e){e&&t&&this.options.cacheLength&&(!this.cache.length||this.cache.length>this.options.cacheLength?(this.flushCache(),this.cache.length++):this.cache[t]||this.cache.length++,this.cache.data[t]=e)};var o=t.fn.autocomplete;t.fn.autocomplete=n,t.fn.autocomplete.Constructor=s,t.fn.autocomplete.noConflict=function(){return t.fn.autocomplete=o,this}}($),+function(t){"use strict";function e(e){if(1==this.length){var n=t(this),s=n.data("u.backtop"),o="object"==typeof e&&e;return s||n.data("u.backtop",s=new i(this,o)),s}}var i=function(e,n){var s=this;this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),t(window).scroll(function(e){t(document).scrollTop()>s.options.toggleHeight?s.$element.addClass("active"):s.$element.removeClass("active")}),this.$element.click(function(){t(document).scrollTop(0)})};i.DEFAULTS={toggleHeight:100},i.fn=i.prototype;var n=t.fn.backtop;t.fn.backtop=e,t.fn.backtop.Constructor=i,t.fn.backtop.noConflict=function(){return t.fn.backtop=n,this}}($),function(t){var e=function(i,n){var s=this;this.$element=i,this.options=t.extend({},e.DEFAULTS,n),this.items=[],this.mutilPks=[],this.oDiv=null,Object.defineProperty(i[0],"value",{get:function(){return this.trueValue},set:function(e){var n=s.items,o=t(s.oDiv).find("li");if("true"==s.options.single||1==s.options.single)for(var a=0,r=n.length;r>a;a++){var l=n[a].pk;if(l==e){this.innerHTML=n[a].name,this.trueValue=e;break}this.trueValue="",this.innerHTML=""}else if("true"==s.options.mutil||1==s.options.mutil){if(!t.isArray(e)){if("string"!=typeof e||""===e)return;e=e.split(","),s.mutilPks=e}0==s.mutilPks.length&&(s.mutilPks=e),t(this).html("");for(var u=[],d=0;d<e.length;d++)for(var a=0,r=o.length;r>a;a++){var l=o[a].item.pk;if(e[d]==l){u.push(e[d]),o[a].style.display="none";var c=t("<i class='fa fa-close'></i>");c.on("mousedown",function(){for(var e=t(this),n=t(s.oDiv).find("li"),o=0,a=n.length;a>o;o++)if(n[o].item.name==e.siblings(".itemName").html()){n[o].style.display="block";for(var r=0;r<s.mutilPks.length;r++)s.mutilPks[r]==n[o].item.pk&&(s.mutilPks.splice(r,1),r--);for(var l=0;l<u.length;l++)u[l]==n[o].item.pk&&(u.splice(l,1),l--)}e.parent().remove(),i[0].trueValue="",i[0].trueValue=u.toString(),t(i).trigger("mutilSelect",u.toString())});var h=t("<i class='itemName'>"+n[a].name+"</i>"),p=t("<div class='mutil-select-div'></div>");p.append(c),p.append(h),t(this).append(p)}}this.trueValue=u.toString()}}}),"readonly"!==this.options.readonly&&("true"!=this.options.single&&1!=this.options.single||this.singleSelect(),"true"!=this.options.mutil&&1!=this.options.mutil||this.mutilSelect(),this.clickEvent(),this.blurEvent(),this.comboFilter(),this.comboFilterClean())};e.DEFAULTS={dataSource:{},mutil:!1,enable:!0,single:!0,onSelect:function(){}},e.fn=e.prototype,e.fn.createDom=function(){var e=this.options.dataSource;if(t.isEmptyObject(e))throw new Error("dataSource为空！");var i=document.createElement("div");i.className="select-list-div",this.oDiv=i;var n=document.createElement("div");n.className="select-search";var s=document.createElement("input");n.appendChild(s),this.options.readchange&&(n.style.display="none");var o=document.createElement("ul");o.className="select-list-ul";for(var a=0;a<e.length;a++){var r={pk:e[a].pk,name:e[a].name};this.items.push(r);var l=document.createElement("li");l.item=r,l.innerHTML=e[a].name,o.appendChild(l)}i.appendChild(o),i.style.display="none",document.body.appendChild(i)},e.fn.focusEvent=function(){var t=this;this.$element.on("click",function(e){if(t.$element.data("enable")||1!=t.options.readchange){var i=t.show();1!==i&&(t.floatLayer(),t.floatLayerEvent(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}})},e.fn.clickEvent=function(){var e=this,i=this.$element.next(".input-group-addon")[0]||this.$element.next(":button")[0];t(i).on("click",function(t){e.show(),e.floatLayer(),e.floatLayerEvent(),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0})},e.fn.blurEvent=function(){var t=this;this.$element.on("keyup",function(e){var i=e.which||e.keyCode;9==i&&t.show()}).on("keydown",function(e){var i=e.which||e.keyCode;9==i&&t.hide()})},e.fn.floatLayer=function(){if(0==t(".select-floatDiv").length){var e=document.createElement("div");e.className="select-floatDiv",document.body.appendChild(e)}},e.fn.floatLayerEvent=function(){var e=this;t(".select-floatDiv").click(function(i){e.hide(),t(this).remove(),i.stopPropagation?i.stopPropagation():i.cancelBubble=!0})},e.fn.show=function(){for(var e=t(this.oDiv).find("li"),i=0,n=0,s=e.length;s>n;n++)"none"==e[n].style.display&&i++;if(i===s)return 1;var o=this.$element.offset().left,a=this.$element.offset().top,r=30*this.options.dataSource.length+10+10,l=a+this.$element.outerHeight()+r-(t(window).height()+t(window).scrollTop()),u=this.oDiv;l>0?(u.style.left=o+"px",u.style.top=a-r+"px"):(u.style.left=o+"px",u.style.top=a+this.$element.outerHeight()+"px"),u.style.display="block"},e.fn.hide=function(){this.oDiv.style.display="none"},e.fn.singleDivValue=function(){for(var e=this,i=t(this.oDiv).find("li"),n=0;n<i.length;n++)t(i[n]).click(function(){var t=this.item;e.$element.val(t.pk),e.oDiv.style.display="none",e.options.onSelect(t),e.$element.trigger("change")})},e.fn.mutilDivValue=function(){for(var e=this,i=t(this.oDiv).find("li"),n=0;n<i.length;n++)t(i[n]).click(function(){var t=this.item.pk,i=e.mutilPks,n=i.length;if(n>0)for(var s=0;n>s;s++)t==i[s]&&(i.splice(s,1),s--);i.push(t),e.$element.val(i),e.$element.trigger("mutilSelect",i.toString()),e.oDiv.style.display="none",this.style.display="none",e.$element.trigger("change")})},e.fn.singleSelect=function(){this.createDom(),this.focusEvent(),this.singleDivValue()},e.fn.mutilSelect=function(){this.createDom(),this.mutilDivValue(),this.focusEvent()},e.fn.comboFilter=function(){t(this.oDiv).on("keyup",function(){for(var e=t(this).find(".select-search input").val(),i=t(this).find("li"),n=0;n<i.length;n++)-1!=i[n].item.name.indexOf(e)?i[n].style.display="block":i[n].style.display="none"})},e.fn.comboFilterClean=function(){var e=this;t(this.$element).on("click",function(){t(e.oDiv).find(".select-search input").val("");var i=t(e.oDiv).find("li");if("true"==e.options.single||1==e.options.single)for(var n=0;n<i.length;n++)i[n].style.display="block";else if("true"==e.options.mutil||1==e.options.mutil){for(var s=[],o=t(this).find(".mutil-select-div .itemName"),n=0;n<o.length;n++)for(var a=0;a<i.length;a++)t(o[n]).html()==i[a].item.name&&s.push(a);for(var r=0;r<i.length;r++){i[r].style.display="block";for(var l=0;l<s.length;l++)r==s[l]&&(i[r].style.display="none")}}})};var i=function(i){var n=t(this),s=n.data("s.select"),o="object"==typeof i&&i;s||n.data("s.select",new e(this,o))};t.fn.setComboData=function(e){var i=t(this).data("s.select");if(i){var n=e;if(t.isArray(n)&&0!=n.length){i.items.length=0;var s=t(i.oDiv).find("li");if(n.length<s.length)for(var o=n.length;o<s.length;o++)t(s[o]).remove();else if(n.length>s.length)for(var a=s[0],r=t(i.oDiv).find("ul"),l=0;l<n.length-s.length;l++)t(a).clone(!0).appendTo(r);s=t(i.oDiv).find("li");for(var u=0;u<n.length;u++){var d={pk:n[u].pk,name:n[u].name};i.items.push(d),s[u].item=d,s[u].innerHTML=n[u].name}}}},t.fn.Combobox=i}($),+function(t){t.dialog=function(e){function i(){m=o[0].clientWidth,v=o[0].clientHeight,o.css({margin:"0px",left:(g-m)/2,top:(_-v)/2})}function n(){o.css({width:o[0].clientWidth,height:o[0].clientHeight})}function s(){m=o[0].clientWidth,v=o[0].clientHeight,o.css({width:"auto",height:"auto",left:o.offset().left,top:o.offset().top,right:g-o.offset().left-m,bottom:_-o.offset().top-v})}var o=t('<div class="move-dialog "><div class="move-alert alert alert-'+e.type+' alert-dismissible"></div></div>'),a=t('<button type="button" class="close"  aria-label="Close"><span aria-hidden="true">&times;</span></button>');e.title=e.title||trans("dialog.info_dialog","提示窗口");var r=t("<h4>"+e.title+"</h4>");if(e.url)var l=t('<p class="dialog_p"><iframe class="dialog_iframe" src='+e.url+"></iframe></p>");else{var l=t('<p style="position: absolute;top: 50px;bottom: 20px;overflow: auto;left: 30px;right: 25px;"></p>');l.append(e.msg)}var u,d,c,h,p,f,m,v,g,_;g=window.innerWidth?window.innerWidth:document.body.clientWidth,_=window.innerHeight?window.innerHeight:document.body.clientHeight,e.width?o.css({width:e.width}):o.css({width:520}),e.height&&o.css({height:e.height}),o.find(".alert").append(a).append(r).append(l).append(u),o.wrap("<div style='padding:5px'></div>"),e.backdrop&&(t(document.body).append('<div class="alert-backdrop" role="alert-dialog-backdrop"></div>'),o.on("close.bs.alert",function(e){t('.alert-backdrop[role="alert-dialog-backdrop"]').remove()})),o.find('[data-role="okbtn"]').on("click.alert.ok",e.okfn),e.cancelfn&&"function"==typeof e.cancelfn&&(o.find('[data-role="cancelbtn"]').on("click",e.cancelfn),o.find('[aria-hidden="true"]').on("click",e.cancelfn)),o.css("z-index",99),a.on("click",function(){t.removeDialog()}),e.movable&&(o.on("mousedown.dialog",function(t){m=o[0].clientWidth,v=o[0].clientHeight,c=t.clientX-o.position().left,h=t.clientY-o.position().top,11>p&&12>f?(s(),d=9,o.css({cursor:"se-resize"})):p>m-20&&f>v-10?(s(),d=8,o.css({cursor:"se-resize"})):11>p&&f>v-10?(s(),d=7,o.css({cursor:"ne-resize"})):p>m-20&&12>f?(s(),d=6,o.css({cursor:"ne-resize"})):12>p?(s(),d=5,o.css({cursor:"e-resize"})):p>m-20?(s(),d=4,o.css({cursor:"e-resize"})):11>f?(d=3,s(),o.css({cursor:"n-resize"})):f>v-10?(d=2,s(),o.css({cursor:"n-resize"})):"H4"==t.target.nodeName&&(d=1,n(),o.css({cursor:"auto"}))}),t(document).on("mousemove.dialog",function(t){return m=o[0].clientWidth,v=o[0].clientHeight,p=t.clientX-o.position().left,f=t.clientY-o.position().top,1==d?void o.css({left:t.clientX-c,top:t.clientY-h,cursor:"all-scroll"}):2==d?void o.css({bottom:_-t.clientY-20}):3==d?void o.css({top:t.clientY-20}):4==d?void o.css({right:g-t.clientX-20}):5==d?void o.css({left:t.clientX-20}):6==d?void o.css({top:t.clientY-20,right:g-t.clientX-20}):7==d?void o.css({left:t.clientX-20,bottom:_-t.clientY-20}):8==d?void o.css({bottom:_-t.clientY-20,right:g-t.clientX-20}):9==d?void o.css({top:t.clientY-20,left:t.clientX-20}):void(11>p&&12>f||p>m-20&&f>v-10?o.css({cursor:"se-resize"}):11>p&&f>v-10||p>m-20&&12>f?o.css({cursor:"ne-resize"}):12>p||p>m-20?o.css({cursor:"e-resize"}):11>f||f>v-10?o.css({cursor:"n-resize"}):o.css({cursor:"auto"}))}),t(document).on("mouseup.dialog",function(){d=!1,o.css({cursor:"auto"})})),t(document.body).append(o),i()},t.removeDialog=function(){var e;(e=t(".move-dialog ")).length&&e.remove(),(e=t(".alert-backdrop")).length&&e.remove(),t(document).off("mousemove.dialog").off("mouseup.dialog")}}($)+function(t,e){function i(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function n(t,e){return ut.call(t,e)}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(t){ot.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function a(t,e){var i=!0;return f(function(){return i&&(o(t),i=!1),e.apply(this,arguments)},e)}function r(t,e){Ut[t]||(o(e),Ut[t]=!0)}function l(t,e){return function(i){return g(t.call(this,i),e)}}function u(t,e){return function(i){return this.localeData().ordinal(t.call(this,i),e)}}function d(t,e){var i,n,s=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(s,"months");return 0>e-o?(i=t.clone().add(s-1,"months"),n=(e-o)/(o-i)):(i=t.clone().add(s+1,"months"),n=(e-o)/(i-o)),-(s+n)}function c(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function h(){}function p(t,e){e!==!1&&M(t),m(this,t),this._d=new Date(+t._d)}function f(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var i,n,s;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),_t.length>0)for(i in _t)n=_t[i],s=e[n],"undefined"!=typeof s&&(t[n]=s);return t}function v(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t,e,i){for(var n=""+Math.abs(t),s=t>=0;n.length<e;)n="0"+n;return(s?i?"+":"":"-")+n}function _(t,e){return function(i,n){var s;return null===n||isNaN(+n)||(r(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,C(this,i,n,t),this}}function C(t,e,i,n){"millisecond"==b(i)?t._d.setTime(+t._d+e*n):"second"==b(i)?t._d.setTime(+t._d+1e3*e*n):"minute"==b(i)?t._d.setTime(+t._d+6e4*e*n):"hour"==b(i)?t._d.setTime(+t._d+36e5*e*n):"day"==b(i)?it(t,"Date",et(t,"Date")+e*n):"week"==b(i)?it(t,"Date",et(t,"Date")+7*e*n):"month"==b(i)?tt(t,et(t,"Month")+e*n):"year"==b(i)&&tt(t,et(t,"Month")+12*e*n)}function y(t,e,i){var n,s=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(n=0;s>n;n++)(i&&t[n]!==e[n]||!i&&S(t[n])!==S(e[n]))&&a++;return a+o}function b(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=Ft[t]||e}return t}function w(t){var e,i,s={};for(i in t)n(t,i)&&(e=b(i),e&&(s[e]=t[i]));return s}function k(e){var i,n;if(0===e.indexOf("week"))i=7,n="day";else{if(0!==e.indexOf("month"))return;i=12,n="month"}ot[e]=function(s,o){var a,r,l=ot._locale[e],u=[];if("number"==typeof s&&(o=s,s=t),r=function(t){var e=ot().utc().set(n,t);return l.call(ot._locale,e,s||"")},null!=o)return r(o);for(a=0;i>a;a++)u.push(r(a));return u}}function S(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function x(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function M(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[ct]<0||t._a[ct]>11?ct:t._a[ht]<1||t._a[ht]>x(t._a[dt],t._a[ct])?ht:t._a[pt]<0||t._a[pt]>24||24===t._a[pt]&&(0!==t._a[ft]||0!==t._a[mt]||0!==t._a[vt])?pt:t._a[ft]<0||t._a[ft]>59?ft:t._a[mt]<0||t._a[mt]>59?mt:t._a[vt]<0||t._a[vt]>999?vt:-1,t._pf._overflowDayOfYear&&(dt>e||e>ht)&&(e=ht),t._pf.overflow=e)}function D(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function E(t){return t?t.toLowerCase().replace("_","-"):t}function T(t){for(var e,i,n,s,o=0;o<t.length;){for(s=E(t[o]).split("-"),e=s.length,i=E(t[o+1]),i=i?i.split("-"):null;e>0;){if(n=A(s.slice(0,e).join("-")))return n;if(i&&i.length>=e&&y(s,i,!0)>=e-1)break;e--}o++}return null}function A(t){return gt[t]}function R(t,i){var n,s;return i._isUTC?(n=i.clone(),s=(ot.isMoment(t)||e.isDate(t)?+t:+ot(t))-+n,n._d.setTime(+n._d+s),n):ot(t).local()}function I(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function L(t){var e,i,n=t.match(Ct);for(e=0,i=n.length;i>e;e++)Bt[n[e]]?n[e]=Bt[n[e]]:n[e]=I(n[e]);return function(s){var o="";for(e=0;i>e;e++)o+=n[e]instanceof Function?n[e].call(s,t):n[e];return o}}function O(t,e){return t.isValid()?(e=N(e,t.localeData()),Ht[e]||(Ht[e]=L(e)),Ht[e](t)):t.localeData().invalidDate()}function N(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(yt.lastIndex=0;n>=0&&yt.test(t);)t=t.replace(yt,i),yt.lastIndex=0,n-=1;return t}function F(t,e){var i,n=e._strict;switch(t){case"Q":return Dt;case"YYYY":return n?Tt:wt;case"Y":case"G":case"g":return At;case"S":if(n)return Dt;break;case"SS":if(n)return Et;break;case"MMM":case"MMMM":case"dd":return parseTokenWord;case"a":case"A":return e._locale._meridiemParse;case"x":return xt;case"X":return Mt;case"Z":case"ZZ":return kt;case"T":return St;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Et:bt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return bt;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return i=new RegExp(j(Y(t.replace("\\",""))))}}function H(t){t=t||"";var e=t.match(kt)||[],i=e[e.length-1]||[],n=(i+"").match(Nt)||["-",0,0],s=+(60*n[1])+S(n[2]);
return"+"===n[0]?s:-s}function P(t,e,i){var n,s=i._a;switch(t){case"M":case"MM":null!=e&&(s[ct]=S(e)-1);break;case"MMM":case"MMMM":n=i._locale.monthsParse(e,t,i._strict),null!=n?s[ct]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(s[ht]=S(e));break;case"Do":null!=e&&(s[ht]=S(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"YY":s[dt]=S(e)+(S(e)>68?1900:2e3);break;case"YYYY":s[dt]=S(e);break;case"a":case"A":i._meridiem=e;break;case"h":case"hh":i._pf.bigHour=!0;break;case"H":case"HH":s[pt]=S(e);break;case"m":case"mm":s[ft]=S(e);break;case"s":case"ss":s[mt]=S(e);break;case"S":case"SS":case"x":i._d=new Date(S(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=H(e);break;case"dd":case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1)}}function $(t){var e,n,s,o,a=[];if(!t._d){for(s=U(t),t._w&&null==t._a[ht]&&null==t._a[ct]&&dayOfYearFromWeekInfo(t),t._dayOfYear&&(o=i(t._a[dt],s[dt]),t._dayOfYear>daysInYear(o)&&(t._pf._overflowDayOfYear=!0),n=Z(o,0,t._dayOfYear),t._a[ct]=n.getUTCMonth(),t._a[ht]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=a[e]=s[e];for(;7>e;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[pt]&&0===t._a[ft]&&0===t._a[mt]&&0===t._a[vt]&&(t._nextDay=!0,t._a[pt]=0),t._d=(t._useUTC?Z:K).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[pt]=24)}}function B(t){var e;t._d||(e=w(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],$(t))}function U(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function q(e){if(e._f===ot.ISO_8601)return void V(e);e._a=[],e._pf.empty=!0;var i,n,s,o,a,r=""+e._i,l=r.length,u=0;for(s=N(e._f,e._locale).match(Ct)||[],i=0;i<s.length;i++)o=s[i],n=(r.match(F(o,e))||[])[0],n&&(a=r.substr(0,r.indexOf(n)),a.length>0&&e._pf.unusedInput.push(a),r=r.slice(r.indexOf(n)+n.length),u+=n.length),Bt[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),P(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=l-u,r.length>0&&e._pf.unusedInput.push(r),e._pf.bigHour===!0&&e._a[pt]<=12&&(e._pf.bigHour=t),e._a[pt]=c(e._locale,e._a[pt],e._meridiem),$(e),M(e)}function Y(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s})}function j(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(t){var e,i,n,o,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=s(),e._f=t._f[o],q(e),D(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==n||n>a)&&(n=a,i=e));f(t,i||e)}function V(t){var e,i,n=t._i,s=Rt.exec(n);if(s){for(t._pf.iso=!0,e=0,i=Lt.length;i>e;e++)if(Lt[e][1].exec(n)){t._f=Lt[e][0]+(s[6]||" ");break}for(e=0,i=Ot.length;i>e;e++)if(Ot[e][1].exec(n)){t._f+=Ot[e][0];break}n.match(kt)&&(t._f+="Z"),q(t)}else t._isValid=!1}function z(t){V(t),t._isValid===!1&&(delete t._isValid,ot.createFromInputFallback(t))}function G(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i]));return n}function X(i){var n=i._i;n===t?i._d=new Date:e.isDate(n)?i._d=new Date(+n):"string"==typeof n?z(i):e.isArray(n)?(i._a=G(n.slice(0),function(t){return parseInt(t,10)}),$(i)):"object"==typeof n?B(i):"number"==typeof n?i._d=new Date(n):ot.createFromInputFallback(i)}function K(t,e,i,n,s,o,a){var r=new Date(t,e,i,n,s,o,a);return 1970>t&&r.setFullYear(t),r}function Z(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function J(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Q(i){var n,s=i._i,o=i._f;return i._locale=i._locale||ot.localeData(i._l),null===s||o===t&&""===s?ot.invalid({nullInput:!0}):("string"==typeof s&&(i._i=s=i._locale.preparse(s)),ot.isMoment(s)?new p(s,!0):(o?e.isArray(o)?W(i):q(i):X(i),n=new p(i),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function tt(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),x(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function et(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function it(t,e,i){return"Month"===e?tt(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function nt(t,e){return function(e){return null!=e?(it(this,t,e),this):et(this,t)}}function st(t){lt=window,"undefined"==typeof ender&&(at=lt.moment,t?lt.moment=a("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ot):lt.moment=ot)}for(var ot,at,rt,lt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,ut=Object.prototype.hasOwnProperty,dt=0,ct=1,ht=2,pt=3,ft=4,mt=5,vt=6,gt={},_t=[],Ct=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYY|YY|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bt=/\d\d?/,wt=/\d{1,4}/,kt=/Z|[\+\-]\d\d:?\d\d/gi,St=/T/i,xt=/[\+\-]?\d+/,Mt=/[\+\-]?\d+(\.\d{1,3})?/,Dt=/\d/,Et=/\d\d/,Tt=/\d{4}/,At=/[+-]?\d+/,Rt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,It="YYYY-MM-DDTHH:mm:ssZ",Lt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ot=[["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Nt=/([\+\-]|\d\d)/gi,Ft={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",M:"month",y:"year",e:"weekday"},Ht={},Pt="DDD w W M D d".split(" "),$t="M D H h m s w W".split(" "),Bt={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},w:function(){return this.week()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},e:function(){return this.weekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return g(S(this.milliseconds()/10),2)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+g(S(t/60),2)+":"+g(S(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+g(S(t/60),2)+g(S(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()}},Ut={},qt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Pt.length;)rt=Pt.pop(),Bt[rt+"o"]=u(Bt[rt],rt);for(;$t.length;)rt=$t.pop(),Bt[rt+rt]=l(Bt[rt],2);for(Bt.DDDD=l(Bt.DDD,3),f(h.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var n,s,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(s=ot.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=ot([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.apply(e,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(t,e,i,n):s.replace(/%d/i,t)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return weekOfYear(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"",invalidDate:function(){return this._invalidDate}}),ot=function(e,i,n,o){var a;return"boolean"==typeof n&&(o=n,n=t),a={},a._isAMomentObject=!0,a._i=e,a._f=i,a._l=n,a._strict=o,a._isUTC=!1,a._pf=s(),Q(a)},ot.suppressDeprecationWarnings=!1,ot.createFromInputFallback=a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),ot.utc=function(e,i,n,o){var a;return"boolean"==typeof n&&(o=n,n=t),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=n,a._i=e,a._f=i,a._strict=o,a._pf=s(),Q(a).utc()},ot.unix=function(t){return ot(1e3*t)},ot.defaultFormat=It,ot.ISO_8601=function(){},ot.momentProperties=_t,ot.lang=a("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return ot.locale(t,e)}),ot.locale=function(t,e){var i;return t&&(i="undefined"!=typeof e?ot.defineLocale(t,e):ot.localeData(t),i&&(ot._locale=i)),ot._locale._abbr},ot.defineLocale=function(t,e){return null!==e?(e.abbr=t,gt[t]||(gt[t]=new h),gt[t].set(e),ot.locale(t),gt[t]):(delete gt[t],null)},ot.langData=a("moment.langData is deprecated. Use moment.localeData instead.",function(t){return ot.localeData(t)}),ot.localeData=function(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ot._locale;if(!e.isArray(t)){if(i=A(t))return i;t=[t]}return T(t)},ot.isMoment=function(t){return t instanceof p||null!=t&&n(t,"_isAMomentObject")},rt=qt.length-1;rt>=0;--rt)k(qt[rt]);ot.normalizeUnits=function(t){return b(t)},ot.invalid=function(t){var e=ot.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},ot.parseZone=function(){return ot.apply(null,arguments).parseZone()},f(ot.fn=p.prototype,{clone:function(){return ot(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=ot(this).utc();return"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():O(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return D(this)},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=O(this,t||ot.defaultFormat);return this.localeData().postformat(e)},add:_(1,"add"),subtract:_(-1,"subtract"),diff:function(t,e,i){var n,s,o=R(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=b(e),"year"===e||"month"===e?(s=d(this,o),"year"===e&&(s/=12)):(n=this-o,s="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-a)/864e5:"week"===e?(n-a)/6048e5:n),i?s:v(s)},calendar:function(t){var e=t||ot(),i=R(e,this).startOf("day"),n=this.diff(i,"days",!0),s=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this,ot(e)))},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=J(t,this.localeData()),this.add(t-e,"d")):e},month:nt("Month",!0),startOf:function(t){switch(t=b(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(e){return e=b(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,e).subtract(1,"ms")},isAfter:function(t,e){var i;return e=b("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=ot.isMoment(t)?t:ot(t),+this>+t):(i=ot.isMoment(t)?+t:+ot(t),i<+this.clone().startOf(e))},isBefore:function(t,e){var i;return e=b("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=ot.isMoment(t)?t:ot(t),+t>+this):(i=ot.isMoment(t)?+t:+ot(t),+this.clone().endOf(e)<i)},isBetween:function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},isSame:function(t,e){var i;return e=b(e||"millisecond"),"millisecond"===e?(t=ot.isMoment(t)?t:ot(t),+this===+t):(i=+ot(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=ot.apply(null,arguments),this>t?this:t}),max:a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=ot.apply(null,arguments),t>this?this:t}),zone:a("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var i,n=this._offset||0;return null!=t?("string"==typeof t&&(t=H(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?C(this,t-n,"m",!1):this._changeInProgress||(this._changeInProgress=!0,this._changeInProgress=null)),this):this._isUTC?n:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(H(this._i)),this},daysInMonth:function(){return x(this.year(),this.month())},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},get:function(t){return t=b(t),this[t]()},set:function(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else t=b(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var i;return e===t?this._locale._abbr:(i=ot.localeData(e),null!=i&&(this._locale=i),this)},lang:a("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),ot.fn.millisecond=ot.fn.milliseconds=nt("Milliseconds",!1),ot.fn.second=ot.fn.seconds=nt("Seconds",!1),ot.fn.minute=ot.fn.minutes=nt("Minutes",!1),ot.fn.hour=ot.fn.hours=nt("Hours",!0),ot.fn.date=nt("Date",!0),ot.fn.dates=a("dates accessor is deprecated. Use date instead.",nt("Date",!0)),ot.fn.year=nt("FullYear",!0),ot.fn.years=a("years accessor is deprecated. Use year instead.",nt("FullYear",!0)),ot.fn.days=ot.fn.day,ot.fn.months=ot.fn.month,ot.fn.weeks=ot.fn.week,ot.fn.toJSON=ot.fn.toISOString,ot.fn.isUTC=ot.fn.isUtc,ot.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),function(t){t(ot)}(function(t){return t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,i){return 12>t?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(t){t(ot)}(function(t){return t.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"下午"===e||"晚上"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return 600>n?"凌晨":900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var e,i;return e=t().startOf("week"),i=this.unix()-e.unix()>=604800?"[下]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},lastWeek:function(){var e,i;return e=t().startOf("week"),i=this.unix()<e.unix()?"[上]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),ot.locale("en"),st()}.call(this,void 0,$),+function(t,e){"use strict";if("function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var i=e,n=0,s=this.length;if("undefined"==typeof e&&(i=this[0],n=1),"function"==typeof t)for(n;s>n;n++)this.hasOwnProperty(n)&&(i=t(i,this[n],n,this));return i}),t.app)return t.fn.datetimepicker=function(e){var i,n,s,o,a,e=e?e:{};t(this).data("create")||(t(this).data("create",!0),i=t(this).find("input").val(),i?i=t.getPickerArray(i):(n=new Date,i=[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()<10?"0"+n.getHours():n.getHours(),n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes()]),a=e.picker_type?e.picker_type:"datetime","datetime"==a?(s=function(t,e,i){return e[0]+"-"+e[1]+"-"+e[2]+" "+e[3]+":"+e[4]},o=[{values:function(){for(var t=[],e=1950;2030>=e;e++)t.push(e);return t}(),textAlign:"left",width:100},{divider:!0,content:"-"},{values:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),textAlign:"left"},{divider:!0,content:"-"},{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],textAlign:"left"},{divider:!0,content:"  "},{values:function(){for(var t=[],e=0;23>=e;e++)t.push(10>e?"0"+e:e);return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;59>=e;e++)t.push(10>e?"0"+e:e);return t}()}]):(s=function(t,e,i){return e[0]+"-"+e[1]+"-"+e[2]},o=[{values:function(){for(var t=[],e=1950;2030>=e;e++)t.push(e);return t}(),textAlign:"left",width:100},{divider:!0,content:"-"},{values:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),textAlign:"left"},{divider:!0,content:"-"},{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],textAlign:"left"}]),t(this).addClass("moblie_input").find("input").attr("readonly","readonly"),t("#picker-date-container").html(""),t.app.picker_mobile({input:this,convertToPopover:!1,cssClass:e.cssClass,toolbar:!0,refer:e.refer,rotateEffect:!0,value:i,formatValue:s,cols:o,pickerType:a}))},void t("[data-provide='datetimepicker']").each(function(e,i){t(i).datetimepicker()});if(!e)throw new Error("datetimepicker requires Moment.js to be loaded first");var i="input,div[contenteditable=true]",n=function(n,s){var o,a,r,l,u,d={},c=e().startOf("d"),h=c.clone(),p=!0,f=!1,m=!1,v=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10}],_=["days","months","years"],C=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==r.indexOf("Y");case"M":return-1!==r.indexOf("M");case"d":return-1!==r.toLowerCase().indexOf("d");case"h":case"H":return-1!==r.toLowerCase().indexOf("h");case"m":return-1!==r.indexOf("m");case"s":return-1!==r.indexOf("s");default:return!1}},y=function(){return C("h")||C("m")||C("s")},b=function(){return C("y")||C("M")||C("d")},w=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(s.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan","5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(s.icons.next)))),i=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan","7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone()))]},k=function(){var e=t("<tr>"),i=t("<tr>"),n=t("<tr>");return C("h")&&(e.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr("data-time-component","hours").attr("data-action","showHours"))),n.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(s.icons.down))))),C("m")&&(C("h")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),n.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr("data-time-component","minutes").attr("data-action","showMinutes"))),n.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(s.icons.down))))),C("s")&&(C("m")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),n.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr("data-time-component","seconds").attr("data-action","showSeconds"))),n.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(s.icons.down))))),a||(e.append(t("<td>").addClass("separator")),i.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr("data-action","togglePeriod"))),n.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,i,n]))},S=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),s=[k()];return C("h")&&s.push(e),C("m")&&s.push(i),C("s")&&s.push(n),s},x=function(){var e=[];return s.showTodayButton&&e.push(t("<td>").append(t("<a>").attr("data-action","today").attr("title","当前时间").append(t("<span>").addClass(s.icons.today)))),!s.sideBySide&&b()&&y()&&e.push(t("<td>").append(t("<a>").attr("data-action","togglePicker").attr("title","时间选择").append(t("<span>").addClass(s.icons.time)))),s.showClear&&e.push(t("<td>").append(t("<a>").attr("data-action","clear").attr("title","清除当前选择").append(t("<span>").addClass(s.icons.clear)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},M=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=t("<div>").addClass("datepicker").append(w()),n=t("<div>").addClass("timepicker").append(S()),o=t("<ul>").addClass("list-unstyled"),r=t("<li>").addClass("picker-switch accordion-toggle").append(x());return a&&e.addClass("usetwentyfour"),s.sideBySide&&b()&&y()?(e.addClass("timepicker-sbs"),e.append(t("<div>").addClass("row").append(i.addClass("col-sm-6")).append(n.addClass("col-sm-6"))),e.append(r),e):(b()&&o.append(t("<li>").addClass(y()?"collapse in":"").append(i)),o.append(r),y()&&o.append(t("<li>").addClass(b()?"collapse":"").append(n)),e.append(o))},D=function(){var e,o={};return e=n.is(i)?n.data():n.find(i).data(),e.dateOptions&&e.dateOptions instanceof Object&&(o=t.extend(!0,o,e.dateOptions)),t.each(s,function(t){var i="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[i]&&(o[t]=e[i])}),o},E=function(){var e,o=(f||n).position(),a=(f||n).offset(),r="auto",l="auto";if(s.widgetParent?e=s.widgetParent.append(m):n.is(i)?e=n.parent().append(m):(e=n,n.children().first().after(m)),r=a.top+1.5*m.height()>=t(window).height()+t(window).scrollTop()&&m.height()+n.outerHeight()<a.top?"top":"bottom",l=e.width()<a.left+m.outerWidth()/2&&a.left+m.outerWidth()>t(window).width()?"right":"left","top"===r?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===l?m.addClass("pull-right"):m.removeClass("pull-right"),"relative"!==e.css("position")&&"BODY"!==e[0].nodeName&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first(),0===e.length&&(e=t("body"))),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");m.css({top:"top"===r?"auto":o.top+n.outerHeight(),bottom:"top"===r?o.top+n.outerHeight():"auto",left:"left"===l?e.css("padding-left"):"auto",right:"left"===l?"auto":e.width()-n.outerWidth()}),s.widgetParent&&("top"===r?m.css({top:n.offset().top-m.outerHeight(),left:n.offset().left,bottom:"auto",right:"auto"}):m.css({top:n.offset().top+n.outerHeight(),left:n.offset().left,bottom:"auto",right:"auto"}))},T=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},A=function(t){m&&(t&&(u=Math.max(v,Math.min(2,u+t))),m.find(".datepicker > div").hide().filter(".datepicker-"+g[u].clsName).show())},R=function(){for(var e=t("<tr>"),i=h.clone().startOf("w").subtract(1,"d");i.isBefore(h.clone().endOf("w").subtract(1,"d"));)e.append(t("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");m.find(".datepicker-days thead").append(e)},I=function(t,e){return t.isValid()?s.minDate&&t.isBefore(s.minDate,e)?!1:!s.maxDate||!t.isAfter(s.maxDate,e):!1},L=function(){for(var e=[],i=h.clone().startOf("y").hour(12);i.isSame(h,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");m.find(".datepicker-months td").empty().append(e)},O=function(){var e=m.find(".datepicker-months"),i=e.find("th"),n=e.find("tbody").find("span");e.find(".disabled").removeClass("disabled"),I(h.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(h.year()),I(h.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),n.removeClass("active"),c.isSame(h,"y")&&n.eq(c.month()).addClass("active"),n.each(function(e){I(h.clone().month(e),"M")||t(this).addClass("disabled")})},N=function(){var t=m.find(".datepicker-years"),e=t.find("th"),i=h.clone().subtract(5,"y"),n=h.clone().add(6,"y"),o="";for(t.find(".disabled").removeClass("disabled"),s.minDate&&s.minDate.isAfter(i,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(i.year()+"-"+n.year()),s.maxDate&&s.maxDate.isBefore(n,"y")&&e.eq(2).addClass("disabled");!i.isAfter(n,"y");)o+='<span data-action="selectYear" class="year'+(i.isSame(c,"y")?" active":"")+(I(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");t.find("td").html(o)},F=function(){var i,n,s,o,a=m.find(".datepicker-days"),r=a.find("th"),l=[];if(b()){for(a.find(".disabled").removeClass("disabled"),r.eq(1).text(h.format("YYYY MMMM")),I(h.clone().subtract(1,"M"),"M")||r.eq(0).addClass("disabled"),I(h.clone().add(1,"M"),"M")||r.eq(2).addClass("disabled"),i=h.clone().startOf("M").startOf("week").subtract(1,"day"),6==h.clone().startOf("M").weekday()&&(i=h.clone().startOf("M")),n=h.clone().endOf("M").endOf("w").subtract(1,"day"),6==h.clone().endOf("M").weekday()&&(n=n.add(1,"w"));!n.isBefore(i,"d");)6===i.weekday()&&(s=t("<tr>"),l.push(s)),o="",i.isBefore(h,"M")&&(o+=" old"),i.isAfter(h,"M")&&(o+=" new"),i.isSame(c,"d")&&!p&&(o+=" active"),I(i,"d")||(o+=" disabled"),i.isSame(e(),"d")&&(o+=" today"),0!==i.day()&&6!==i.day()||(o+=" weekend"),s.append('<td data-action="selectDay" class="day'+o+'">'+i.date()+"</td>"),i.add(1,"d");a.find("tbody").empty().append(l),O(),N()}},H=function(){var e=m.find(".timepicker-hours table"),i=h.clone().startOf("d"),n=[],s=t("<tr>");
for(h.hour()>11&&!a&&i.hour(12);i.isSame(h,"d")&&(a||h.hour()<12&&i.hour()<12||h.hour()>11);)i.hour()%4===0&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectHour" class="hour'+(I(i,"h")?"":" disabled")+'">'+i.format(a?"HH":"hh")+"</td>"),i.add(1,"h");e.empty().append(n)},P=function(){for(var e=m.find(".timepicker-minutes table"),i=h.clone().startOf("h"),n=[],s=t("<tr>"),o=5;h.isSame(i,"h");)i.minute()%(4*o)===0&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectMinute" class="minute'+(I(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(o,"m");e.empty().append(n)},$=function(){for(var e=m.find(".timepicker-seconds table"),i=h.clone().startOf("m"),n=[],s=t("<tr>");h.isSame(i,"m");)i.second()%20===0&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectSecond" class="second'+(I(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");e.empty().append(n)},B=function(){var t=m.find(".timepicker span[data-time-component]");a||m.find(".timepicker [data-action=togglePeriod]").text(c.format("A")),t.filter("[data-time-component=hours]").text(c.format(a?"HH":"hh")),t.filter("[data-time-component=minutes]").text(c.format("mm")),t.filter("[data-time-component=seconds]").text(c.format("ss")),H(),P(),$()},U=function(){m&&(F(),B())},q=function(t){var e=p?null:c;return t?(t=t.clone().locale(s.locale),void(I(t)?(c=t,h=c.clone(),et(o,c.format(r)),n.data("date",c.format(r)),U(),p=!1,T({type:"dp.change",date:c.clone(),oldDate:e})):(et(o,p?"":c.format(r)),T({type:"dp.error",date:t})))):(p=!0,et(o,""),n.data("date",""),T({type:"dp.change",date:null,oldDate:e}),void U())},Y=function(){var e=!1;return o.trigger("change.date"),m?(m.find(".collapse").each(function(){var i=t(this).data("collapse");return i&&i.transitioning?(e=!0,!1):!0}),e?d:(f&&f.hasClass("btn")&&f.toggleClass("active"),m.hide(),t(window).off("resize",E),m.off("mousedown","[data-action]"),m.off("mouseenter"),m.off("mouseleave"),m.remove(),m=!1,T({type:"dp.hide",date:c.clone()}),d)):d},j=function(){q(null)},W={next:function(){h.add(g[u].navStep,g[u].navFnc),F()},previous:function(){h.subtract(g[u].navStep,g[u].navFnc),F()},pickerSwitch:function(){A(1)},selectMonth:function(e){var i=t(e.target).closest("tbody").find("span").index(t(e.target));h.month(i),u===v?(q(c.clone().year(h.year()).month(h.month())),Y()):(A(-1),F())},selectYear:function(e){var i=parseInt(t(e.target).text(),10)||0;h.year(i),u===v?(q(c.clone().year(h.year())),Y()):(A(-1),F())},selectDay:function(e){var i=h.clone();t(e.target).is(".old")&&i.subtract(1,"M"),t(e.target).is(".new")&&i.add(1,"M"),q(i.date(parseInt(t(e.target).text(),10))),o.blur(),Y()},incrementHours:function(){q(c.clone().add(1,"h"))},incrementMinutes:function(){q(c.clone().add(1,"m"))},incrementSeconds:function(){q(c.clone().add(1,"s"))},decrementHours:function(){q(c.clone().subtract(1,"h"))},decrementMinutes:function(){q(c.clone().subtract(1,"m"))},decrementSeconds:function(){q(c.clone().subtract(1,"s"))},togglePeriod:function(){q(c.clone().add(c.hours()>=12?-12:12,"h"))},togglePicker:function(e){var i,n=t(e.target),o=n.closest("ul"),a=o.find(".in"),r=o.find(".collapse:not(.in)");if(a&&a.length){if(i=a.data("collapse"),i&&i.transitioning)return;a.collapse?(a.collapse("hide"),r.collapse("show")):(a.removeClass("in"),r.addClass("in")),n.is("span")?n.toggleClass(s.icons.time+" "+s.icons.date):n.find("span").toggleClass(s.icons.time+" "+s.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var i=parseInt(t(e.target).text(),10);a||(c.hours()>=12?12!==i&&(i+=12):12===i&&(i=0)),q(c.clone().hours(i)),W.showPicker.call(d)},selectMinute:function(e){q(c.clone().minutes(parseInt(t(e.target).text(),10))),W.showPicker.call(d)},selectSecond:function(e){q(c.clone().seconds(parseInt(t(e.target).text(),10))),W.showPicker.call(d)},clear:j,today:function(){q(e())},close:Y},V=function(e){return t(e.currentTarget).is(".disabled")?!1:(W[t(e.currentTarget).data("action")].apply(d,arguments),!1)},z=function(){return o.prop("disabled")||!s.ignoreReadonly&&o.prop("readonly")||0==o.prop("contenteditable")||m||o.closest("fieldset").prop("disabled")?d:(p&&o.is(i)&&0===tt(o).trim().length,m=M(),R(),L(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),U(),A(),t(window).on("resize",E),m.on("mousedown","[data-action]",V),m.on("mouseenter",function(){o.off("blur.picker")}),m.on("mouseleave",function(){o.focus().on("blur.picker",Y)}),f&&f.hasClass("btn")&&f.toggleClass("active"),m.show(),E(),o.is(":focus")||o.focus(),T({type:"dp.show"}),d)},G=function(){return m?Y():z()},X=function(t){return t=e.isMoment(t)||t instanceof Date?e(t):e(t,l),t.locale(s.locale),t},K=function(e){var i=tt(t(e.target)).trim(),n=i?X(i):null;return q(n),e.stopImmediatePropagation(),!1},Z=function(){o.on({change:K,"blur.picker":Y}),o.on({focus:z}),f&&(f.on("click",G),f.on("mousedown",!1))},J=function(){o.off({change:K,blur:Y}),o.off({focus:z}),f&&(f.off("click",G),f.off("mousedown",!1))},Q=function(){var t=s.format||"L LT";r=s.format||"YYYY-M-D  HH:mm",l=s.extraFormats?s.extraFormats.slice():[],l.indexOf(t)<0&&l.indexOf(r)<0&&l.push(r),a=r.toLowerCase().indexOf("a")<1&&r.indexOf("h")<1,C("y")&&(v=2),C("M")&&(v=1),C("d")&&(v=0),u=Math.max(v,u),p||q(c)},tt=function(t){var e;if(t.is("input"))e=t.val();else{if(!t.is("div[contenteditable=true]"))throw new Error("Must be a input or contenteditable div");e=t.html()}return e},et=function(t,e){if(t.is("input"))t.val(e);else{if(!t.is("div[contenteditable=true]"))throw new Error("Must be a input or contenteditable div");t[0].value=e}};if(d.destroy=function(){Y(),J(),n.removeData("DateTimePicker"),n.removeData("date")},d.toggle=G,d.show=z,d.hide=Y,d.ignoreReadonly=function(t){if(0===arguments.length)return s.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return s.ignoreReadonly=t,d},d.options=function(e){if(0===arguments.length)return t.extend(!0,{},s);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,s,e),t.each(s,function(t,e){void 0!==d[t]&&d[t](e)}),d},d.getLong=function(){return c.valueOf()},d.date=function(t){if(0===arguments.length)return p?null:c.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date)){if(t=parseFloat(t),isNaN(t))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");t=new Date(t)}return q(null===t?null:X(t)),""==t&&q(""),d},d.format=function(t){if(0===arguments.length)return s.format;if("string"!=typeof t&&("boolean"!=typeof t||t!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return s.format=t,r&&Q(),d},d.extraFormats=function(t){if(0===arguments.length)return s.extraFormats;if(t!==!1&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return s.extraFormats=t,l&&Q(),d},d.maxDate=function(t){if(0===arguments.length)return s.maxDate?s.maxDate.clone():s.maxDate;if("boolean"==typeof t&&t===!1)return s.maxDate=!1,U(),d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=e()));var i=X(t);if(!i.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(s.minDate&&i.isBefore(s.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+i.format(r));return s.maxDate=i,s.maxDate.isBefore(t)&&q(s.maxDate),h.isAfter(i)&&(h=i.clone()),U(),d},d.minDate=function(t){if(0===arguments.length)return s.minDate?s.minDate.clone():s.minDate;if("boolean"==typeof t&&t===!1)return s.minDate=!1,U(),d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=e()));var i=X(t);if(!i.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(s.maxDate&&i.isAfter(s.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+i.format(r));return s.minDate=i,s.minDate.isAfter(t)&&q(s.minDate),h.isBefore(i)&&(h=i.clone()),U(),d},d.defaultDate=function(t){if(0===arguments.length)return s.defaultDate?s.defaultDate.clone():s.defaultDate;if(!t)return s.defaultDate=!1,d;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=e()));var i=X(t);if(!i.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!I(i))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return s.defaultDate=i,s.defaultDate&&""===tt(o).trim()&&void 0===o.attr("placeholder")&&q(s.defaultDate),d},d.locale=function(t){if(0===arguments.length)return s.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return s.locale=t,c.locale(s.locale),h.locale(s.locale),r&&Q(),m&&(Y(),z()),d},d.sideBySide=function(t){if(0===arguments.length)return s.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return s.sideBySide=t,m&&(Y(),z()),d},d.viewMode=function(t){if(0===arguments.length)return s.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===_.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+_.join(", ")+") value");return s.viewMode=t,u=Math.max(_.indexOf(t),v),A(),d},d.showTodayButton=function(t){if(0===arguments.length)return s.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return s.showTodayButton=t,m&&(Y(),z()),d},d.showClear=function(t){if(0===arguments.length)return s.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return s.showClear=t,m&&(Y(),z()),d},d.clear=function(){return j(),d},o=n.is(i)?n:n.find(i),n.hasClass("input-group")&&(f=0===n.find(".datepickerbutton").size()?n.find('[class^="input-group-"]'):n.find(".datepickerbutton")),!o.is(i))throw new Error("Could not initialize DateTimePicker without an input element");return t.extend(!0,s,D()),d.options(s),Q(),Z(),o.is(i)&&0!==tt(o).trim().length?q(X(tt(o).trim())):s.defaultDate&&void 0===o.attr("placeholder")&&q(s.defaultDate),d};t.fn.datetimepicker=function(e){return this.each(function(){var i=t(this);i.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),i.data("DateTimePicker",n(i,e)))})},t.fn.datetimepicker.defaults={format:!1,extraFormats:!1,minDate:!1,maxDate:!1,locale:e.locale("zh-cn"),defaultDate:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash"},sideBySide:!1,viewMode:"days",showTodayButton:!0,showClear:!0,ignoreReadonly:!1},t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var i=t(this);if(!i.data("DateTimePicker")){e.preventDefault();var n=JSON.parse(i.attr("data-options")||null);i.datetimepicker(n||{}),i.data("DateTimePicker").show(),i.on("dp.change",function(){t(this).find("input").trigger("change")})}})}($,moment),+function(t,e){"use strict";function i(t){this.precision=t}function n(t){this.pattern=t}i.prototype.update=function(t){this.precision=t},i.prototype.format=function(e){if(!t.isNumeric(e))return"";for(;"0"==(e+"").charAt(0)&&e.length>1;)e=e.substring(1);var i=e;if(t.isNumeric(this.precision)){if(window.BigNumber)i=new BigNumber(e).toFixed(this.precision);else{var n=parseFloat(e);i=(Math.round(n*Math.pow(10,this.precision))/Math.pow(10,this.precision)).toFixed(this.precision)}if("NaN"==i)return""}return i},n.prototype.update=function(t){this.pattern=t},n.prototype.format=function(t){return e(t).format(this.pattern)},window.DataPlugins=window.DataPlugins?window.DataPlugins:{},window.DataPlugins.formater={getter:function(t){},setter:function(e,s){var o=JSON.parse(t(this).attr("data-plugin")),a=window.DataPlugins.formater[e.type];"number"==e.type?a=a?a.update(o.formater.precision):new i(o.formater.precision):"date"==e.type&&(a=a?a.update(o.formater.pattern):new n(o.formater.pattern)),this.showValue=a.format(s),this.trueValue=this.showValue}},t.NumberFormater=i,t.DateFormater=n}($,moment),+function(t){"use strict";function e(t){return t.toString().length>1?t.toString():"0"+t.toString()}String.prototype.trim=function(){return this.replace(/^\s*(\b.*\b|)\s*$/,"$1")},String.prototype.replaceStr=function(t,e){var i=this.split(t);return new String(i.join(e))},String.prototype.lengthb=function(){var t=this.replace(/[^\x00-\xff]/g,"**");return t.length},String.prototype.replaceAll=function(t,e){var i=new RegExp(t,"g");return this.replace(i,e)},String.prototype.substrCH=function(t){for(var e=0,i=0;t>e&&i<this.length;){var n=this.charCodeAt(i);if(n>256&&e==t-1)break;e+=n>256?2:1,i+=1}return this.substr(0,i)},String.prototype.startWith=function(t){return 0==this.indexOf(t)},String.prototype.endWith=function(t){var e=this.indexOf(t);return-1==e?void 0:e==this.length-t.length},String.prototype.format=function(t){if(null!=t){var e=this;for(var i in t){var n=new RegExp("\\<\\#\\="+i+"\\#\\>","gi");e=e.replace(n,t[i]?"null"==t[i]?"":t[i]:"")}}return e},Date.prototype.format=function(t){var i=this.getFullYear(),n=this.getMonth()+1,s=this.getDate(),o=this.getHours(),a=this.getMinutes(),r=this.getSeconds();return t=t||"yyyy-MM-dd hh:mm:ss",t.replace(/yyyy/,i).replace(/yy/,i.toString().substr(2,2)).replace(/MM/,e(n)).replace(/M/,n).replace(/dd/,e(s)).replace(/d/,s).replace(/hh/,e(o)).replace(/h/,o).replace(/mm/,e(a)).replace(/m/,a).replace(/ss/,e(r)).replace(/s/,r)},Date.prototype.getAAAAMMJJ=function(){var t=this.getDate();10>t&&(t="0"+t);var e=this.getMonth()+1;10>e&&(e="0"+e);var i=this.getFullYear();return i+""+e+t},Date.prototype.getFomatDate=function(){var t=this.getFullYear(),e=this.getMonth()+1;10>e&&(e="0"+e);var i=this.getDate();return 10>i&&(i="0"+i),t+"-"+e+"-"+i},Date.prototype.getFomatDateTime=function(){var t=this.getFullYear(),e=this.getMonth()+1;10>e&&(e="0"+e);var i=this.getDate();10>i&&(i="0"+i);var n=this.getHours();10>n&&(n="0"+n);var s=this.getMinutes();10>s&&(s="0"+s);var o=this.getSeconds();return 10>o&&(o="0"+o),t+"-"+e+"-"+i+" "+n+":"+s+":"+o},Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){return 0>t||t>this.length?void alert("index out of bound"):void this.splice(t,1)},Array.prototype.removeEle=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return void this.splice(e,1)},Math.UUID=function(){return((new Date).getTime()+"").substr(9)},String.UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},Array.prototype.insert=function(t,e){return 0>t||t>this.length?void alert("index out of bound"):void this.splice(t,0,e)},Array.prototype.values=function(t){if(null==t)return null;for(var e=new Array,i=0;i<t.length;i++)e.push(this[t[i]]);return e},Array.prototype.clear=function(){this.splice(0,this.length)},Number.isNaN=Number.isNaN||function(t){return t!==t},window.getRequest=function(t){t||(t=document.location.search);var e=new Object;if(-1!=t.indexOf("?"))for(var i=t.substring(t.indexOf("?")+1),n=i.split("&"),s=0;s<n.length;s++)e[n[s].split("=")[0]]=unescape(n[s].split("=")[1]);return e},window.setCookie=function(t,e,i,n,s,o){var a=t+"="+encodeURIComponent(e);i&&(a+="; expires="+i.toGMTString()),n&&(a+="; path="+n),s&&(a+="; domain="+s),o&&(a+="; secure="+o),document.cookie=a},window.getCookie=function(t){var e="(?:; )?"+t+"=([^;]*);?",i=new RegExp(e);return i.test(document.cookie)?decodeURIComponent(RegExp.$1):null},window.deleteCookie=function(t,e,i){setCookie(t,"",new Date(0),e,i)},window.execIgnoreError=function(t,e,i){try{t.call(e,i)}catch(n){}},window.encodeBase64=function(t){for(var e,i,n,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=t.length,r="";a>o;){if(e=255&t[o++],o==a){r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4),r+="==";break}if(i=t[o++],o==a){r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4|(240&i)>>4),r+=s.charAt((15&i)<<2),r+="=";break}n=t[o++],r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4|(240&i)>>4),r+=s.charAt((15&i)<<2|(192&n)>>6),r+=s.charAt(63&n)}return r},t.getFunction=function(e,i){if(!i||"function"==typeof i)return i;if("function"==typeof e[i])return e[i];if("function"==typeof window[i])return window[i];if(-1!=i.indexOf(".")){var n=t.getJSObject(e,i);if("function"==typeof n)return n;if(n=t.getJSObject(window,i),"function"==typeof n)return n}return i},t.getJSObject=function(t,e){if(e){if("object"==typeof e)return e;for(var i=e.split("."),n=t,s=0;s<i.length;s++)if(n=n[i[s]],!n)return null;return n}},t.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date},window.getCurrentJsPath=function(){var t=document,e={},i=+new Date,n=/((?:http|https|file):\/\/.*?\/[^:]+)(?::\d+)?:\d+/,s=-1===(""+t.querySelector).indexOf("[native code]");if(t.currentScript)return t.currentScript.src;var o;try{e.b()}catch(a){o=a.fileName||a.sourceURL||a.stack||a.stacktrace}if(o){var r=n.exec(o)[1];if(r)return r}for(var l,u=t.scripts,d=u.length-1;l=u[d--];)if(l.className!==i&&"interactive"===l.readyState)return l.className=i,s?l.getAttribute("src",4):l.src}}($),$.showLoading=u.showLoading,$.hideLoading=u.hideLoading,$.showWaiting=$.showLoading,$.removeWaiting=$.hideLoading,+function(t){"use strict";t.showMessage=function(e){var i=t('<div class="alert alert-'+e.type+' alert-dismissible"></div>'),n=t('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');i.append(n).append(e.msg),i.css({position:"fixed",display:"block"}),e.pos?e.pos.top&&e.pos.left?i.css({top:e.pos.top,left:e.pos.left}):e.pos.top&&e.pos.right?i.css({top:e.pos.top,right:e.pos.right}):e.pos.bottom&&e.pos.left?i.css({bottom:e.pos.bottom,left:e.pos.left}):e.pos.bottom&&e.pos.right?i.css({bottom:e.pos.bottom,right:e.pos.right}):e.pos.top?i.css({left:e.pos.left,top:10}):e.pos.bottom?i.css({bottom:e.pos.bottom,left:10}):e.pos.left?i.css({left:e.pos.left,top:10}):e.pos.right&&i.css({right:e.pos.right,top:10}):i.css({bottom:10,right:10}),i.css("z-index",99),setTimeout(function(){i.fadeOut("slow")},3e3),t(document.body).append(i),n.focus()},t.showMessageDialog=function(e){function i(){var t=n[0].offsetWidth||500,e=n[0].offsetHeight;n.css({margin:"0px",left:((window.innerWidth?window.innerWidth:document.body.clientWidth)-t)/2,top:((window.innerHeight?window.innerHeight:document.body.clientHeight)-e)/2})}if("undefined"!=typeof e.msg&&e.msg){if(e.type)var n=t('<div class="alert alert-'+e.type+' alert-dismissible alert-dialog"></div>');else var n=t('<div class="alert alert-warning alert-dismissible alert-dialog"></div>');var s=t('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');if(e.title)var o=t("<h4>"+e.title+"</h4>");else var o=t("<h4>提示</h4>");e.msg=e.msg.replace(/&lt;br&gt;/g,"<br>");var a,r=t('<div class="alert-content"><p>'+e.msg+"</p></div>");a=t("danger"==e.type||"warning"==e.type?'<div class="alert-dialog-footer"><div class="col-md-4 diag_detail" ></div><div class="col-md-4" ><button type="button" data-role="okbtn" data-dismiss="alert" class="btn btn-danger btn-block">确定</button></div><div class="col-md-4"><button type="button" data-dismiss="alert" data-role="cancelbtn" class="btn btn-default btn-block">取消</button></div></div>':'<div class="alert-dialog-footer"><div class="col-md-4"  ></div><div class="col-md-4 diag_detail" ></div><div class="col-md-4" ><button type="button" data-role="okbtn" data-dismiss="alert" class="btn  btn-block">确定</button></div>'),n.append(s).append(o).append(r).append(a),e.width&&n.css({width:e.width}),e.height&&n.css({height:e.height}),e.detail&&(t(n).find(".diag_detail").append('<button type="button"  class="btn btn-block">详细</button>'),n.on("click",".diag_detail",function(){t(".detail_p").length>0?t(".detail_p").remove():n.append("<p class='detail_p'>"+e.detail+"</p>")})),e.backdrop&&(t(document.body).append('<div class="alert-backdrop" role="alert-dialog-backdrop"></div>'),n.on("close.bs.alert",function(){t('.alert-backdrop[role="alert-dialog-backdrop"]').remove()})),n.find('[data-role="okbtn"]').on("click.alert.ok",e.okfn),e.cancelfn&&"function"==typeof e.cancelfn&&(n.find('[data-role="cancelbtn"]').on("click",e.cancelfn),n.find('[aria-hidden="true"]').on("click",e.cancelfn)),n.css("z-index",e.zIndex||99),t(document.body).append(n),n.find('[data-role="okbtn"]').focus(),i()}},t.removeAlert=function(){var e;(e=t(".alert")).length&&e.remove(),(e=t(".alert-backdrop")).length&&e.remove()}}($);